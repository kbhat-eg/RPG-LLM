             PGM

             DCL        VAR(&OVRF) TYPE(*CHAR) LEN(10)
             DCL        VAR(&STAT) TYPE(*CHAR) LEN(1)
             DCL        VAR(&FILN) TYPE(*CHAR) LEN(64)
             DCL        VAR(&SMSG) TYPE(*CHAR) LEN(1)  VALUE('0')
             DCL        VAR(&t)     TYPE(*CHAR) LEN(20)

             DCL        VAR(&FIRM)           TYPE(*DEC)  LEN(3 0) VALUE(0)

/* Endre XXX i parm til rette filgruppe */
             CALL       PGM(AA728C) PARM('XXX' 'ASP_XXX' &FIRM)

/* Endre XXX her også, AA724C gir ikke alltid riktig filgruppe */
             CHGCURLIB  CURLIB(ADBXXX)

/* Henter XML - filen Enhet                                   */
 crtbrk:     CHGVAR     VAR(&OVRF) VALUE('SLVEVRENH')
             CALL       PGM(AF700C) PARM(&OVRF &STAT &FILN &SMSG)
             IF         COND(&STAT *NE ' ') THEN(GOTO END)
      /* kaller innlesingsprogrammet       */
             CALL       PGM(VV820R)


/* Henter XML - filen Varegruppe                               */
             CHGVAR     VAR(&OVRF) VALUE('SLVEVRVGR')
             CALL       PGM(AF700C) PARM(&OVRF &STAT &FILN &SMSG)
             IF         COND(&STAT *NE ' ') THEN(GOTO END)
      /* kaller innlesingsprogrammet       */
             CALL       PGM(VV820R)

/*  BKV 08082019 - Modul skal ikke importeres                                 */
/*  BOF 10032020 - Modul skal importeres                                 */
/*  BOF 05052020 - Modul skal importeres                                 */
/* Henter XML - filen Modul                                    */
                CHGVAR     VAR(&OVRF) VALUE('SLVEVRMDL')
                CALL       PGM(AF700C) PARM(&OVRF &STAT &FILN &SMSG)
                IF         COND(&STAT *NE ' ') THEN(GOTO END)
         /* kaller innlesingsprogrammet       */
                CALL       PGM(VV820R)

/* Henter XML - filen Vare                                     */
             CHGVAR     VAR(&OVRF) VALUE('SLVEVRVAR')
             CALL       PGM(AF700C) PARM(&OVRF &STAT &FILN &SMSG)
             IF         COND(&STAT *NE ' ') THEN(GOTO END)
      /* kaller innlesingsprogrammet       */
             CALL       PGM(VV820R)

/* Henter XML - filen Pris                                     */
             CHGVAR     VAR(&OVRF) VALUE('SLVEVRPRS')
             CALL       PGM(AF700C) PARM(&OVRF &STAT &FILN &SMSG)
             IF         COND(&STAT *NE ' ') THEN(GOTO END)
      /* kaller innlesingsprogrammet       */
             CALL       PGM(VV820R)

/* Henter XML - filen Kampanje                           */
             CHGVAR     VAR(&OVRF) VALUE('SLVEVRKAM')
             CALL       PGM(AF700C) PARM(&OVRF &STAT &FILN &SMSG)
             IF         COND(&STAT *NE ' ') THEN(GOTO END)
      /* kaller innlesingsprogrammet       */
/*  BOF 10032019 - Kampanje har riktig navn nå                           */
                CALL       PGM(VV820R)
/*           CALL       PGM(VV820RA)   takler avvikende navn            */


             rtvsysval  sysval(qtime) rtnvar(&t)
             if         cond(%substring(&T 1 4) *lt '2100') then(do)
                dlyjob     dly(100)
                goto       cmdlbl(crtbrk)
             enddo

END: ENDPGM
