             pgm

             dcl        var(&tim)  type(*char) len(20)
             dcl        VAR(&gre)  type(*char) len(4) value('2300')
             dcl        VAR(&int)  type(*char) len(6) value('000060')

             ADDLIBLE   LIB(NXKORR)
             monmsg     msgid(CPF2103)
             ADDLIBLE   LIB(NXCLOUD) POSITION(*LAST)
             monmsg     msgid(CPF2103)
             ADDLIBLE   LIB(RWUTIL) POSITION(*LAST)
             monmsg     msgid(CPF2103)

/* Kjører oppdateringsprogram for valgt filgruppe                   */

 nyles:
             call       pgm(PROFMGRRDR)

/* Sjekker om programmet skal avsluttes hvis ikke les på nytt      */

 wait:       rtvsysval  sysval(qtime) rtnvar(&tim)
             if         cond(%substring(&tim 1 4) *lt &gre) then(do)
                dlyjob     dly(&int)
                goto       cmdlbl(nyles)
             enddo

 end:        endpgm
