             PGM

/* Sletter filer                                                     */

             DLTF       FILE(JFORL*)
             DLTF       FILE(JMATL*)
             DLTF       FILE(JPFAL*)
             DLTF       FILE(JMODL*)
             DLTF       FILE(JVARI*)
             DLTF       FILE(JVARL*)
             DLTF       FILE(JVPRI*)
             DLTF       FILE(JVPRL*)

             DLTF       FILE(JRVA*)
             DLTF       FILE(JVRC*)

             DLTF       FILE(ADBLVR/JFORPF)
             MONMSG     MSGID(CPF2125)
             DLTF       FILE(ADBLVR/JMATPF)
             MONMSG     MSGID(CPF2125)
             DLTF       FILE(ADBLVR/JPFAPF)
             MONMSG     MSGID(CPF2125)

/* Renamer gamle filer til backup-filer                              */

             RNMOBJ     OBJ(JFORPF) OBJTYPE(*FILE) NEWOBJ(JFORPF_500)
             RNMOBJ     OBJ(JMATPF) OBJTYPE(*FILE) NEWOBJ(JMATPF_500)
             RNMOBJ     OBJ(JPFAPF) OBJTYPE(*FILE) NEWOBJ(JPFAPF_500)
             RNMOBJ     OBJ(JMODPF) OBJTYPE(*FILE) NEWOBJ(JMODPF_500)
             RNMOBJ     OBJ(JVARPF) OBJTYPE(*FILE) NEWOBJ(JVARPF_500)
             RNMOBJ     OBJ(JVPRPF) OBJTYPE(*FILE) NEWOBJ(JVPRPF_500)

/* Oppretter nye filer med tilhørende indekser                       */

             CRTDUPOBJ  OBJ(JFORPF) FROMLIB(HK_LVR520) +
                          OBJTYPE(*FILE) TOLIB(*CURLIB)
             CRTDUPOBJ  OBJ(JFORL*) FROMLIB(HK_LVR520) +
                          OBJTYPE(*FILE) TOLIB(*CURLIB)

             CRTDUPOBJ  OBJ(JMATPF) FROMLIB(HK_LVR520) +
                          OBJTYPE(*FILE) TOLIB(*CURLIB)
             CRTDUPOBJ  OBJ(JMATL*) FROMLIB(HK_LVR520) +
                          OBJTYPE(*FILE) TOLIB(*CURLIB)

             CRTDUPOBJ  OBJ(JPFAPF) FROMLIB(HK_LVR520) +
                          OBJTYPE(*FILE) TOLIB(*CURLIB)
             CRTDUPOBJ  OBJ(JPFAL*) FROMLIB(HK_LVR520) +
                          OBJTYPE(*FILE) TOLIB(*CURLIB)

             CRTDUPOBJ  OBJ(JRVAPF) FROMLIB(HK_LVR520) +
                          OBJTYPE(*FILE) TOLIB(*CURLIB)

             CRTDUPOBJ  OBJ(JMODPF) FROMLIB(HK_LVR520) +
                          OBJTYPE(*FILE) TOLIB(ADBLVR)
             CRTDUPOBJ  OBJ(JMODL*) FROMLIB(HK_LVR520) +
                          OBJTYPE(*FILE) TOLIB(ADBLVR)

             CRTDUPOBJ  OBJ(JVARPF) FROMLIB(HK_LVR520) +
                          OBJTYPE(*FILE) TOLIB(ADBLVR)
             CRTDUPOBJ  OBJ(JVARI*) FROMLIB(HK_LVR520) +
                          OBJTYPE(*FILE) TOLIB(ADBLVR)
             CRTDUPOBJ  OBJ(JVARL*) FROMLIB(HK_LVR520) +
                          OBJTYPE(*FILE) TOLIB(ADBLVR)

             CRTDUPOBJ  OBJ(JVPRPF) FROMLIB(HK_LVR520) +
                          OBJTYPE(*FILE) TOLIB(ADBLVR)
             CRTDUPOBJ  OBJ(JVPRI*) FROMLIB(HK_LVR520) +
                          OBJTYPE(*FILE) TOLIB(ADBLVR)
             CRTDUPOBJ  OBJ(JVPRL*) FROMLIB(HK_LVR520) +
                          OBJTYPE(*FILE) TOLIB(ADBLVR)

             CRTDUPOBJ  OBJ(JVRCPF) FROMLIB(HK_LVR520) +
                          OBJTYPE(*FILE) TOLIB(ADBLVR) DATA(*YES)
             CRTDUPOBJ  OBJ(JVRCL*) FROMLIB(HK_LVR520) +
                          OBJTYPE(*FILE) TOLIB(ADBLVR) DATA(*YES)

/* Kopierer tilbake informasjon fra backup-filer                     */

             CPYF       FROMFILE(JFORPF_500) TOFILE(JFORPF) +
                          MBROPT(*ADD) FMTOPT(*MAP *DROP)
             CPYF       FROMFILE(JPFAPF_500) TOFILE(JPFAPF) +
                          MBROPT(*ADD) FMTOPT(*MAP *DROP)

             CPYF       FROMFILE(JMODPF_500) TOFILE(JMODPF) +
                          MBROPT(*ADD) FMTOPT(*MAP *DROP)
             CPYF       FROMFILE(JVARPF_500) TOFILE(JVARPF) +
                          MBROPT(*ADD) FMTOPT(*MAP *DROP)
             CPYF       FROMFILE(JVPRPF_500) TOFILE(JVPRPF) +
                          MBROPT(*ADD) FMTOPT(*MAP *DROP)

/* Kjører oppdateringsprogrammer                                     */

             CALL       PGM(RY992R) /* Oppretter tilleggsinfo på +
                          modul */
             CALL       PGM(RY993R) /* Oppretter modul på påslag på +
                          varenivå */

/* Adderer inn nye rapportører                                       */

             RUNQRY     QRY(ASVADMKONV/JRAPPF_ADD) QRYFILE((*SAME) +
                          (*CURLIB/JRAPPF))

             CPYF       FROMFILE(ASVADMKONV/JRAPPF_ADD) +
                          TOFILE(*CURLIB/JRAPPF) MBROPT(*ADD) +
                          FMTOPT(*MAP *DROP)

/* Reorganiserer filer                                               */

             RGZPFM     FILE(*LIBL/JFORPF) KEYFILE(JFORL1 JFORL1)
             RGZPFM     FILE(*LIBL/JPFAPF) KEYFILE(JPFAL1 JPFAL1)

             RGZPFM     FILE(*LIBL/JRAPPF) KEYFILE(JRAPL1 JRAPL1)

/* Endrer beskrivelse av ADBLVR                                     */

             CHGLIB     LIB(ADBLVR) TEXT('ASP Databibliotek LVR    - +
                          Versjon 5.20         ')

 END:        ENDPGM
