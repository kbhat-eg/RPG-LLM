             PGM        PARM(&FLDR &FEIL)

/* Initiering av parametre.                                          */

             DCL        VAR(&FLDR) TYPE(*CHAR) LEN(20)
             DCL        VAR(&FEIL) TYPE(*CHAR) LEN(1)

/* Parametre som brukes for å hente data fra IFS området             */

             dcl        var(&fradoc) type(*char) len(30)
             dcl        var(&framap) type(*char) len(30)
             dcl        var(&tillib) type(*char) len(10)
             dcl        var(&tilfil) type(*char) len(10)
             dcl        var(&tilmbr) type(*char) len(10)
             dcl        var(&fgr)    type(*char) len(3)
             dcl        var(&sts)    type(*char) len(8)

             MONMSG     MSGID(CPF8A00) EXEC(GOTO CMDLBL(FEIL))
             MONMSG     MSGID(IWS1611) EXEC(GOTO CMDLBL(FEIL))

/* Initierer feil-flagg                                              */

             CHGVAR     VAR(&FEIL) VALUE('0')

/* Tømmer pc-overførte tabeller på AS/400                            */

             CLRPFM     FILE(PCINTPF)
             CLRPFM     FILE(PCTXTPF)
             CLRPFM     FILE(PCSTKPF)
             CLRPFM     FILE(PCPROPF)
             CLRPFM     FILE(PCLEVPF)

/* Kopierer innhold fra PC-fil i mappe over til AS/400-filer         */

/*           CPYFRMPCD  FROMFLR(&FLDR) TOFILE(PCINTPF) +      */
/*                        FROMDOC(INTEG.DAT)                  */
             rtvdtaara  dtaara(*lda (931 03)) rtnvar(&fgr)
             chgvar     var(&framap)  value('/ASP/' *cat +
                                             &fgr   *cat +
                                             '/' *cat &fldr)
             chgvar     var(&fradoc)  value('INTEG.DAT')
             chgvar     var(&tillib)  value('*LIBL')
             chgvar     var(&tilfil)  value('PCINTPF')
             chgvar     var(&tilmbr)  value('PCINTPF')
             chgvar     var(&sts)     value(' ')  /* 'A' dersom *Add */
             call       pgm(aspfrstmf) parm(+
                            &fradoc +
                            &framap +
                            &tillib +
                            &tilfil +
                            &tilmbr +
                            &sts)
             if         cond(&sts *ne ' ') then(goto cmdlbl(feil))

/*           CPYFRMPCD  FROMFLR(&FLDR) TOFILE(PCTXTPF) +      */
/*                        FROMDOC(MODTXT.TXT)                 */
/*           MONMSG     MSGID(IWS1603)                        */
/*           MONMSG     MSGID(IWS1611)                        */
             chgvar     var(&fradoc)  value('MODTXT.TXT')
             chgvar     var(&tillib)  value('*LIBL')
             chgvar     var(&tilfil)  value('PCTXTPF')
             chgvar     var(&tilmbr)  value('PCTXTPF')
             chgvar     var(&sts)     value(' ')  /* 'A' dersom *Add */
             call       pgm(aspfrstmf) parm(+
                            &fradoc +
                            &framap +
                            &tillib +
                            &tilfil +
                            &tilmbr +
                            &sts)

/*           CPYFRMPCD  FROMFLR(&FLDR) TOFILE(PCPROPF) +      */
/*                        FROMDOC(PRODUSNT.TXT)               */
/*           MONMSG     MSGID(IWS1611)                        */
             chgvar     var(&fradoc)  value('PRODUSNT.TXT')
             chgvar     var(&tillib)  value('*LIBL')
             chgvar     var(&tilfil)  value('PCPROPF')
             chgvar     var(&tilmbr)  value('PCPROPF')
             chgvar     var(&sts)     value(' ')  /* 'A' dersom *Add */
             call       pgm(aspfrstmf) parm(+
                            &fradoc +
                            &framap +
                            &tillib +
                            &tilfil +
                            &tilmbr +
                            &sts)

/*           CPYFRMPCD  FROMFLR(&FLDR) TOFILE(PCLEVPF) +    */
/*                        FROMDOC(DELTAKER.TXT)             */
/*           MONMSG     MSGID(IWS1611)                      */
             chgvar     var(&fradoc)  value('DELTAKER.TXT')
             chgvar     var(&tillib)  value('*LIBL')
             chgvar     var(&tilfil)  value('PCLEVPF')
             chgvar     var(&tilmbr)  value('PCLEVPF')
             chgvar     var(&sts)     value(' ')  /* 'A' dersom *Add */
             call       pgm(aspfrstmf) parm(+
                            &fradoc +
                            &framap +
                            &tillib +
                            &tilfil +
                            &tilmbr +
                            &sts)

/*           CPYFRMPCD  FROMFLR(&FLDR) TOFILE(PCSTKPF) +      */
/*                        FROMDOC(STIKKORD.TXT)               */
/*           MONMSG     MSGID(IWS1611)                        */
             chgvar     var(&fradoc)  value('STIKKORD.TXT')
             chgvar     var(&tillib)  value('*LIBL')
             chgvar     var(&tilfil)  value('PCSTKPF')
             chgvar     var(&tilmbr)  value('PCSTKPF')
             chgvar     var(&sts)     value(' ')  /* 'A' dersom *Add */
             call       pgm(aspfrstmf) parm(+
                            &fradoc +
                            &framap +
                            &tillib +
                            &tilfil +
                            &tilmbr +
                            &sts)

/*           CPYFRMPCD  FROMFLR(&FLDR) TOFILE(PCDLTPF) +     */
/*                        FROMDOC(SLETTET.TXT)               */
/*           MONMSG     MSGID(IWS1611)                       */
             chgvar     var(&fradoc)  value('SLETTET.TXT')
             chgvar     var(&tillib)  value('*LIBL')
             chgvar     var(&tilfil)  value('PCDLTPF')
             chgvar     var(&tilmbr)  value('PCDLTPF')
             chgvar     var(&sts)     value(' ')  /* 'A' dersom *Add */
             call       pgm(aspfrstmf) parm(+
                            &fradoc +
                            &framap +
                            &tillib +
                            &tilfil +
                            &tilmbr +
                            &sts)

             GOTO       CMDLBL(END)

 FEIL:       CHGVAR     VAR(&FEIL) VALUE('1')

 END:        ENDPGM
