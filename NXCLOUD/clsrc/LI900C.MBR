             PGM
/*                                                                   */
             DCL        VAR(&BTCH) TYPE(*CHAR) LEN(1)
             DCL        VAR(&IN03) TYPE(*CHAR) LEN(1)
             DCL        VAR(&WSID) TYPE(*CHAR) LEN(10)

/* Oppkall av utskriftsparametre                                     */

             CALL       PGM(AP600R) PARM('LI900' '1' '0' &IN03 &BTCH)

/* Dersom F3 eller F12 skal ikke rapporten skrives                   */

             IF         COND(&IN03 *EQ '1') THEN(GOTO CMDLBL(END))

/* Program for overstyring av printerfile                            */

             CALL       PGM(AP601C) PARM('LI900P' &BTCH)

/* Call til program for behandling og utskrift                       */

             CALL       PGM(LI900R)

/* Melding dersom bakgrunnsjobb                                      */

             IF         COND(&BTCH *EQ '1') THEN(DO)
             RTVDTAARA  DTAARA(*LDA (901 10)) RTNVAR(&WSID)
             SNDBRKMSG  MSG('ASLAGR: Utskrift av EDI-sjekk +
                          er ferdig') TOMSGQ(&WSID)
             ENDDO

/* Program for Ã¥ fjerne overstyring av printerfile                   */

             CALL       PGM(AP606C) PARM('LI900P')

/*                                                                   */
END:         ENDPGM
