             pgm        parm(&file)

             dcl        var(&file)   type(*char) len(50)
             dcl        var(&tildok) type(*char) len(50)
             dcl        var(&tilfil) type(*char) len(15)
             dcl        var(&tilflr) type(*char) len(35)
             dcl        var(&tel1)   type(*dec)  len(3 0)
             dcl        var(&tel2)   type(*dec)  len(3 0)
             dcl        var(&dbib)   type(*char) len(10)
             dcl        var(&memi)   type(*char) len(50)
             dcl        var(&memu)   type(*char) len(50)

             rtvdtaara  dtaara(*LDA (934 10)) rtnvar(&dbib)
             chgvar     var(&memi) value('/qsys.lib/' *cat %trim(&dbib) +
                          *cat '.lib/xsepain.file/xsepain.mbr')

             cpyfrmstmf fromstmf(&file) tombr(&memi) mbropt(*REPLACE) +
                          STMFCCSID(1208)

             cpyf       fromfile(*libl/XSEPAIN) tofile(&dbib/WSEPAIN) +
                          mbropt(*REPLACE) crtfile(*NO) fmtopt(*NOCHK)

             call       pgm(SEPAFIXR)

             cpyf       fromfile(*libl/WSEPAUT) tofile(*libl/XSEPAUT) +
                          mbropt(*REPLACE) crtfile(*NO) fmtopt(*NOCHK)

             chgvar     var(&tel1) value(%scan('BCSEPA/' &file))
             chgvar     var(&tel1) value(&tel1 + 6)
             chgvar     var(&tel2) value(&tel1 + 8)

             chgvar     var(&tilflr) value(%substring(&file 1 &tel1))
             chgvar     var(&tilfil) value(%substring(&file &tel2 15))
             chgvar     var(&tildok) value(&tilflr *tcat 'SEPAUT/' *tcat +
                          &tilfil)

             chgvar     var(&memu) value('/qsys.lib/' *cat %trim(&dbib) +
                          *cat '.lib/xsepaut.file/xsepaut.mbr')
             CPYTOSTMF  FROMMBR(&memu) TOSTMF(&tildok) STMFOPT(*REPLACE) +
                          STMFCCSID(1208)
             chgaut     obj(&tildok) user(*public) dtaaut(*rwx) objaut(*all)

             rmvlnk     objlnk(&file)
             clrpfm     file(wsepain)
             clrpfm     file(wsepaut)
             clrpfm     file(xsepain)
             clrpfm     file(xsepaut)

             endpgm

