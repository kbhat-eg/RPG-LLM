
             PGM        PARM(&iotq &uotq)

/* Definering av variable                                            */

             DCL        VAR(&iotq)     TYPE(*CHAR) LEN(10)
             DCL        VAR(&uotq)     TYPE(*CHAR) LEN(10)
             DCL        VAR(&lotq)     TYPE(*CHAR) LEN(10)
             DCL        VAR(&lusr)     TYPE(*CHAR) LEN(10)

             DCLF       FILE(USRPRF)

/* Leser fil fra bruker oppsett, sjekker om samme bruker og henter skriver   */

             RTVDTAARA  DTAARA(*LDA (911 10)) RTNVAR(&LUSR)

 LESF:       RCVF
             monmsg msgid(CPF0864) exec(goto cmdlbl(endpgm))
             IF         COND(&upuprf = &lusr) then(do)
             CHGVAR     VAR(&LOTQ) VALUE(&UPOTQU)

             if         cond(&lotq = '*WRKSTN') then(do)
             rtvjoba    prtdev(&lotq)
             enddo

/* Legg inn skriver fra bruker register hvis den fortsatt er *JOB    */

             if         cond(&iotq *eq '*JOB') then(do)
             CHGVAR     VAR(&uotq) VALUE(&LOTQ)
             enddo

             if         cond(&uotq *eq '*WRKSTN') then(do)
             CHGVAR     VAR(&uotq) VALUE(&LOTQ)
             enddo

             if         cond(&uotq *eq '*DEV') then(do)
             CHGVAR     VAR(&uotq) VALUE(&LOTQ)
             enddo
             ENDDO

 ENDPGM:     ENDPGM
