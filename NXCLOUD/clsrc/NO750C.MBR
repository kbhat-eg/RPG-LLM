             PGM        PARM(&FIRM &KUND &PROJ &LTYP &LINK &STAT)

             DCL        VAR(&FIRM) TYPE(*CHAR) LEN(3)
             DCL        VAR(&KUND) TYPE(*CHAR) LEN(6)
             DCL        VAR(&PROJ) TYPE(*CHAR) LEN(6)
             DCL        VAR(&LTYP) TYPE(*CHAR) LEN(1)
             DCL        VAR(&LINK) TYPE(*CHAR) LEN(100)
             DCL        VAR(&STAT) TYPE(*CHAR) LEN(1)

             DCL        VAR(&FGRP) TYPE(*CHAR) LEN(10)
             DCL        VAR(&JAVA) TYPE(*CHAR) LEN(1000)
             DCL        VAR(&TFIL) TYPE(*CHAR) LEN(256)
             DCL        VAR(&JOB) TYPE(*CHAR) LEN(10)
             DCL        VAR(&USER) TYPE(*CHAR) LEN(10)

/* NB! Midlertidig hardkoding av VA-databibliotek i påvente av at vi */
/*     mottar enhet fra design-løsningen.......                      */
/*     Grunnenhet hentes fra VA...                                   */

             DCL        VAR(&VLIB) TYPE(*CHAR) LEN(10) VALUE('ADBLVR')

/* Ignorer feil om at katalog allerede finnes ved CRTDIR.        */
             MONMSG     MSGID(CPFA0A0)

             RTVJOBA    JOB(&JOB) USER(&USER) CURLIB(&FGRP)
             CHGVAR     VAR(&STAT) VALUE(' ')

             CHGVAR     VAR(&TFIL) VALUE('/temp')
             CRTDIR     DIR(&TFIL) DTAAUT(*RWX) OBJAUT(*ALL)
             CHGVAR     VAR(&TFIL) VALUE('/temp/' *TCAT &USER)
             CRTDIR     DIR(&TFIL) DTAAUT(*RWX) OBJAUT(*ALL)
             CHGVAR     VAR(&TFIL) VALUE('/temp/' *TCAT &USER *TCAT +
                          '/' *TCAT &JOB)
             CRTDIR     DIR(&TFIL) DTAAUT(*RWX) OBJAUT(*ALL)
             CHGVAR     VAR(&TFIL) VALUE('/temp/' *TCAT &USER *TCAT +
                          '/' *TCAT &JOB *TCAT '/test.tst')
             DEL        OBJLNK(&TFIL)
             MONMSG     MSGID(CPF0000)

             CHGVAR     VAR(&JAVA) VALUE('java -classpath +
                          /java/asp/xmlordreinnlesing/xmlordreinnlesi+
                          ng.jar:/QIBM/ProdData/OS400/jt400/lib/jt400+
                          Native.jar +
                          no.asp.as.nexstep.nib.xmlordreinnlesing.Ord+
                          reInnlesing "FILGRUPPE=' *TCAT &FGRP +
                          *TCAT '" "FIRMA=' *TCAT &FIRM *TCAT '" +
                          "LINK=' *TCAT &LINK *TCAT '" "TESTFIL=' +
                          *TCAT &TFIL *TCAT '" "KUNDE=' *TCAT &KUND +
                          *TCAT '" "PROSJEKT=' *TCAT &PROJ *TCAT '" +
                          "LEVTYP=' *TCAT &LTYP *TCAT '" VA=' *TCAT +
                          &VLIB)
             QSH        CMD(&JAVA)
             DEL        OBJLNK(&TFIL)
             MONMSG     MSGID(CPF0000) EXEC(CHGVAR VAR(&STAT) +
                          VALUE('1'))

 ENDPGM:     ENDPGM
