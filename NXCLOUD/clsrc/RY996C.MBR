
/* Behandler tabeller i EVR databibliotek                            */
/* Behandler kun tabeller som finnes i databiblioteket fra før       */

             PGM        PARM(&ELIB)

             DCL        VAR(&ELIB) TYPE(*CHAR) LEN(10)

             DCL        VAR(&NULL) TYPE(*CHAR) LEN(1) VALUE(' ')

/* Behandler EVR databibliotek                                       */

/* Setter EVR databibliotek til current library                      */

             CHGCURLIB  CURLIB(&ELIB)

/* Oppdaterer tabeller og indekser                                   */

 JSTSPF:     CHKOBJ     OBJ(&ELIB/JSTSPF) OBJTYPE(*FILE)
             MONMSG     MSGID(CPF9801) EXEC(GOTO CMDLBL(JRAPPF))
             CALL       PGM(AG905C) PARM('JSTSPF' &ELIB &NULL)
 JRAPPF:     CHKOBJ     OBJ(&ELIB/JRAPPF) OBJTYPE(*FILE)
             MONMSG     MSGID(CPF9801) EXEC(GOTO CMDLBL(JRFIPF))
             CALL       PGM(AG905C) PARM('JRAPPF' &ELIB &NULL)
 JRFIPF:     CHKOBJ     OBJ(&ELIB/JRFIPF) OBJTYPE(*FILE)
             MONMSG     MSGID(CPF9801) EXEC(GOTO CMDLBL(JRVAPF))
             CALL       PGM(AG905C) PARM('JRFIPF' &ELIB &NULL)
 JRVAPF:     CHKOBJ     OBJ(&ELIB/JRVAPF) OBJTYPE(*FILE)
             MONMSG     MSGID(CPF9801) EXEC(GOTO CMDLBL(JRVGPF))
             CALL       PGM(AG905C) PARM('JRVAPF' &ELIB &NULL)
 JRVGPF:     CHKOBJ     OBJ(&ELIB/JRVGPF) OBJTYPE(*FILE)
             MONMSG     MSGID(CPF9801) EXEC(GOTO CMDLBL(JLEVPF))
             CALL       PGM(AG905C) PARM('JRVGPF' &ELIB &NULL)
 JLEVPF:     CHKOBJ     OBJ(&ELIB/JLEVPF) OBJTYPE(*FILE)
             MONMSG     MSGID(CPF9801) EXEC(GOTO CMDLBL(JPROPF))
             CALL       PGM(AG905C) PARM('JLEVPF' &ELIB &NULL)
 JPROPF:     CHKOBJ     OBJ(&ELIB/JPROPF) OBJTYPE(*FILE)
             MONMSG     MSGID(CPF9801) EXEC(GOTO CMDLBL(JVDTPF))
             CALL       PGM(AG905C) PARM('JPROPF' &ELIB &NULL)
 JVDTPF:     CHKOBJ     OBJ(&ELIB/JVDTPF) OBJTYPE(*FILE)
             MONMSG     MSGID(CPF9801) EXEC(GOTO CMDLBL(JWPRPF))
             CALL       PGM(AG905C) PARM('JVDTPF' &ELIB &NULL)
 JWPRPF:     CHKOBJ     OBJ(&ELIB/JWPRPF) OBJTYPE(*FILE)
             MONMSG     MSGID(CPF9801) EXEC(GOTO CMDLBL(JBETPF))
             CALL       PGM(AG905C) PARM('JWPRPF' &ELIB &NULL)
 JBETPF:     CHKOBJ     OBJ(&ELIB/JBETPF) OBJTYPE(*FILE)
             MONMSG     MSGID(CPF9801) EXEC(GOTO CMDLBL(JRAEPF))
             CALL       PGM(AG905C) PARM('JBETPF' &ELIB &NULL)
 JRAEPF:     CHKOBJ     OBJ(&ELIB/JRAEPF) OBJTYPE(*FILE)
             MONMSG     MSGID(CPF9801) EXEC(GOTO CMDLBL(JPFAPF))
             CALL       PGM(AG905C) PARM('JRAEPF' &ELIB &NULL)
 JPFAPF:     CHKOBJ     OBJ(&ELIB/JPFAPF) OBJTYPE(*FILE)
             MONMSG     MSGID(CPF9801) EXEC(GOTO CMDLBL(JFORPF))
             CALL       PGM(AG905C) PARM('JPFAPF' &ELIB &NULL)
 JFORPF:     CHKOBJ     OBJ(&ELIB/JFORPF) OBJTYPE(*FILE)
             MONMSG     MSGID(CPF9801) EXEC(GOTO CMDLBL(JKAHPF))
             CALL       PGM(AG905C) PARM('JFORPF' &ELIB &NULL)
 JKAHPF:     CHKOBJ     OBJ(&ELIB/JKAHPF) OBJTYPE(*FILE)
             MONMSG     MSGID(CPF9801) EXEC(GOTO CMDLBL(JKAVPF))
             CALL       PGM(AG905C) PARM('JKAHPF' &ELIB &NULL)
 JKAVPF:     CHKOBJ     OBJ(&ELIB/JKAVPF) OBJTYPE(*FILE)
             MONMSG     MSGID(CPF9801) EXEC(GOTO CMDLBL(JMATPF))
             CALL       PGM(AG905C) PARM('JKAVPF' &ELIB &NULL)
 JMATPF:     CHKOBJ     OBJ(&ELIB/JMATPF) OBJTYPE(*FILE)
             MONMSG     MSGID(CPF9801) EXEC(GOTO CMDLBL(OPPD))
             CALL       PGM(AG905C) PARM('JMATPF' &ELIB &NULL)

/* Kjører oppdateringsprogrammer                                     */

 OPPD:       CALL       PGM(RY994R) /* Oppdaterer leverandør */
             CALL       PGM(RY997R) /* Oppdaterer produsent */
             CALL       PGM(RY998R) /* Oppdaterer statusregister */

             CALL       PGM(RY999R) /* Legger inn nye +
                          recordformat/rapportører */

 END:        ENDPGM
