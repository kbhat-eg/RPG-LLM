             PGM        PARM(&LPMEBR)
/*                                                                   */
             DCL        VAR(&WPTYPE) TYPE(*CHAR) LEN(1)
             DCL        VAR(&LPMEBR) TYPE(*CHAR) LEN(10)
             DCL        VAR(&LPPROG) TYPE(*CHAR) LEN(10)
             DCL        VAR(&LPVLG1) TYPE(*CHAR) LEN(01)
             DCL        VAR(&LPVLG2) TYPE(*CHAR) LEN(01)
/*                                                                   */
             CHGDTAARA  DTAARA(*LDA (540 20)) +
                          VALUE('                    ')
/*                                                                   */
/* Hente inn fra LDA                                                 */
/*                                                                   */
             RTVDTAARA  DTAARA(*LDA (999 1)) RTNVAR(&WPTYPE)
/*                                                                   */
             ADDPFM     FILE(LPSOPF) MBR(&LPMEBR)
             ADDLFM     FILE(LPSOLU) MBR(&LPMEBR) +
                          DTAMBRS((*CURRENT/LPSOPF (&LPMEBR)))
             ADDLFM     FILE(LPSOL1) MBR(&LPMEBR) +
                          DTAMBRS((*CURRENT/LPSOPF (&LPMEBR)))
/*                                                                   */
             OVRDBF     FILE(LPM2LU) TOFILE(*FILE) MBR(&LPMEBR)
             OVRDBF     FILE(LPSOLU) TOFILE(*FILE) MBR(&LPMEBR)
             OVRDBF     FILE(LPSOL1) TOFILE(*FILE) MBR(&LPMEBR)
/*                                                                   */
/* Kaller opp program                                                */
/*                                                                   */
             CALL       PGM(LO114R)
/*                                                                   */
             RTVDTAARA  DTAARA(*LDA (540 01)) RTNVAR(&LPVLG1)
             RTVDTAARA  DTAARA(*LDA (541 01)) RTNVAR(&LPVLG2)
/*                                                                   */
             RTVDTAARA  DTAARA(*LDA (871 10)) RTNVAR(&LPPROG)
/*                                                                   */
/* Kaller opp program for utskrift   (Ikke Fakt/Kred)                */
/*                                                                   */
             IF         COND(&LPVLG1 *EQ '1') THEN(DO)
             CALL       PGM(&LPPROG) PARM(&LPMEBR)
             ENDDO
/*                                                                   */
/* Kaller opp program for oppdatering/utskrift  (Fakt/Kred)          */
/*                                                                   */
             IF         COND(&LPVLG1 *EQ '2') THEN(DO)
             CALL       PGM(LO116C) PARM(&LPMEBR)
             ENDDO
/*                                                                   */
/* Kaller opp program for utskrift   (Resting)                       */
/*                                                                   */
             IF         COND(&LPVLG2 *EQ '1') THEN(DO)
             CALL       PGM(LORESC) PARM(&LPMEBR)
             ENDDO
/*                                                                   */
/* Kaller opp program for sletting av ordre etter utplukk/utskrift   */
/*                                                                   */
             CALL       PGM(LO118R)
/*                                                                   */
             DLTOVR     FILE(LPM2LU LPSOLU LPSOL1)
/*                                                                   */
             RMVM       FILE(LPM2LU) MBR(&LPMEBR)
             RMVM       FILE(LPM2PF) MBR(&LPMEBR)
             RMVM       FILE(LPSOL1) MBR(&LPMEBR)
             RMVM       FILE(LPSOLU) MBR(&LPMEBR)
             RMVM       FILE(LPSOPF) MBR(&LPMEBR)
/*                                                                   */
             ENDPGM
