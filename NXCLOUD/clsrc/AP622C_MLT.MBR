
             PGM        PARM(&TYPE &SOAR &SONR &PGRP)

/* Definering av variable                                            */

             DCL        VAR(&CMD)     TYPE(*CHAR) LEN(123)
             DCL        VAR(&SOK)     TYPE(*CHAR) LEN(123) VALUE(' ')
             DCL        VAR(&TYPE)     TYPE(*CHAR) LEN(10)
             DCL        VAR(&SOAR)     TYPE(*CHAR) LEN(4)
             DCL        VAR(&SONR)     TYPE(*CHAR) LEN(6)
             DCL        VAR(&WSID)     TYPE(*CHAR) LEN(10)
             DCL        VAR(&FIRM)     TYPE(*CHAR) LEN(3)
             DCL        VAR(&PGRP)     TYPE(*CHAR) LEN(2)
             DCL        VAR(&ARCH)     TYPE(*CHAR) LEN(1)
             DCL        VAR(&IN03)     TYPE(*CHAR) LEN(1)

/* Velg arkiv vi skal slå opp i                                      */

             CALL AP623R PARM(&ARCH &IN03)

/* Henter verdier i fra LDA.                                         */

/*           RTVDTAARA  DTAARA(*LDA (901 10)) RTNVAR(&WSID)         */

             STRPCO
             MONMSG     MSGID(IWS4010)

/* Kaller program for oppbygging av søkestreng                       */

             IF          COND(&ARCH *EQ 'A') THEN(DO)
                         CALL AP622R PARM(&TYPE &SOAR &SONR &SOK)
                         CHGVAR &CMD VALUE(&SOK)
                         STRPCCMD PCCMD(&CMD) PAUSE(*NO)
             ENDDO

/* Vi kaller program for multiarkiv                                   */
             RTVDTAARA DTAARA(*LDA (944 3)) RTNVAR(&FIRM)
             CALL AH720C PARM(&PGRP &FIRM &SOAR &SONR)

 ENDPGM:     ENDPGM
