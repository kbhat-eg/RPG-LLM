             PGM        PARM(&RECD &EIER &BUTI &UNIQ &BIBL &DTQI +
                          &DTQO &FEIL)

/* Initiering av parametre.                                          */

             DCL        VAR(&RECD) TYPE(*CHAR) LEN(3)
             DCL        VAR(&EIER) TYPE(*CHAR) LEN(10)
             DCL        VAR(&BUTI) TYPE(*CHAR) LEN(15)
             DCL        VAR(&UNIQ) TYPE(*CHAR) LEN(15)
             DCL        VAR(&BIBL) TYPE(*CHAR) LEN(10)
             DCL        VAR(&DTQI) TYPE(*CHAR) LEN(10)
             DCL        VAR(&DTQO) TYPE(*CHAR) LEN(10)
             DCL        VAR(&FEIL) TYPE(*CHAR) LEN(1)

             DCL        VAR(&FGRP) TYPE(*CHAR) LEN(3)
             DCL        VAR(&DLIB) TYPE(*CHAR) LEN(6) VALUE('ADBxxx')

/* Henter filgruppe fra nettbutikk                                   */

             ADDLIBLE   LIB(ADB)
             MONMSG     MSGID(CPF2103)
             CALL       PGM(NN800R) PARM(&EIER &BUTI &FGRP +
                          &FEIL)

             IF         COND(&FEIL = '1') THEN(GOTO CMDLBL(END))

/* Setter biblioteksliste                                            */

             CALL       PGM(AA720C) PARM(&FGRP)

/* Utleder og setter current library                                 */

             CHGVAR     VAR(%SST(&DLIB 4 3)) VALUE(&FGRP)

             CHGCURLIB  CURLIB(&DLIB)

/* Kaller styreprogram/returprogram                                  */

             CALL       PGM(NN801R) PARM(&RECD &EIER &BUTI &UNIQ +
                          &BIBL &DTQI &DTQO &FEIL)

 END:        ENDPGM
