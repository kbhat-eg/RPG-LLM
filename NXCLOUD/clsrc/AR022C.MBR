             PGM

/* Initiering av parametre.                                          */

             DCL        VAR(&DSPROG)   TYPE(*CHAR) LEN(10)
             DCL        VAR(&DSRAPP)   TYPE(*CHAR) LEN(10)
             DCL        VAR(&DSRAPP)   TYPE(*CHAR) LEN(10)
             DCL        VAR(&DSOVRS)   TYPE(*CHAR) LEN(1)
             DCL        VAR(&DSFORM)   TYPE(*CHAR) LEN(10)
             DCL        VAR(&DSOUTQ)   TYPE(*CHAR) LEN(10)
             DCL        VAR(&DSACPIX)  TYPE(*CHAR) LEN(4)
             DCL        VAR(&DSACPI)   TYPE(*DEC)  LEN(4 0)
             DCL        VAR(&DSAKOPX)  TYPE(*CHAR) LEN(6)
             DCL        VAR(&DSAKOP)   TYPE(*DEC)  LEN(6 0)
             DCL        VAR(&DSHLDQ)   TYPE(*CHAR) LEN(4)

/* Henter verdier i fra LDA.                                         */

             RTVDTAARA  DTAARA(*LDA (800 10)) RTNVAR(&DSPROG)
             RTVDTAARA  DTAARA(*LDA (810 10)) RTNVAR(&DSOUTQ)
             RTVDTAARA  DTAARA(*LDA (820 10)) RTNVAR(&DSFORM)
             RTVDTAARA  DTAARA(*LDA (830 4)) RTNVAR(&DSACPIX)
             RTVDTAARA  DTAARA(*LDA (834 4)) RTNVAR(&DSHLDQ)
             RTVDTAARA  DTAARA(*LDA (838 6)) RTNVAR(&DSAKOPX)
             RTVDTAARA  DTAARA(*LDA (845 1)) RTNVAR(&DSOVRS)
             RTVDTAARA  DTAARA(*LDA (846 10)) RTNVAR(&DSRAPP)

/* ANTALL KOPIER og CPI m√• konverteres til numerisk felt.            */

             CHGVAR     VAR(&DSAKOP) VALUE(&DSAKOPX)
             CHGVAR     VAR(&DSACPI) VALUE(&DSACPIX)

/* Tester om printfile skal overrides.                               */

             IF         COND(&DSOVRS *EQ ' ') THEN(GOTO +
                          CMDLBL(NOTOVRPRTF))

/* Endrer printfile ut i fra nye verdier.                            */

             OVRPRTF    FILE(&DSRAPP) TOFILE(*FILE) DEV(&DSOUTQ) +
                          CPI(&DSACPI) FORMTYPE(&DSFORM) +
                          COPIES(&DSAKOP) HOLD(&DSHLDQ)

NOTOVRPRTF:

/* Kaller opp utskriftsprogram.                                      */

             CALL       PGM(AR022R)

 END:        ENDPGM
