
             PGM        PARM(&TAPE &MLD)

/* Definering av parametre                                           */

             DCL        VAR(&TAPE)  TYPE(*CHAR) LEN(10)
             DCL        VAR(&MLD)   TYPE(*CHAR) LEN(78) VALUE(*BLANK)

/* Definering av variable                                            */

             DCL        VAR(&MSG)   TYPE(*CHAR) LEN(69)
             DCL        VAR(&MSGID) TYPE(*CHAR) LEN(7)

/* Monitor-message                                                  */

             MONMSG     MSGID(CPF0000) EXEC(GOTO CMDLBL(MLD))

/* Test p√• tapestasjon. Legger eventuell melding inn i &MLD          */

             CHKTAP     DEV(&TAPE) VOL(*MOUNTED) ENDOPT(*REWIND)
             GOTO       CMDLBL(END)

 MLD:        RCVMSG     MSGQ(*PGMQ) MSGTYPE(*LAST) MSG(&MSG) +
                          MSGID(&MSGID)
             CHGVAR     VAR(&MLD) VALUE(&MSGID *CAT '  ' *CAT &MSG)

 END:        ENDPGM
