
/*           Generere   FAKTURATRANS./Factoring                      */

 STRPGM:     PGM        PARM(&FGRP &NULL)

             DCL        VAR(&FGRP) TYPE(*CHAR) LEN(3)
             DCL        VAR(&NULL) TYPE(*CHAR) LEN(1)
             DCL        VAR(&DBIB) TYPE(*CHAR) LEN(6) VALUE('ADB400')
             DCL        VAR(&SBIB) TYPE(*CHAR) LEN(6) VALUE('ASOKON')

             DCL        VAR(&RGBF) TYPE(*CHAR) LEN(6) VALUE('REFABF')
             DCL        VAR(&RGPF) TYPE(*CHAR) LEN(6) VALUE('REFAPF')
             DCL        VAR(&RGLU) TYPE(*CHAR) LEN(6) VALUE('REFALU')
             DCL        VAR(&RGL1) TYPE(*CHAR) LEN(6) VALUE('REFAL1')

/*           Setter bibliotek til current                            */

             CHGVAR     VAR(%SST(&DBIB 4 3)) VALUE(&FGRP)
             CHGCURLIB  CURLIB(&DBIB)

/*           Kalle opp fellesprogram                                 */

             CALL       PGM(AG101C) PARM(&FGRP &NULL &DBIB +
                          &SBIB &RGBF &RGPF &RGLU &RGL1)

/*           Bygg opp REF2PF                                         */

             CHKOBJ     OBJ(&DBIB/REF2PF) OBJTYPE(*FILE)
             MONMSG     MSGID(CPF9801) EXEC(GOTO CRTEF2)

             DLTF       FILE(&DBIB/REF2PF)

 CRTEF2:     CRTPF      FILE(&DBIB/REF2PF) SRCFILE(*LIBL/QDDFSRC) +
                        SRCMBR(REF2PF) MAXMBRS(*NOMAX) SIZE(*NOMAX)


 ENDPGM:     ENDPGM
