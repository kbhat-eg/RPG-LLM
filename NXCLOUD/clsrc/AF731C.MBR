             PGM        PARM(&PATH &LIB &PRENAME &ERROR)

/*   Programmet lister ut innhold i path TiL databasefilene        */
/*      &LIB/&DBFILED                                            */
/*      &LIB/&DBFILEO                                            */
/*                                                               */

             DCL        VAR(&PATH)    TYPE(*CHAR) LEN(50)
             DCL        VAR(&LIB)     TYPE(*CHAR) LEN(8)
             DCL        VAR(&PRENAME) TYPE(*CHAR) LEN(7)
             DCL        VAR(&ERROR)   TYPE(*CHAR) LEN(10)

             DCL        VAR(&DBFILEO) TYPE(*CHAR) LEN(10)
             DCL        VAR(&DBFILED) TYPE(*CHAR) LEN(10)

             CHGVAR     VAR(&DBFILEO) VALUE(&PRENAME *CAT 'O')
             CHGVAR     VAR(&DBFILED) VALUE(&PRENAME *CAT 'D')

             CHGVAR     VAR(&ERROR) VALUE(' ')

             DLTF       FILE(&LIB/&DBFILED) RMVCST(*REMOVE)
             MONMSG     MSGID(CPF2105)

             DLTF       FILE(&LIB/&DBFILEO) RMVCST(*REMOVE)
             MONMSG     MSGID(CPF2105)

             RTVDIRINF  dir(&PATH)
             MONMSG     msgid(CPD1EDC CPF1ED7) exec(do)
                CHGVAR     var(&ERROR)   value('NOT FOUND')
                RETURN
             ENDDO

             RTVDIRINF  DIR(&PATH)  SUBTREE(*NONE) INFFILEPFX(&PRENAME) +
                          INFLIB(&LIB)

             ENDPGM

