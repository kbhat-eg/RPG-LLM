             PGM        PARM(&VALG)

             DCL        VAR(&VALG)     TYPE(*CHAR) LEN(128)
             DCL        VAR(&SPES)     TYPE(*CHAR) LEN(10)
             DCL        VAR(&NATT)     TYPE(*CHAR) LEN(01)
             DCL        VAR(&TEXT)     TYPE(*CHAR) LEN(30) +
                        VALUE('Natt-rutine, Spesialprosedyrer')

/* Bygge opp variabler                                               */

             CHGVAR     VAR(&NATT)     VALUE(%SST(&VALG 26 1))

/* Finn ut om nattjobb 1, 2 eller 3                                  */

             IF         COND(&NATT *EQ '1') THEN(DO)
             CHGVAR     VAR(&SPES)     VALUE(ANSPS1)
             ENDDO

             IF         COND(&NATT *EQ '2') THEN(DO)
             CHGVAR     VAR(&SPES)     VALUE(ANSPS2)
             ENDDO

             IF         COND(&NATT *EQ '3') THEN(DO)
             CHGVAR     VAR(&SPES)     VALUE(ANSPS3)
             ENDDO

/* Sjekk om program finnes fra f√∏r                                   */

             CHKOBJ     OBJ(ASPGPLK/QCLLESRC) OBJTYPE(*FILE) +
                          MBR(&SPES) AUT(*ALL)
             MONMSG     MSGID(CPF9815) EXEC(GOTO CMDLBL(START))
             RMVM       FILE(ASPGPLK/QCLLESRC) MBR(&SPES)

/* Bygge opp Cl-member                                               */

 START:      ADDPFM     FILE(ASPGPLK/QCLLESRC) MBR(&SPES) +
                          TEXT(&TEXT) SRCTYPE(CLLE)
             OVRDBF     FILE(QCLLESRC) TOFILE(ASPGPLK/QCLLESRC) +
                          MBR(&SPES)

/* Call til RPG-program                                              */

             CALL       PGM(AN018R) PARM(&VALG)
             DLTOVR     FILE(QCLLESRC)

/* Create program                                                    */

             CRTBNDCL   PGM(ASPGPLK/&SPES) SRCFILE(ASPGPLK/QCLLESRC) +
                          TEXT(&TEXT) OPTION(*NOXREF *NOSECLVL)

 END:        ENDPGM
