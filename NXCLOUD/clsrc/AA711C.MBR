
/* Dette program varsler dersom brukerprofil ikke finnes             */

             PGM        PARM(&USER &SVAR)

             DCL        VAR(&USER)     TYPE(*CHAR) LEN(10)
             DCL        VAR(&SVAR)     TYPE(*CHAR) LEN(1)
             DCL        VAR(&MELD)     TYPE(*CHAR) LEN(50)
             DCL        VAR(&USRCLS)   TYPE(*CHAR) LEN(10)

/* Sjekk om bruker finnes på systemet                                */

             RTVUSRPRF  USRPRF(&USER)  USRCLS(&USRCLS)

/* Varsle dersom bruker ikke ble funnet                              */

             MONMSG     MSGID(CPF2204) EXEC(DO)
             CHGVAR     VAR(&SVAR)     VALUE('1')
             CHGVAR     VAR(&MELD)     VALUE('Oppgitt brukerprofil +
                                       ble ikke funnet på systemet')
             CALL       PGM(AA005R)    PARM(&MELD)
             ENDDO

END:         ENDPGM
