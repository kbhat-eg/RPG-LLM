/*********************************************************************/
/*                                                                   */
/*  Informasjon om utførte endringer for ASPGPL versj. 1.08          */
/*  -------------------------------------------------------          */
/*  Dette member inneholder opplysninger om hva som er endret        */
/*  i denne versjon.                                                 */
/*                                                                   */
/*                                                                   */
/*  Dette er endret:                                                 */
/*  -----------------                                                */
/*                                                                   */
/*                                                                   */
/*  1) I programmene som genererer databasen er det lagt inn *LIBL   */
/*     for å frigjøre genereringen fra de faste navnene på biblio-   */
/*     tekene så som ASOFAK ASSHOP ASVEDL.  Dette er gjort for å     */
/*     kunne benytte disse programmene ved oppbygging av testmiljø   */
/*     hvor programbibliotekene kan ha andre navn.                   */
/*                                                                   */
/*     I tillegg er TOMBR-parameteren endret.  Denne hadde i forrige */
/*     versjon verdien *FIRST mens den nå er endret til *FROMMBR.    */
/*     Der hvor flere membere er benyttet i filen, ble disse kjørt   */
/*     sammen til et member.  Dette er derfor endret.                */
/*                                                                   */
/*  Member  Type   Beskrivelse                                       */
/*  ------  ----   --------------------------                        */
/*  AG100C  CLP    Generere Databasefiler  (Callprogram 0 V/2 filer) */
/*  AG101C  CLP    Generere Databasefiler  (Callprogram 1 V/3 filer) */
/*  AG102C  CLP    Generere Databasefiler  (Callprogram 2 V/4 filer) */
/*  AG103C  CLP    Generere Databasefiler  (Callprogram 3 V/5 filer) */
/*  AG104C  CLP    Generere Databasefiler  (Callprogram 4 V/6 filer) */
/*  AG105C  CLP    Generere Databasefiler  (Callprogram 5 V/7 filer) */
/*  AG106C  CLP    Generere Databasefiler  (Callprogram 6 V/8 filer) */
/*  AG107C  CLP    Generere Databasefiler  (Callprogram 7 V/9 filer) */
/*                                                                   */
/*                                                                   */
/*  2) Programmet AP100R som henter opp informasjon i fra rutine-    */
/*     register er endret for å få med følgende tre nye felter:      */
/*                                                                   */
/*       LDA:  881  881   DSBGIR  Kode for bankgiro                  */
/*       LDA:  882  882   DSPGIR  Kode for Postgiro                  */
/*       LDA:  883  883   DSJOUR  Kode for Journalliste              */
/*                                                                   */
/*  Member  Type   Beskrivelse                                       */
/*  ------  ----   --------------------------                        */
/*  AP100R  RPG    Printerstyring hente/endre parametere             */
/*                                                                   */
/*                                                                   */
/*  3) Det er i vedlikehold av rutineregister tatt med mulighet      */
/*     for å kunne sette en kode for AXIS boks.  Denne koden         */
/*     benyttes for å styre OCR på printere med Axis-boks.           */
/*                                                                   */
/*  Member  Type   Beskrivelse                                       */
/*  ------  ----   --------------------------                        */
/*  AA014D  DSPF   Syst. Adm. Vedlikehold Rutineregister             */
/*                                                                   */
/*                                                                   */
/*  4) Kode i systemregister er endret til å være B for backup.      */
/*     Denne benyttes for å styre hvilke bibliotek som skal være     */
/*     med på backup utenom ADBxxx-bibliotekene.                     */
/*                                                                   */
/*  Member  Type   Beskrivelse                                       */
/*  ------  ----   --------------------------                        */
/*  AA020D  DSPF   Syst. Adm. Vedlikehold Systemregister             */
/*                                                                   */
/*                                                                   */
/*  5) Det er gjort både tekniske og funksjonsmessige endringer i    */
/*     nattjobben.  Skjermbildet for oppsett av nattjobb er endret   */
/*     og dette er de viktigste forskjeller:                         */
/*                                                                   */
/*      - IPL i nattjobben er fjernet, da det skal benyttes et       */
/*        eget program for kjøring av IPL.                           */
/*                                                                   */
/*      - Hvilke muligheter som finnes for valg av density på tape   */
/*        er utvidet, og informasjon om dette er lagt ut i et eget   */
/*        vindu.  Dette får man fram ved å plassere cursor på feltet */
/*        density og trykke F4.  I tilllegg er default verdi endret  */
/*        fra *DEVTYPE til *CTGTYPE.  Sistnevnte verdi initierer     */
/*        tapen utfra hvilken kassettype som står inne.              */
/*                                                                   */
/*      - Valg av av standard backup er utvidet med kode 2 som sier  */
/*        backup av alle brukerbiblioteker.  Denne kan ikke kombi-   */
/*        neres med savefile, da det er vanskelig å anslå nødvendig  */
/*        tilgjengelig diskbehov.                                    */
/*                                                                   */
/*      - Det er lagt opp et valg for å kunne ta backup av alle      */
/*        mapper.  Dersom det bare er utvalgte mapper som skal til   */
/*        backup, må dette program kopieres til ASPGPLK og til-      */
/*        passes der.  Navnet på programmet er ANMAPP                */
/*                                                                   */
/*      - Backup av databibliotek (ADBxxx) er lagt om.  Tidligere    */
/*        ble det generert et CL-program på det tidspunkt nattjobben */
/*        ble satt opp.  Filegrupper som ble opprettet etter dette,  */
/*        ble ikke med på backup før nattjobben var generert på      */
/*        nytt.  Denne versjon leser file-gruppe-filen direkte i     */
/*        det nattjobben går, og vil på den måte alltid være ajour   */
/*        med filegrupper som ligger på systemet.  Filegrupper som   */
/*        man ikke ønsker backup av, må som tidligere kodes med      */
/*        'droppe backup'                                            */
/*                                                                   */
/*      - Etter at det er tatt backup av databibliotek, kjøres det   */
/*        et tilsvarende program som tar backup av ønskede program-  */
/*        bibliotek.  Her er det imidlertid motsatt prinsipp: De     */
/*        programbibliotek man ønsker backup av, må ha koden 'B'     */
/*        for backup.  Det er laget en snarvei til vedlikeholds-     */
/*        programmet for systemregister.  Sett cursor i feltet for   */
/*        backup av programbibliotek, og trykk F4                    */
/*                                                                   */
/*      - Definisjon av hvilke subsystemer som skal være med er nå   */
/*        lagt opp på en kommandotast, og koden for dette er fjernet */
/*                                                                   */
/*      - Koden som sier om det skal kjøres ekstra-jobber i natt-    */
/*        rutinen, eller ekstrajobb som ligger i andre systemer,     */
/*        blir nå stående i skjermbildet.  Dersom det står kode og   */
/*        ingen ting er lagt opp bak, blir dette varslet.  Dersom    */
/*        det er lagt opp noe bak, men ingen kode er satt, blir      */
/*        også dette varslet.                                        */
/*                                                                   */
/*      - Det er lagt inn muligheter for å kunne kjøre en egen       */
/*        startjobb og en egen sluttjobb.  Startjobben settes igang  */
/*        før backup tar til, og sluttjobben kjøres umiddelbart før  */
/*        display av tapen som er siste aktivitet i nattjobben.      */
/*        Programmene som benyttes er ANSTRT og ANSLUT.  Disse       */
/*        ligger tilgjengelig i ASPGPL.  Når det skal settes opp     */
/*        en egendefinert start- eller slutt-jobb, kopieres disse    */
/*        programmen til ASPGPLK og tilpasses.  Disse vil så bli     */
/*        kjørt istedet for malprogrammene.  De vil heller ikke bli  */
/*        ødelagt neste gang nattjobben genereres.                   */
/*        Programmene er tenkt benyttet til f. eks. stopp og start   */
/*        av egne subsystemer, eller jobber som skal kjøres før og   */
/*        etter backup.                                              */
/*                                                                   */
/*      - I forrige versjon lå kontroll av tape i Cl-programmet      */
/*        som kjørte backup.  Dersom det ikke skulle kjøres std.     */
/*        backup, men f. eks. bare via egne rutiner, skapte dette    */
/*        problemer.  I denne versjon er kontroll av tape lagt ut    */
/*        i et selvstendig Cl-program, som aktiviseres dersom et     */
/*        av valgene som krever tape blir fortatt.                   */
/*                                                                   */
/*      - Dersom det var satt inn feil tape (f. eks. ikke ASBACK)    */
/*        ble dette avvist i std. backup, mens andre rutiner for     */
/*        backup ikke hadde tilsvarende sjekk.  I denne versjon      */
/*        vil alle program som benytter tapen bli forbigått dersom   */
/*        kontroll av tape varsler en feil.                          */
/*                                                                   */
/*      - Det er lagt inn et program som forsinker oppdatering av    */
/*        historisk backup-register med 5 sekunder.  Bakgrunnen er   */
/*        at nøkkel til denne filen er År-Mnd-Dag-Timer-Minutter-    */
/*        sekunder.  Det er bare det at for AS400 er et sekund       */
/*        ganske lang tid, og det har skjedd flere ganger at to      */
/*        meldinger skulle bli oppdatert innenfor det samme sekund.  */
/*        Dermed ble den første melding overskrevet av den andre.    */
/*                                                                   */
/*      - Antall nattjobber er øket fra to til tre.  Det er nå       */
/*        anledning til å sette opp en nattjobb også for natt til    */
/*        mandag.  Som et forslag kan vi tenke oss følgende          */
/*        backup-rutiner:                                            */
/*                                                                   */
/*        Tirsdag t.o.m lørdag : Ordinær backup                      */
/*        Natt til søndag . . .: Backup for de som har lørdagsåpent  */
/*        Natt til mandag . . .: Reorganisering av registere         */
/*                                                                   */
/*        I tillegg kommer en IPL natt til søndag.                   */
/*                                                                   */
/*      - DISPLAY av tapeinnhold er nå flyttet helt til slutt        */
/*        i nattjobben, slik at spesialjobber som legger data        */
/*        ut på tape også blir tatt med.                             */
/*                                                                   */
/*      - Dersom et bibliotek er slettet fra disk, men ikke fjernet  */
/*        fra filegruppebiblioteket, kom det en melding i nattjobb-  */
/*        historikken:   Oppgitt bibliotek ikke funnet...            */
/*        I denne versjon gis det melding om hvilket bibliotek det   */
/*        var som ikke ble funnet.  Den samme løsning gjelder også   */
/*        for backup av program-bibliotek.  Dersom det i system-     */
/*        register ligger et bibliotek som ikke ble funnet på disk,  */
/*        varsles dette med navnet på biblioteket.                   */
/*                                                                   */
/*      - Det kan settes opp ekstrajobber som kan kjøres, både fra   */
/*        ASPGPLK og fra andre delsystemer.  For at ikke natt-       */
/*        rutinen skal stoppe opp, går jobben videre selv om         */
/*        oppgitt prosedyre eller CL-program ikke ble funnet.        */
/*        I denne versjon kommer det her opp følgende melding        */
/*        dersom dette skulle skje:                                  */
/*                                                                   */
/*        1)  - Ekstrajobb ikke fullført . . . *** obs !             */
/*        2)  - Ekstrajobb andre syst. feil. . *** obs !             */
/*                                                                   */
/*        1) Gjelder: Kjøre ekstrajobber                             */
/*        2) Gjelder: Kjøre ekstrajobber fra andre systemer          */
/*                                                                   */
/*     Disse programmer er berørt av endringene:                     */
/*                                                                   */
/*  Member  Type   Beskrivelse                                       */
/*  ------  ----   --------------------------                        */
/*  ANSTRT  CLP    Nattrutine Egendefinert startjobb                 */
/*  ANSLUT  CLP    Nattrutine Egendefinert sluttjobb                 */
/*  ANMAPP  CLP    Nattrutine Backup av alle mapper                  */
/*  AN010D  DSPF   Nattrutine Innlegging av parametere               */
/*  AN010C  CLP    Nattrutine Innlegging av parametere               */
/*  AN010R  RPG    Nattrutine Innlegging av parametere               */
/*  AN010D  DSPF   Nattrutine Innlegging av parametere               */
/*  AN012C  CLP    Nattrutine Generering                             */
/*  AN012R  RPG    Nattrutine Generering                             */
/*  AN014C  CLP    Nattrutine Generering for reorganisering          */
/*  AN015C  CLP    Nattrutine Generering for backup                  */
/*  AN015R  RPG    Nattrutine Generering for backup                  */
/*  AN016C  CLP    Nattrutine Generering for systemer                */
/*  AN016R  RPG    Nattrutine Generering for systemer                */
/*  AN018C  CLP    Nattrutine Generering for spesialprosedyrer       */
/*  AN018R  RPG    Nattrutine Generering for spesialprosedyrer       */
/*  AN022C  CLP    Nattrutine Generering for kontroll av tape        */
/*  AN022R  RPG    Nattrutine Generering for kontroll av tape        */
/*  AN025C  CLP    Nattrutine Save av filegruppebibliotek            */
/*  AN025R  RPG    Nattrutine Save av databibliotek ADBxxx           */
/*  AN026R  RPG    Nattrutine Save av programbibliotek               */
/*  AN030C  CLP    Start Ipl, Innlegging av parameter                */
/*  AN032C  CLP    Start Ipl, Generering                             */
/*  AN040C  CLP    Oppdaterer QSTRUP med start av subsystemer        */
/*  AN045C  CLP    Oppstarting av subsystemer under IPL              */
/*  AN045R  RPG    Oppstarting av subsystemer under IPL              */
/*  AN050C  CLP    Oppdatering av historikk, innlagt forsinkelse     */
/*  AN050R  RPG    Oppdatering av historikk, innlagt forsinkelse     */
/*  AN070C  CLP    Initiering av tape for nattjobb (ASBACK)          */
/*  AN070R  RPG    Initiering av tape for nattjobb (ASBACK)          */
/*  AK010R  RPG    Danner program for backup av biblioteker          */
/*                                                                   */
/*                                                                   */
/*  6) Det er gjort endringer i databasefilen AVERPF (Verdier i      */
/*     nattjobben).  Feltnavn er endret, for å få navn som lettere   */
/*     kan beskrive innholdet.  Dette gjelder felter som inneholder  */
/*     koder på hvilke valg som er foretatt.  I forrige versjon var  */
/*     disse navnsatt: AVVAL1 AVVAL2 AVVAL3 o.s.v.                   */
/*                                                                   */
/*  Member  Type   Beskrivelse                                       */
/*  ------  ----   --------------------------                        */
/*  AFRF    PF     Syst. Adm. FRF-fil                                */
/*  AVERLU  LF     Syst. Adm. Verdier nattrutine update              */
/*  AVERL1  LF     Syst. Adm. Verdier nattrutine key                 */
/*  AVERPF  LF     Syst. Adm. Verdier nattrutine                     */
/*                                                                   */
/*                                                                   */
/*  7) Det er gjort endringer i måten IPL settes opp på.  Fortsatt   */
/*     kjøres valget 2 på meny AM70.  Nå legges det opp et CL-pro-   */
/*     gram som utfører IPL.  I dette CL-program stoppes alle        */
/*     skriverprogram før IPL utføres.  Det starter også programmet  */
/*     ASPIP1, som ligger som et tomt skall i ASPGPL.  Dette kan     */
/*     kopieres over til ASPGPLK og tilpasses for de som har behov   */
/*     for rutiner som skal kjøres før IPL settes igang.  Det finnes */
/*     også et program ASPIP2 som skal benyttes ved restart av       */
/*     maskinen.  Dette kan også kopieres over til ASPGPLK og        */
/*     tilpasses der.  ASPIP2 kalles fra AN045R, det vil si i        */
/*     forbindelse med QSTRUP-programmet.                            */
/*                                                                   */
/*     Utover dette er det i IPL-programmet lagt inn samme logikk    */
/*     som i nattjobben i forbindelse med stopping av subsystemet    */
/*     QINTER og QBATCH.  Det ser ut for at PWRDWNSYS virker litt    */
/*     annerledes på V3R7 og senere.  I hvertfall stopper den opp    */
/*     dersom det finnes jobber som ikke er avsluttet.  Derfor er    */
/*     det lagt opp til automatisk nedtagning av disse subsystem.    */
/*     Det kan også oppstå problemer dersom det står oppe jobber     */
/*     under QCTL, men det skal jo normalt ikke skje.                */
/*                                                                   */
/*     Disse programmer er berørt av endringene:                     */
/*                                                                   */
/*  Member  Type   Beskrivelse                                       */
/*  ------  ----   --------------------------                        */
/*  AN030C  CLP    Start IPL, Innlegging av parameter                */
/*  AN030R  RPG    Start IPL, Innlegging av parameter                */
/*  AN032C  CLP    Start IPL, Generering                             */
/*  ASPIPL  CLP    Start IPL, Utfører IPL via dette programmet       */
/*  ASPIP1  CLP    Start IPL, Utføres før PWRDWNSYS                  */
/*  ASPIP2  CLP    Start IPL, Utføres før restart av systemet QSTRUP */
/*  AN045R  RPG    Oppstart av subsystemer under IPL                 */
/*                                                                   */
/*                                                                   */
/*  8) Under vedlikehold av brukere kan det settes opp hvilke        */
/*     bibliotek denne bruker skal ha i sin biblioteksliste.         */
/*     Når dette er gjort, kan det genereres et IP-program som       */
/*     inneholder de aktuelle bibliotek.  Her var det imidlertid     */
/*     et problem med biblioteksnavn på 10 posisjoner. Dette er      */
/*     nå rettet opp.  I tillegg ble det hengende igjen en ekstra    */
/*     parentes, noe som nå også er korrigert.                       */
/*                                                                   */
/*  Member  Type   Beskrivelse                                       */
/*  ------  ----   --------------------------                        */
/*  AA030C  RPG    Syst. Adm. Generering av IP-program               */
/*                                                                   */
/*                                                                   */
/*  9) Det er gjort følgende justeringer i installasjonsprogrammet   */
/*     AINSTALL :                                                    */
/*                                                                   */
/*     - Når bruker ASP blir lagt opp er det nå tatt med *IOSYSCFG   */
/*       under spesialautorisasjon                                   */
/*                                                                   */
/*                                                                   */
/*  Member  Type   Beskrivelse                                       */
/*  ------  ----   --------------------------                        */
/*  AINSTALL CLP   Installasjons kommandoer                          */
/*                                                                   */
/*                                                                   */
/* 10) Det er gjort endringer i programmet for vedlikehold av        */
/*     rutine-register.  Det er nå lagt opp med 2 subfiler, en som   */
/*     er lik dagens løsning og en som viser rapport-tekst.  Det     */
/*     kan velges mellom disse to varianter ved å benytte F11.  Som  */
/*     åpningsbilde vises nå subfilen med rapporttekst, da den sier  */
/*     litt mer om hvilken rutine man jobber med.                    */
/*                                                                   */
/*  Member  Type   Beskrivelse                                       */
/*  ------  ----   --------------------------                        */
/*  AA014D  DSPF   Syst. Adm. Vedlikehold Rutine-register            */
/*  AA014D  RPG    Syst. Adm. Vedlikehold Rutine-register            */
/*                                                                   */
/*                                                                   */
/* 11) Dersom man kopierer en brukerprofil til et annet navn, vil    */
/*     det IP-programmet som ligger på den man kopierer i fra, bli   */
/*     med over på den nye brukerprofilen.  Med kopiering her menes  */
/*     ikke kopiering i ASPGPL-systemet, men ren kopiering av        */
/*     brukerprofiler (WRKUSRPRF).  Når man så etterpå går inn for   */
/*     å etablere denne bruker i ASPGPL-systemet, ligger jo allerede */
/*     den nye brukerprofilen på plass når man kjører 8 for å        */
/*     generere.  Når det ble gjort på denne måten, ble ikke         */
/*     referanse til IP-programmet oppdatert.  I denne versjon       */
/*     oppdateres referanse til IP-program både under nyoppretting   */
/*     og ved endring.                                               */
/*                                                                   */
/*  Member  Type   Beskrivelse                                       */
/*  ------  ----   --------------------------                        */
/*  AA034C  CLP    Syst. Adm. Bygger opp brukerprofiler              */
/*                                                                   */
/*                                                                   */
/* 12) Følgende problemstilling er meldt:  En bruker står inne på    */
/*     meny og har valgt filegruppe og firma.  Hvilket firma som     */
/*     er valgt vises jo i skjermbildet nederst til høyre.  Så skal  */
/*     denne bruker vedlikeholde en av disse filer:                  */
/*                                                                   */
/*       - Firmaregister                                             */
/*       - Avdelingsregister                                         */
/*       - Rutineregister                                            */
/*       - Printerstyring opp mot skjerm                             */
/*       - Nummerserier                                              */
/*                                                                   */
/*     Når et av disse vedlikeholdsprogram startes, kommer det       */
/*     først et valg på filegruppe og deretter firma.  Dersom        */
/*     det velges en annen filegruppe en den man står i, vil         */
/*     current library bli endret til dette.  Man er så inne og      */
/*     utfører vedlikeholdet, og avslutter jobben.  Da er current    */
/*     library endret, men menyen viser samme filegruppe som man     */
/*     sto på i utgangspunktet.                                      */
/*                                                                   */
/*     Dette er nå korrigert, slik at opprinnelig filegruppe blir    */
/*     lagt tilbake (d.v.s. current library) før jobben avsluttes.   */
/*     Disse program er korrigert:                                   */
/*                                                                   */
/*  Member  Type   Beskrivelse                                       */
/*  ------  ----   --------------------------                        */
/*  AA008C  CLP    Syst. Adm. Vedlikehold Firmaregister              */
/*  AA009C  CLP    Syst. Adm. Vedlikehold Avdelingsregister          */
/*  AA014C  CLP    Syst. Adm. Vedlikehold Rutine-register            */
/*  AA016C  CLP    Syst. Adm. Vedlikehold Skjerm-register            */
/*  AA017C  CLP    Syst. Adm. Vedlikehold Nummer-serier              */
/*                                                                   */
/*                                                                   */
/*                                                                   */
/*                                                                   */
/*                                                                   */
/*                                                                   */
/*                                                                   */
/*  Dette er endringene i filer i versjon 1.08 :                     */
/*  --------------------------------------------                     */
/*                                                                   */
/*  X) Det er lagt på riktig versjons-nummer  på menyen  AM00        */
/*                                                                   */
/*  Member  Type   Beskrivelse                                       */
/*  ------  ----   ----------------------------                      */
/*  AM00    DSPF   Hovedmeny System-administrasjon                   */
/*                                                                   */
/*                                                                   */
/*                                                                   */
/*                                                                   */
/*                                                                   */
/*                                                                   */
/*                                                                   */
/*                                                                   */
/*                                                                   */
/*  Spesielle hensyn ved installasjon av ASPGPL versjon 1.08         */
/*  --------------------------------------------------------         */
/*  1) Database må genereres på nytt for AVERPF som ligger i         */
/*     databiblioteket ADB.                                          */
/*                                                                   */
/*  2) Programmer som benytter filen AVERPF og som befinner seg      */
/*     i ASPGPLK, må enten regenereres eller compileres på nytt      */
/*     for å unngå Level-sjekk.                                      */
/*                                                                   */
/*                                                                   */
/*********************************************************************/
