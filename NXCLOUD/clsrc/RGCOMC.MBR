
/*           Generere   POSTER-Grunnlag for oppdatering fra          */
/*                      Compello     - Preregistrering               */

 STRPGM:     PGM        PARM(&FGRP &NULL)

             DCL        VAR(&FGRP) TYPE(*CHAR) LEN(3)
             DCL        VAR(&NULL) TYPE(*CHAR) LEN(1)
             DCL        VAR(&DBIB) TYPE(*CHAR) LEN(6) VALUE('ADB   ')
             DCL        VAR(&BBIB) TYPE(*CHAR) LEN(10) VALUE('curlib')
             DCL        VAR(&SBIB) TYPE(*CHAR) LEN(6) VALUE('*LIBL')

             DCL        VAR(&RGBF) TYPE(*CHAR) LEN(6) VALUE('rcomBF')
             DCL        VAR(&RGPF) TYPE(*CHAR) LEN(6) VALUE('rcomPF')
             DCL        VAR(&RGLU) TYPE(*CHAR) LEN(6) VALUE('rcomLU')
             DCL        VAR(&RGLr) TYPE(*CHAR) LEN(6) VALUE('rcomLR')
             DCL        VAR(&RGL1) TYPE(*CHAR) LEN(6) VALUE('rcomL1')
             DCL        VAR(&RGL2) TYPE(*CHAR) LEN(6) VALUE('rcomL2')
             DCL        VAR(&RGL3) TYPE(*CHAR) LEN(6) VALUE('rcomL3')

/*           Setter bibliotek til current                            */

             CHGVAR     VAR(%SST(&DBIB 4 3)) VALUE(&FGRP)
             RTVJOBA    CURLIB(&BBIB)
             CHGCURLIB  CURLIB(&DBIB)

/*           Kalle opp fellesprogram                                 */

             CALL       PGM(AG104C) PARM(&FGRP &NULL &DBIB +
                          &SBIB &RGBF &RGPF &RGLU &RGLR &RGL1 &RGL2 +
                          &RGL3)

             crtjrnrcv  jrnrcv(*curlib/rcompfjr) text('JRNRCV for +
                          rcomPF')
             monmsg     msgid(cpf0000)
             CRTJRN     JRN(*CURLIB/RCOMPFJ) JRNRCV(RCOMPFJR) +
                          DLTRCV(*YES) TEXT('Journal for rcomPF')
             monmsg     msgid(cpf0000)
             STRJRNPF   FILE(*CURLIB/RCOMPF) JRN(RCOMPFJ) +
                          IMAGES(*AFTER) OMTJRNE(*OPNCLO)
             monmsg     msgid(cpf0000)

/*   Sett tilbake til opprinnelig curlib                      */
             chgcurlib  curlib(&bbib)

 ENDPGM:     ENDPGM
