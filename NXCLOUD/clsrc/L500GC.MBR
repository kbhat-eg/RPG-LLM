             PGM

             DCL        VAR(&A1NULL) TYPE(*CHAR) LEN(1) VALUE(' ')
             DCL        VAR(&A1FIGR) TYPE(*CHAR) LEN(3)
             DCL        VAR(&APLEVL) TYPE(*CHAR) LEN(2)
             DCL        VAR(&APOKOK) TYPE(*CHAR) LEN(2)
             DCL        VAR(&WALI)  TYPE(*DEC)  LEN(2 0)
             DCL        VAR(&WAPO)  TYPE(*DEC)  LEN(2 0)
             DCL        VAR(&MLD1)  TYPE(*CHAR) LEN(40)
             DCL        VAR(&MLD2)  TYPE(*CHAR) LEN(40)

/* Kontrollere brukertilgang                                         */

             CHGVAR     VAR(&APLEVL) VALUE('40')
             CHGVAR     VAR(&APOKOK) VALUE('  ')
             CALL       PGM(AA050C)  PARM(&APLEVL &APOKOK)
             IF         COND(&APOKOK *NE 'OK') THEN(DO)
             CALL       PGM(AA004C)
             GOTO       CMDLBL(ENDPGM)
             ENDDO

/* Henter inn aktuell filgruppe                                      */
             RTVDTAARA  DTAARA(*LDA (931 3)) RTNVAR(&A1FIGR)

/* Generer filer som er nødvendige                                   */

             CHGVAR     VAR(&WALI) VALUE(6)
             CHGVAR     VAR(&WAPO) VALUE(30)
             CHGVAR     VAR(&MLD1) VALUE('Generering av:           ')
             CHGVAR     VAR(&MLD2) VALUE('Nødvendige std. filer    ')
             CALL       PGM(AA006C)  PARM(&WALI &WAPO &MLD1 &MLD2)

             CALL       PGM(LG020C) PARM(&A1FIGR &A1NULL)
             CALL       PGM(LG170C) PARM(&A1FIGR &A1NULL)
             CALL       PGM(LG510C) PARM(&A1FIGR &A1NULL)
             CALL       PGM(LG520C) PARM(&A1FIGR &A1NULL)
             CALL       PGM(LG820C) PARM(&A1FIGR &A1NULL)

 ENDPGM:     ENDPGM
