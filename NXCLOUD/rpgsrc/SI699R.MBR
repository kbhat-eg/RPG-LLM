      /TITLE  Sletting av statistikk-type
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
      * System  . . . . : ASSTAT
      * Program . . . . : SI699R
      * Beskrivelse . . : Sletting av statistikk-type
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
      * Spesialversjon. :
      * Tilpasset for . :
      *
      * Ref.   Dato  Sign Endringsbeskrivelse
      * ----- ------ ---- -------------------------------------------------
      *
      *
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     fslpml1    if   e           k disk
     fslpmlu    uf   e           k disk    rename(slpmpfr:slpmlur)
     f
      *
      *
      ******************* DATA STRUKTURER ********************************
      *
      *
     D                uds
     D lcwsid                901    910
     D lcuser                        10
     D lcfirm                944    946  0
     D lcnavn                951    980
     *
     d wwrest          ds           330
     d wwtext                        30
     d wwsrt1                         2  0
     d wwsrt2                         2  0
     d wwsrt3                         2  0
     d wwsps1                         1a
     d wwsps2                         1a
     d wwsps3                         1a
     d wwsps4                         1a
     d wwsps5                         1a
     d wwsps6                         1a
     d wwpmnd                         2  0
     d wwpaar                         4  0
     d wwsmli                         1a
     d wwsps7                         1a
     D wwsss1                         1a
     D wwsss2                         1a
     D wwsss3                         1a
     d wwslet                         1a
      *
     D wwfirm          s                   like(srfirm)
     D wwtype          s                   like(srtype)
     D wwkode          s                   like(srkode)
     D wwvalg          s                   like(srvalg)
      *
      * Behandle transaksjoner
      *
     c                   eval      wwfirm = lcfirm
     c                   eval      wwtype = dstype
     c                   eval      wwkode = *zeros
     c                   eval      wwvalg = *blank
     c     slpml1_key    setll     slpml1
      *
      * Leser transaksjoner
      *
     c     xnyles        tag
      *
     c                   read      slpml1                                 10
     c                   if        *in10 = *on
     c                   goto      xslutt
     c                   endif
      *
      * Sjekk riktig firma
      *
     C                   if        srfirm  > lcfirm
     C                   goto      xslutt
     C                   endif
      *
      * Sjekk riktig type
      *
     C                   if        srtype  > dstype
     C                   goto      xslutt
     C                   endif
      *
      * Finner f√∏rste record
      *
     C                   if        srkode = 00
     C                   move      srrest        wwrest
     C                   endif
      *
      * Sletter records
      *
     C                   if        wwslet = 'N'
     C                   move      srkode        wwkode
     C                   move      srvalg        wwvalg
     c     slpml1_key    chain     slpmlu                             90
     C                   delete    slpmlur
     C                   endif
      *
      *
      *
      * Returner til nytt les
      *
     C                   goto      xnyles
      *
     C     xslutt        tag
      *
     C                   move      *on           *inlr
      *
      /EJECT
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      * Subrutine for initiering av program                             *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      *
     C     *inzsr        begsr
      *
      * Key for file nummerisk
      *
     C     slpml1_key    klist
     C                   kfld                    wwfirm
     C                   kfld                    wwtype
     C                   kfld                    wwkode
     C                   kfld                    wwvalg
      *
     C     *entry        plist
     C                   parm                    dstype           10
      *
     C                   endsr
