     h datedit(*dmy) option(*nodebugio)
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
      * System. . . . . : ASLAGR
      * Program . . . . : LL500R
      * Beskrivelse . . : Finne varenummer på lagerspørring
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
      * Spesialversjon. :
      * Tilpasset for . :
      *
      * Ref.   Dato  Sign Endringsbeskrivelse
      * ----- ------ ---- -------------------------------------------------
7.xx  * 7.00  220116 bsa  Endringer reltart til ny GUI. NB Kan kun gjelde DDS
      *
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     fvvarl1    if   e           k disk    rename(vvarpfr:vvarl1r)
      *
     fll500d    cf   e             workstn
      *
      * Definering av Local data area
      *
     d                uds
     d l_user                911    920
     d l_firm                944    946  0
     d l_fnav                951    980
      *
      * Definering av variabler i nøkler
      *
     d vvarl1_vare     s                   like(vvvare)
      *
      * Definering av variable
      *
     d w_firm          s                   like(vvfirm)
     d w_vare          s                   like(vvvare)
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *  Hovedprogram: Søke og kontrollere varenummer
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
      *  Nullstiller/Blanker felter som skal benyttes
      *
     c     start_pgm     tag
      *
     c                   eval      b1vare = 0
     c                   eval      b1vtek = *blank
      *
     c     bilde_ut      tag
     c                   exfmt     b1bld
      *
      *  F3=Avslutt program
      *
     c                   if        *inkc = *on
     c                   goto      end_pgm
     c                   endif
      *
      *  F4=Spørring i vare-register
      *
     c                   if        *inkd = *on
     c                   call      'VV500R'
     c                   parm                    w_firm
     c                   parm                    vvarl1_vare
     c                   parm                    b1vtek
     c                   movel     vvarl1_vare   b1vare
     c                   goto      bilde_ut
     c                   endif
      *
      *  Sjekk, Finnes vare i VARE tabell
      *
     c                   movel     b1vare        vvarl1_vare
     c     vvarl1_key    chain     vvarl1r                            90
     c                   if        *in90 = *on
     c                   move      *on           *in31
     c                   goto      bilde_ut
     c                   endif
     c                   movel     b1vare        w_vare
      *
      *  Kaller opp program for å vise lagerbeholdning
      *
     c                   call      'LL502R'
     c                   parm                    w_firm
     c                   parm                    w_vare
      *
     c                   goto      start_pgm
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *  Avslutt program
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
      *
     c     end_pgm       tag
      *
     c                   eval      *inlr = *on
     c                   return
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *  Subrutine for initiering av program
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     c     *inzsr        begsr
      *
      *  Key for les av VARE
      *
     c     vvarl1_key    klist
     c                   kfld                    w_firm
     c                   kfld                    vvarl1_vare
      *
      *  Legger inn firmanummer i nøklene
      *
     c                   move      l_firm        w_firm
      *
     c                   endsr
