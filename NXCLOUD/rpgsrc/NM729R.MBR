     h option(*nodebugio : *srcstmt) datedit(*dmy)
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
      * System  . . . . : ASLAGR
      * Program . . . . : NM729R
      * Beskrivelse . . : Slette data tilbake i tid.
      *
      * Spesialversjon. :
      * Tilpasset for . :
      *
      * Ref.   Dato  Sign Endringsbeskrivelse
      * ----- ------ ---- -------------------------------------------------
      *       291122 bsa  Nytt program
      *
      *
      *
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
      *  Bruk av indikatorer:
      *
      *       LR = Avslutt program
      *    30-99 = Arbeidsindikatorer
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
      * Definering av Local data area
      *
     d                uds
     d l_user                911    920
     d l_filg                931    933
     d l_firm                944    946  0
     d l_fnav                951    980
      *
      * Definering av variabler i nøkler
      *
      * Definering av variable
      *
     d w_stat          s              1  0
     d w_dato          s               d   datfmt(*iso)
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     C/Exec SQL
     C+  Set Option DatFmt=*ISO , commit=*none, DlyPrp=*YES, SRTSEQ=*LANGIDUNQ,
     C+             LANGID=NOR
     C/End-Exec
      *
      * Hovedprogram
      *
      /FREE

       // Slette sources (leverandører)
       exec sql
         DELETE FROM BRSOST
           WHERE BRSSTA = :w_stat AND BRSODA < :w_dato;

       // Slette items (varer)
       exec sql
         DELETE FROM BRITST
           WHERE BRISTA = :w_stat AND BRIODA < :w_dato;

       // Slette stock (lager)
       exec sql
         DELETE FROM BRSTST
           WHERE BSTSTA = :w_stat AND BSTODA < :w_dato;

       // Slette invoice daily (daglig levering)
       exec sql
         DELETE FROM BRIDST
           WHERE BIDSTA = :w_stat AND BIDODA < :w_dato;

       // Slette sales history (salgshistorikk)
       exec sql
         DELETE FROM BRSHST
           WHERE BRHSTA = :w_stat AND BRHODA < :w_dato;

       // Slette open orders (åpne ordre)
       exec sql
         DELETE FROM BROOST
           WHERE BOOSTA = :w_stat AND BOOODA < :w_dato;

      /END-FREE
      *
      * Avslutt program
      *
     c     avslutt       tag
      *
     c                   eval      *inlr = *on
     c                   return
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      * Subrutine for initiering av program
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     c     *inzsr        begsr
      *
     c*     *entry        plist
     c*                   parm                    p_dflldor
      *
      * Sletter data som er overført og mer enn 3 dager gamle
      *
     c                   eval      w_stat = 1
     c                   time                    w_dato
     c                   subdur    3:*d          w_dato
      *
     c                   endsr
