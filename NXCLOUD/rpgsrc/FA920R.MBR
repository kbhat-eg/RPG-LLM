     H/TITLE  ASOFAK: Henter nummer for members-file
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
      * System. . . . . : ASOFAK
      * Program . . . . : FA920R
      * Beskrivelse . . : Henter nummer for members-file
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
      * Spesialversjon. :
      * Tilpasset for . :
      *
      * Ref.   Dato  Sign Endringsbeskrivelse
      * ----- ------ ---- -------------------------------------------------
6.nu  * 6.30  160614 bof  Endring vedr. nummerutvidelse
      *
      *
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
      *
     FFSTSL1    IF   E           K DISK
     F                                     RENAME(FSTSPFR:FSTSL1R)
      *
      *
     D                UDS
     D  DSSFIR               944    946  0
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      *  Hent nummer fra Nummer-system                                  *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      *
      *
     C                   MOVE      FAALSM        WSFELL
     C                   MOVE      '0'           WSKODE
     C                   EXSR      HNTNUM
     C                   MOVE      WSNUMM        WPNUMM
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      *  Avslutt program                                                *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      *
      *
     C     XSLUTT        TAG
      *
     C                   SETON                                        LR
     C                   RETURN
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      *  Henter/Oppdatering av NUMMER-REGISTER                          *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      *
      *
     CSR   HNTNUM        BEGSR
      *
     C                   MOVE      *BLANK        WSTYPE
     C                   MOVE      *BLANK        WSFAST
      *
      *  Kaller opp subprogram for henting av nummer fra NUMMER-REGISTER
      *
     C                   CALL      'AS100R'
     C                   PARM                    WSKODE
     C                   PARM                    WSFIRM
     C                   PARM                    WSFELL
     C                   PARM                    WSTYPE
     C                   PARM                    WSFAST
     C                   PARM                    WSNUMM
      *
     CSR                 ENDSR
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      *  Subrutine for initiering av program                            *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      *
      *
     CSR   *INZSR        BEGSR
      *
      *  Nullstilling av felter som ikke kan redefineres
      *
     C                   MOVE      *BLANK        WPQNNN            1
     C                   MOVE      *ZERO         WPNUMM            6 0
      *
     C                   MOVE      *BLANK        WSKODE            1
     C                   MOVE      *ZERO         WSFIRM            3 0
     C                   MOVE      *BLANK        WSFELL            6
     C                   MOVE      *BLANK        WSTYPE            2
     C                   MOVE      *BLANK        WSFAST           10
6.30 C                   MOVE      *ZERO         WSNUMM            8 0
      *
      *  Redefinering av nøkler
      *
     C     *LIKE         DEFINE    FAAFIR        STSFIR
      *
      *  Key for file : OFAK-KODE-REGISTER
      *
     C     STSKEY        KLIST
     C                   KFLD                    STSFIR
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      *  Tar inn parameter fra forrige program                          *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      *
      *
     C     *ENTRY        PLIST
     C                   PARM                    WPQNNN
     C                   PARM                    WPNUMM
      *
      *  Legger inn firmanummer i nøkklene
      *
     C                   MOVE      DSSFIR        STSFIR
     C                   MOVE      DSSFIR        WSFIRM
      *
      *  Nullstiller felter som skal benyttes
      *
     C                   MOVE      *ZERO         WPNUMM
      *
      *  Hent opplysninger fra OFAK-KODE-REGISTER
      *
     C     STSKEY        CHAIN     FSTSL1R                            90
      *
     CSR                 ENDSR
