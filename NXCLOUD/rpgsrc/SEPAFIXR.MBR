     h option(*nodebugio) datedit(*dmy)
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
      * System  . . . . : NXCLOUD
      * Program . . . . : SEPAFIXR
      * Beskrivelse . . : Spesialprogram for å "vaske" sepafiler fra BC+at
      *
      * Ref.   Dato  Sign Endringsbeskrivelse
      * ----- ------ ---- -------------------------------------------------
      *       191224 ask  Nytt program
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     fwsepain   if   e           k disk
     fwsepaut   o  a e           k disk    rename(seputpfr:seputpfr)
      *
      * Definering av variable
      *
     d w_hele          s            200
     d w_bank          s             11
     d w_pos           s              3  0
     d b_vask          s              1    inz(*off)
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      * Hovedprogram
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
      *
      * Leser linjer og sjekker om de skal vaskes
      *
     c                   read      wsepain
     c                   dow       not %eof
     c                   eval      w_hele = sepainr
     c                   exsr      sjk_vask
      *
     c                   eval      sepautr = w_hele
     c                   write     seputpfr
      *
     c                   read      wsepain
     c                   enddo
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      * Avslutt program
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     c     avslutt       tag
      *
     c                   eval      *inlr = *on
     c                   return
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      * Subrutine for å sjekke om linjer skal byttes
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     c     sjk_vask      begsr
      *
     c                   if        b_vask = *off
     c                   eval      w_pos = %scan('<CdtrAcct>' : w_hele)
     c                   if        w_pos > 0
     c                   eval      b_vask = *on
     c                   leavesr
     c                   endif
     c                   endif
      *
     c                   if        b_vask = *on
     c                   eval      w_pos = %scan('<Id>' : w_hele)
     c                   if        w_pos > 0
     c                   leavesr
     c                   endif
     c                   endif
      *
     c                   if        b_vask = *on
     c                   eval      w_pos = %scan('<IBAN>' : w_hele)
     c                   if        w_pos > 0
     c                   eval      w_bank = %subst(w_hele:w_pos+6:11)
     c                   exsr      bytt_linjer
     c                   eval      b_vask = *off
     c                   endif
     c                   endif
      *
     c                   endsr
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      * Subrutine for bytte linjer
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     c     bytt_linjer   begsr
      *
     c                   eval      w_hele = ' '
     c                   eval      w_hele = '          <Othr>'
     c                   eval      sepautr = w_hele
     c                   write     seputpfr
      *
     c                   eval      w_hele = ' '
     c                   eval      w_hele = '            <Id>' +
     c                             w_bank + '</Id>'
     c                   eval      sepautr = w_hele
     c                   write     seputpfr
      *
     c                   eval      w_hele = ' '
     c                   eval      w_hele = '            <SchmeNm>'
     c                   eval      sepautr = w_hele
     c                   write     seputpfr
      *
     c                   eval      w_hele = ' '
     c                   eval      w_hele = '              ' +
     c                             '<Cd>BBAN</Cd>'
     c                   eval      sepautr = w_hele
     c                   write     seputpfr
      *
     c                   eval      w_hele = ' '
     c                   eval      w_hele = '            </SchmeNm>'
     c                   eval      sepautr = w_hele
     c                   write     seputpfr
      *
     c                   eval      w_hele = ' '
     c                   eval      w_hele = '          </Othr>'
     c                   eval      sepautr = w_hele
      *
     c                   endsr
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      * Subrutine for initiering av program
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     c     *inzsr        begsr
      *
     c                   endsr
