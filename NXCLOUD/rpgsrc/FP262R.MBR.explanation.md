```markdown
# RPG Source Code Explanation: LO762R

This RPG program's main purpose is to generate unique file names using the current date and time. The resulting file names are returned as parameters to the caller: one for a `.dat` file and one for a `.flg` file.

---

## 1. Compilation Options

```rpg
h option(*nodebugio) datedit(*dmy)
```
- `*NODEBUGIO`: Disables certain debug options for file I/O.
- `datedit(*dmy)`: Date literals use day/month/year format.

---

## 2. Program Overview

- **Program Name:** LO762R
- **Purpose:** Generate unique filenames based on current date and time.
- **Change Log:** Initial version 01.07.2002 by "ASK".
- **Indicator Usage:** Only `LR` (last record) is used to quit the program.

---

## 3. Data Structure Definitions

### Filename Data Structure

```rpg
d                 ds
d d_fnav                        20
d  d_fnav01                      6  0 overlay(d_fnav)
d  d_fnav02                      6  0 overlay(d_fnav:7)
d  d_fnav03                      4    overlay(d_fnav:13)
```
- **d_fnav:** 20-character field for the complete filename.
- **d_fnav01:** 6-digit date (`YYMMDD`).
- **d_fnav02:** 6-digit time (`HHMMSS`), overlays positions 7-12 of d_fnav.
- **d_fnav03:** 4-character file extension, overlays positions 13-16 (e.g., `.dat` or `.flg`).

### Parameter Variables

```rpg
d p_fna1          s             20
d p_fna2          s             20
```
- **p_fna1:** Output parameter for `.dat` filename.
- **p_fna2:** Output parameter for `.flg` filename.

### Other Variables

```rpg
d w_dato          s               d   datfmt(*iso)
d w_time          s               t   timfmt(*iso)
d w_dato_6        s              6  0
d w_time_6        s              6  0
```
- **w_dato:** Date variable (ISO format).
- **w_time:** Time variable (ISO format).
- **w_dato_6:** Date in YYMMDD, for the filename.
- **w_time_6:** Time in HHMMSS, for the filename.

---

## 4. Main Program Logic

### a. Fetch System Date and Time

```rpg
c                   time                    w_dato
c                   time                    w_time
```
- Retrieves the current system date and time and stores into `w_dato` and `w_time`.

### b. Convert to Numeric Format

```rpg
c     *ymd          move      w_dato        w_dato_6
c     *hms          move      w_time        w_time_6
```
- Converts date/time into numeric 6-digit values:
  - `w_dato_6`: `YYMMDD`
  - `w_time_6`: `HHMMSS`

### c. Assemble Filename

```rpg
c                   eval      d_fnav01 = w_dato_6
c                   eval      d_fnav02 = w_time_6
c                   eval      d_fnav03 = '.dat'
c                   eval      p_fna1 = d_fnav
c                   eval      d_fnav03 = '.flg'
c                   eval      p_fna2 = d_fnav
```
- Sets parts of the filename in the overlaid data structure:
    - First 6 chars: date (YYMMDD)
    - Next 6 chars: time (HHMMSS)
    - Next 4 chars: file extension
- Builds `.dat` and `.flg` filenames and outputs them through parameters.

### Example

If the date is July 1, 2002 (`02/07/01`) and time is 13:45:25 (`13:45:25`), then:
- `p_fna1 = '020701134525.dat'`
- `p_fna2 = '020701134525.flg'`

---

## 5. Program End

```rpg
c     end_pgm       tag
c                   eval      *inlr = *on
c                   return
```
- Sets *INLR (last record indicator) to `*ON` to end the program and release resources.

---

## 6. Initialization Subroutine

```rpg
c     *inzsr        begsr
c     *entry        plist
c                   parm                    p_fna1
c                   parm                    p_fna2
c                   endsr
```
- `*INZSR` ("initialization subroutine") runs at program start.
- Receives two parameters `p_fna1` and `p_fna2` (both 20 chars).

---

## 7. Parameter Usage

- The program is meant to be called from another program, passing two 20-character variables by reference.
- After execution, these variables hold the generated filenames.

---

## 8. Summary

**Overall Function:**  
This program generates two unique filenames (one with a `.dat` extension and one with `.flg`) based on the current date and time. It builds the filenames by concatenating YYMMDD, HHMMSS, and the file extension. The filenames are returned to the caller through parameters.

---

**Comments in Code:**  
Code comments and tags are mostly in Norwegian, clarifying steps and data usage, and providing history and indicator usage.
```