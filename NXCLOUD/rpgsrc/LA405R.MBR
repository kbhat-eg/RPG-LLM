      /TITLE  ASLAGR Opprydding i filer
     h option(*nodebugio)
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
      * System. . . . . : ASLAGR
      * Program . . . . : LA405R
      * Beskrivelse . . : Kopier firma
      *
      * Spesialversjon. :
      * Tilpasset for . :
      *
      * Ref.   Dato  Sign Endringsbeskrivelse
      * ----- ------ ---- -------------------------------------------------
      *       101299 KOB  Nytt program
      * 6.10  150609 BSA  Oppdatert med sporingsinformasjon
      *
8.01  *       220621 bsa  Utvidet meldingsnummer fra 6-8 siffer
      *
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     flbchl1    if   e           k disk    rename(lbchpfr:lbchl1r)
     flbchlu    o    e           k disk    rename(lbchpfr:lbchlur)
     flbdtl1    if   e           k disk    rename(lbdtpfr:lbdtl1r)
     flbdtlu    o    e           k disk    rename(lbdtpfr:lbdtlur)
     flbhel1    if   e           k disk    rename(lbhepfr:lbhel1r)
     flbhelu    o    e           k disk    rename(lbhepfr:lbhelur)
     fldell1    if   e           k disk    rename(ldelpfr:ldell1r)
     fldellu    o    e           k disk    rename(ldelpfr:ldellur)
     fledil1    if   e           k disk    rename(ledipfr:ledil1r)
     fledilu    o    e           k disk    rename(ledipfr:ledilur)
     flfdtl1    if   e           k disk    rename(lfdtpfr:lfdtl1r)
     flfdtlu    o    e           k disk    rename(lfdtpfr:lfdtlur)
     flfhel1    if   e           k disk    rename(lfhepfr:lfhel1r)
     flfhelu    o    e           k disk    rename(lfhepfr:lfhelur)
     flftxl1    if   e           k disk    rename(lftxpfr:lftxl1r)
     flftxlu    o    e           k disk    rename(lftxpfr:lftxlur)
     flldil1    if   e           k disk    rename(lldipfr:lldil1r)
     flldilu    o    e           k disk    rename(lldipfr:lldilur)
     flldtl1    if   e           k disk    rename(lldtpfr:lldtl1r)
     flldtlu    o    e           k disk    rename(lldtpfr:lldtlur)
     fllhel1    if   e           k disk    rename(llhepfr:llhel1r)
     fllhelu    o    e           k disk    rename(llhepfr:llhelur)
     flodtl1    if   e           k disk    rename(lodtpfr:lodtl1r)
     flodtlu    o    e           k disk    rename(lodtpfr:lodtlur)
     flohel1    if   e           k disk    rename(lohepfr:lohel1r)
     flohelu    o    e           k disk    rename(lohepfr:lohelur)
     flotxl1    if   e           k disk    rename(lotxpfr:lotxl1r)
     flotxlu    o    e           k disk    rename(lotxpfr:lotxlur)
     flplll1    if   e           k disk    rename(lpllpfr:lplll1r)
     flplllu    o    e           k disk    rename(lpllpfr:lplllur)
     flplol1    if   e           k disk    rename(lplopfr:lplol1r)
     flplolu    o    e           k disk    rename(lplopfr:lplolur)
     flpm1l1    if   e           k disk    rename(lpm1pfr:lpm1l1r)
     flpm1lu    o    e           k disk    rename(lpm1pfr:lpm1lur)
     flpm2l1    if   e           k disk    rename(lpm2pfr:lpm2l1r)
     flpm2lu    o    e           k disk    rename(lpm2pfr:lpm2lur)
     flpsol1    if   e           k disk    rename(lpsopfr:lpsol1r)
     flpsolu    o    e           k disk    rename(lpsopfr:lpsolur)
     flstsl1    if   e           k disk    rename(lstspfr:lstsl1r)
     flstslu    o    e           k disk    rename(lstspfr:lstslur)
     fltell1    if   e           k disk    rename(ltelpfr:ltell1r)
     fltellu    o    e           k disk    rename(ltelpfr:ltellur)
     flusrl1    if   e           k disk    rename(lusrpfr:lusrl1r)
     flusrlu    o    e           k disk    rename(lusrpfr:lusrlur)
     fsidtl1    if   e           k disk    rename(sidtpfr:sidtl1r)
     fsidtlu    o    e           k disk    rename(sidtpfr:sidtlur)
     fsihel1    if   e           k disk    rename(sihepfr:sihel1r)
     fsihelu    o    e           k disk    rename(sihepfr:sihelur)
8.02 flotii2    if   e           k disk    rename(lotist:lotii2r)
8.02 flotist    o    e           k disk    rename(lotist:lotiiur)
      *
     d                uds
     d l_user                911    920
     d l_fgrp                931    933
     d l_firm                944    946  0
     d l_navn                951    980
      *
     d w_firm          s              3  0
      *
      * Lagertelling batch
      *
     c     lbchl1_key    setll     lbchl1                                 90
     c     lbchl1_key    reade     lbchl1                                 90
     c                   dow       *in90 = *off
     c                   eval      lcfirm = w_firm
6.10 c                   eval      lcousr = l_user
6.10 c                   time                    lcodat
6.10 c                   time                    lcotim
6.10 c                   eval      lceusr = l_user
6.10 c                   time                    lceeda
6.10 c                   time                    lceeti
     c                   write     lbchlur
     c     lbchl1_key    reade     lbchl1                                 90
     c                   enddo
      *
      * Lagertelling bunt-linje
      *
     c     lbdtl1_key    setll     lbdtl1                                 90
     c     lbdtl1_key    reade     lbdtl1                                 90
     c                   dow       *in90 = *off
     c                   eval      lvfirm = w_firm
6.10 c                   eval      lvousr = l_user
6.10 c                   time                    lvodat
6.10 c                   time                    lvotim
6.10 c                   eval      lveusr = l_user
6.10 c                   time                    lvedat
6.10 c                   time                    lvetim
     c                   write     lbdtlur
     c     lbdtl1_key    reade     lbdtl1                                 90
     c                   enddo
      *
      * Lagertelling bunt-hode
      *
     c     lbhel1_key    setll     lbhel1                                 90
     c     lbhel1_key    reade     lbhel1                                 90
     c                   dow       *in90 = *off
     c                   eval      lufirm = w_firm
6.10 c                   eval      luuser = l_user
6.10 c                   time                    luodat
6.10 c                   time                    lutime
6.10 c                   eval      lueusr = l_user
6.10 c                   time                    luedat
6.10 c                   time                    luetim
     c                   write     lbhelur
     c     lbhel1_key    reade     lbhel1                                 90
     c                   enddo
      *
      * Ordre-slettet
      *
     c     ldell1_key    setll     ldell1                                 90
     c     ldell1_key    reade     ldell1                                 90
     c                   dow       *in90 = *off
     c                   eval      lyfirm = w_firm
6.10 c                   eval      lyuser = l_user
6.10 c                   time                    lydate
6.10 c                   time                    lytime
6.10 c                   eval      lyeusr = l_user
6.10 c                   time                    lyedat
6.10 c                   time                    lyetim
     c                   write     ldellur
     c     ldell1_key    reade     ldell1                                 90
     c                   enddo
      *
      * EDI returmeldinger
      *
     c     ledil1_key    setll     ledil1                                 90
     c     ledil1_key    reade     ledil1                                 90
     c                   dow       *in90 = *off
     c                   eval      lifirm = w_firm
6.10 c                   eval      liousr = l_user
6.10 c                   time                    liodat
6.10 c                   time                    liotim
6.10 c                   eval      lieusr = l_user
6.10 c                   time                    liedat
6.10 c                   time                    lietim
     c                   write     ledilur
     c     ledil1_key    reade     ledil1                                 90
     c                   enddo
      *
      * Bestillingsforslag linje
      *
     c     lfdtl1_key    setll     lfdtl1                                 90
     c     lfdtl1_key    reade     lfdtl1                                 90
     c                   dow       *in90 = *off
     c                   eval      lffirm = w_firm
6.10 c                   eval      lfousr = l_user
6.10 c                   time                    lfodat
6.10 c                   time                    lfotim
6.10 c                   eval      lfeusr = l_user
6.10 c                   time                    lfedat
6.10 c                   time                    lfetim
     c                   write     lfdtlur
     c     lfdtl1_key    reade     lfdtl1                                 90
     c                   enddo
      *
      * Bestillingsforslag hode
      *
     c     lfhel1_key    setll     lfhel1                                 90
     c     lfhel1_key    reade     lfhel1                                 90
     c                   dow       *in90 = *off
     c                   eval      lhfirm = w_firm
6.10 c                   eval      lhousr = l_user
6.10 c                   time                    lhdate
6.10 c                   time                    lhtime
6.10 c                   eval      lheusr = l_user
6.10 c                   time                    lhedat
6.10 c                   time                    lhetim
     c                   write     lfhelur
     c     lfhel1_key    reade     lfhel1                                 90
     c                   enddo
      *
      * Fast bestillingstekst
      *
     c     lftxl1_key    setll     lftxl1                                 90
     c     lftxl1_key    reade     lftxl1                                 90
     c                   dow       *in90 = *off
     c                   eval      ljfirm = w_firm
6.10 c                   eval      ljousr = l_user
6.10 c                   time                    ljodat
6.10 c                   time                    ljotim
6.10 c                   eval      ljeusr = l_user
6.10 c                   time                    ljedat
6.10 c                   time                    ljetim
     c                   write     lftxlur
     c     lftxl1_key    reade     lftxl1                                 90
     c                   enddo
      *
      * Leverand√∏r distribusjon
      *
     c     lldil1_key    setll     lldil1                                 90
     c     lldil1_key    reade     lldil1                                 90
     c                   dow       *in90 = *off
     c                   eval      lpfirm = w_firm
     c                   write     lldilur
     c     lldil1_key    reade     lldil1                                 90
     c                   enddo
      *
      * Lagertrans-linje
      *
     c     lldtl1_key    setll     lldtl1                                 90
     c     lldtl1_key    reade     lldtl1                                 90
     c                   dow       *in90 = *off
     c                   eval      lsfirm = w_firm
6.10 c                   eval      lsousr = l_user
6.10 c                   time                    lsodat
6.10 c                   time                    lsotim
6.10 c                   eval      lseusr = l_user
6.10 c                   time                    lsedat
6.10 c                   time                    lsetim
     c                   write     lldtlur
     c     lldtl1_key    reade     lldtl1                                 90
     c                   enddo
      *
      * Lagertrans-hode
      *
     c     llhel1_key    setll     llhel1                                 90
     c     llhel1_key    reade     llhel1                                 90
     c                   dow       *in90 = *off
     c                   eval      lqfirm = w_firm
6.10 c                   eval      lquser = l_user
6.10 c                   time                    lqdate
6.10 c                   time                    lqtime
6.10 c                   eval      lqeusr = l_user
6.10 c                   time                    lqedat
6.10 c                   time                    lqetim
     c                   write     llhelur
     c     llhel1_key    reade     llhel1                                 90
     c                   enddo
      *
      * Bestilling-linje
      *
     c     lodtl1_key    setll     lodtl1                                 90
     c     lodtl1_key    reade     lodtl1                                 90
     c                   dow       *in90 = *off
     c                   eval      ldfirm = w_firm
6.10 c                   eval      ldousr = l_user
6.10 c                   time                    ldodat
6.10 c                   time                    ldotim
6.10 c                   eval      ldeusr = l_user
6.10 c                   time                    ldedat
6.10 c                   time                    ldetim
     c                   write     lodtlur
     c     lodtl1_key    reade     lodtl1                                 90
     c                   enddo
      *
      * Bestillings-hode
      *
     c     lohel1_key    setll     lohel1                                 90
     c     lohel1_key    reade     lohel1                                 90
     c                   dow       *in90 = *off
     c                   eval      lofirm = w_firm
6.10 c                   eval      louser = l_user
6.10 c                   time                    lodate
6.10 c                   time                    lotime
6.10 c                   eval      loeusr = l_user
6.10 c                   time                    loedat
6.10 c                   time                    loetim
     c                   write     lohelur
     c     lohel1_key    reade     lohel1                                 90
     c                   enddo
8.02  *
8.02  * Bestillings-hode - tillegg
8.02  *
8.02 c     lohel1_key    setll     lotii2                                 90
8.02 c     lohel1_key    reade     lotii2                                 90
8.02 c                   dow       *in90 = *off
8.02 c                   eval      lotfir = w_firm
8.02 c                   eval      loteus = l_user
8.02 c                   time                    loteda
8.02 c                   time                    loteti
8.02 c                   write     lotiiur
8.02 c     lohel1_key    reade     lotii2                                 90
8.02 c                   enddo
      *
      * Ordretekst
      *
     c     lotxl1_key    setll     lotxl1                                 90
     c     lotxl1_key    reade     lotxl1                                 90
     c                   dow       *in90 = *off
     c                   eval      ltfirm = w_firm
6.10 c                   eval      ltousr = l_user
6.10 c                   time                    ltodat
6.10 c                   time                    ltotim
6.10 c                   eval      lteusr = l_user
6.10 c                   time                    ltedat
6.10 c                   time                    ltetim
     c                   write     lotxlur
     c     lotxl1_key    reade     lotxl1                                 90
     c                   enddo
      *
      * Utplukk linje
      *
     c     lplll1_key    setll     lplll1                                 90
     c     lplll1_key    reade     lplll1                                 90
     c                   dow       *in90 = *off
     c                   eval      lklfir = w_firm
     c                   write     lplllur
     c     lplll1_key    reade     lplll1                                 90
     c                   enddo
      *
      * Utplukk param
      *
     c     lplol1_key    setll     lplol1                                 90
     c     lplol1_key    reade     lplol1                                 90
     c                   dow       *in90 = *off
     c                   eval      lkpfir = w_firm
     c                   write     lplolur
     c     lplol1_key    reade     lplol1                                 90
     c                   enddo
      *
      * Utplukk Plukk1 linje
      *
     c     lpm1l1_key    setll     lpm1l1                                 90
     c     lpm1l1_key    reade     lpm1l1                                 90
     c                   dow       *in90 = *off
     c                   eval      lk1fir = w_firm
     c                   write     lpm1lur
     c     lpm1l1_key    reade     lpm1l1                                 90
     c                   enddo
      *
      * Utplukk plukk 2 linje
      *
     c     lpm2l1_key    setll     lpm2l1                                 90
     c     lpm2l1_key    reade     lpm2l1                                 90
     c                   dow       *in90 = *off
     c                   eval      lk2fir = w_firm
     c                   write     lpm2lur
     c     lpm2l1_key    reade     lpm2l1                                 90
     c                   enddo
      *
      * Plukk S-linje
      *
     c     lpsol1_key    setll     lpsol1                                 90
     c     lpsol1_key    reade     lpsol1                                 90
     c                   dow       *in90 = *off
     c                   eval      lksfir = w_firm
     c                   write     lpsolur
     c     lpsol1_key    reade     lpsol1                                 90
     c                   enddo
      *
      * Ofak - kode
      *
     c     lstsl1_key    setll     lstsl1                                 90
     c     lstsl1_key    reade     lstsl1                                 90
     c                   dow       *in90 = *off
     c                   eval      laafir = w_firm
6.10 c                   eval      laaous = l_user
6.10 c                   time                    laaoda
6.10 c                   time                    laaoti
6.10 c                   eval      laaeus = l_user
6.10 c                   time                    laaeda
6.10 c                   time                    laaeti
     c                   write     lstslur
     c     lstsl1_key    reade     lstsl1                                 90
     c                   enddo
      *
      * Lagertelling telleregister
      *
     c     ltell1_key    setll     ltell1                                 90
     c     ltell1_key    reade     ltell1                                 90
     c                   dow       *in90 = *off
     c                   eval      lefirm = w_firm
6.10 c                   eval      leousr = l_user
6.10 c                   time                    leodat
6.10 c                   time                    leotim
6.10 c                   eval      leeusr = l_user
6.10 c                   time                    leedat
6.10 c                   time                    leetim
     c                   write     ltellur
     c     ltell1_key    reade     ltell1                                 90
     c                   enddo
      *
      * User
      *
     c     lusrl1_key    setll     lusrl1                                 90
     c     lusrl1_key    reade     lusrl1                                 90
     c                   dow       *in90 = *off
     c                   eval      lbfirm = w_firm
6.10 c                   eval      lbousr = l_user
6.10 c                   time                    lbodat
6.10 c                   time                    lbotim
6.10 c                   eval      lbeusr = l_user
6.10 c                   time                    lbedat
6.10 c                   time                    lbetim
     c                   write     lusrlur
     c     lusrl1_key    reade     lusrl1                                 90
     c                   enddo
      *
      * Faktura-linjer
      *
     c     sidtl1_key    setll     sidtl1                                 90
     c     sidtl1_key    reade     sidtl1                                 90
     c                   dow       *in90 = *off
     c                   eval      slfirm = w_firm
6.10 c                   eval      slousr = l_user
6.10 c                   time                    slodat
6.10 c                   time                    slotim
6.10 c                   eval      sleusr = l_user
6.10 c                   time                    sledat
6.10 c                   time                    sletim
     c                   write     sidtlur
     c     sidtl1_key    reade     sidtl1                                 90
     c                   enddo
      *
      * Faktura-hode
      *
     c     sihel1_key    setll     sihel1                                 90
     c     sihel1_key    reade     sihel1                                 90
     c                   dow       *in90 = *off
     c                   eval      shfirm = w_firm
6.10 c                   eval      shuser = l_user
6.10 c                   time                    shdate
6.10 c                   time                    shtime
6.10 c                   eval      sheusr = l_user
6.10 c                   time                    shedat
6.10 c                   time                    shetim
     c                   write     sihelur
     c     sihel1_key    reade     sihel1                                 90
     c                   enddo
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      * Avslutt program
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     c     avslutt       tag
      *
     c                   eval      *inlr = *on
     c                   return
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      * Subrutine for initiering av program
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     c     *inzsr        begsr
      *
     c     *entry        plist
     c                   parm                    w_firm
      *
     c     lbchl1_key    klist
     c                   kfld                    l_firm
      *
     c     lbdtl1_key    klist
     c                   kfld                    l_firm
      *
     c     lbhel1_key    klist
     c                   kfld                    l_firm
      *
     c     ldell1_key    klist
     c                   kfld                    l_firm
      *
     c     ledil1_key    klist
     c                   kfld                    l_firm
      *
     c     lfdtl1_key    klist
     c                   kfld                    l_firm
      *
     c     lfhel1_key    klist
     c                   kfld                    l_firm
      *
     c     lftxl1_key    klist
     c                   kfld                    l_firm
      *
     c     lldil1_key    klist
     c                   kfld                    l_firm
      *
     c     lldtl1_key    klist
     c                   kfld                    l_firm
      *
     c     llhel1_key    klist
     c                   kfld                    l_firm
      *
     c     lodtl1_key    klist
     c                   kfld                    l_firm
      *
     c     lohel1_key    klist
     c                   kfld                    l_firm
      *
     c     lotxl1_key    klist
     c                   kfld                    l_firm
      *
     c     lplll1_key    klist
     c                   kfld                    l_firm
      *
     c     lplol1_key    klist
     c                   kfld                    l_firm
      *
     c     lpm1l1_key    klist
     c                   kfld                    l_firm
      *
     c     lpm2l1_key    klist
     c                   kfld                    l_firm
      *
     c     lpsol1_key    klist
     c                   kfld                    l_firm
      *
     c     lstsl1_key    klist
     c                   kfld                    l_firm
      *
     c     ltell1_key    klist
     c                   kfld                    l_firm
      *
     c     lusrl1_key    klist
     c                   kfld                    l_firm
      *
     c     sidtl1_key    klist
     c                   kfld                    l_firm
      *
     c     sihel1_key    klist
     c                   kfld                    l_firm
      *
     c                   endsr
