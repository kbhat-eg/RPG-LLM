     h datedit(*dmy) option(*nodebugio)
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      * System. . . . . : ASOKON                                              *
      * Program . . . . : RH633R                                        *
      * Beskrivelse . . : Hovedbok - spesifisert - utvelgelse           *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      *                                                                 *
      * Spesialversjon. :                                               *
      * Tilpasset for . :                                               *
      *                                                                 *
      * Referanse  Dato   Endringsbeskrivelse                      Sign.*
      * --------- ------  ----------------------------------------------*
      *                   Nytt program april 94                     KOB *
      *                                                                 *
      *                                                                 *
      *                                                                 *
      *                                                                 *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      *                                                                 *
      *  BRUK AV INDIKATORER                                            *
      *                                                                 *
      *       KA = F1  = Valg av firma                                  *
      *       KC = F3  = Exit                                           *
      *                                                                 *
      *       LR = Avslutt program                                      *
      *       30 = Protect av felter ved vise                           *
      *    31-59 = Varsle m/feilmeldinger/skjermindikatorer             *
      *    60-69 = Fileindikatorer chain etc.                           *
      *    70-79 = Arbeidsindikatorer i sub-rutiner                     *
      *    80-89 = Arbeidsindikatorer ordinære                          *
      *    90-99 = Benyttes ved std. sub-rutiner                        *
      *                                                                 *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      *
     frhtrl1    if   e           k disk    rename(rhtrpfr:rhtrl1r)
     frhw1pf    o    e           k disk
      *
     d                uds
     d rhpkda                300    305  0
     d rhprÅr                         4  0
     d rhpper                         2  0
     d rhppef                         2  0
     d rhppet                         2  0
     d rhpavf                         4  0
     d rhpavt                         4  0
     d rhpbØf                         4  0
     d rhpbØt                         4  0
     d rhpktf                         5  0
     d rhpktt                         5  0
     d rhpsrt                         1
     d rhpsml                         1
     d rhpavv                         1
     d rhpkgs                         1
     d rhpkks                         1
     d rhpsps                         1
     d rhpktu                         1
      *
     d l_user                911    920
     d l_firm                944    946  0
     d l_fnav                951    980
      *
      * Sorteringsbegrep
      *
     d
     d wksort          ds
     d  wkfirm                        3  0                                      Firma
     d  wkraar                        4  0                                      Kunde
     d  wkkon1                        6  0                                      Bilags
     d  wkrper                        2  0                                      Bilags
     d  wkkon2                        6  0                                      Bilags
     d  wkkon3                        6  0                                      Bilags
     d  wkbdat                         d   datfmt(*iso)                         Bilags
6.NU d  wkbiln                        8  0                                      Bilags
     d  wktist                             like(rbtist)                         Post-n
      *
     d w_firm          s              3  0
     d w_raar          s              4  0
      *
      /eject
      *
     c     rhtrl1_key    setll     rhtrl1r                                61
     c     rhtrl1_key    reade     rhtrl1r                                61
      *
     c                   dow       *in61 = *off                                          .....
      *
      * Test om posteringen har vært med på spesifisert hovedbok før
      *  - Hvis ja, sett periode = 0, slik at posten summeres til
      *    inngående balanse i utskriftsprogrammet
      *
     c                   if        rbhmrk = '1'                                          .....
     c                   eval      rbrper = *zero                                            .
     c                   endif                                                           .....
      *
      * Test om riktig periode
      * Legg ut hovedbokspostering                                      .
      *                                                             .....
     c                   if        rbrper <= rhppef                                          .
      *
      * Legg ut sorteringsbegrep
      *
     c                   eval      wkfirm = rbfirm
     c                   eval      wkraar = rbraar
      *
     c                   eval      wkkon1 = rbkont
     c                   eval      wkkon2 = rbavde
     c                   eval      wkkon3 = rbspes
      *
     c                   eval      wkrper = rbrper
     c                   eval      wkbdat = rbbdat
     c                   eval      wkbiln = rbbiln
     c                   eval      wktist = rbtist
      *
     c                   eval      rwkkey = wksort
      *
     c                   write     rhw1pfr                                                   .
     c                   endif                                                               .
      *
     c     rhtrl1_key    reade     rhtrl1r                                61
     c                   enddo
      /space 3
      *
     c     slutt         tag
      *
     c                   eval      *inlr = *on
      *
      /eject
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      * Subrutine for initiering av program                             *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      *
     c     *inzsr        begsr
      *
      *  Behandle parametre
      *
     c                   move      l_firm        w_firm
     c                   move      rhprÅr        w_raar
      *
      * Key for hovedboksposteringer
      *
     c     rhtrl1_key    klist
     c                   kfld                    w_firm
     c                   kfld                    w_raar
      *
     c                   endsr
