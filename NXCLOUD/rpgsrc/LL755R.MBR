     h option(*nodebugio) datedit(*dmy)
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
      * System. . . . . : ASLAGR
      * Program . . . . : LL755R
      * Beskrivelse . . : Lagerregister og lagerbok, bytter navn p책 enhet
      *                   p책 vare
      *
      * Spesialversjon. :
      * Tilpasset for . :
      *
      * Ref.   Dato  Sign Endringsbeskrivelse
      * ----- ------ ---- -------------------------------------------------
      *       161003 HKO  Nytt program
      * 6.10  160609 BSA  Oppdatert med sporingsinformasjon
      *
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     fvlaglu    uf   e           k disk    rename(vlagpfr:vlaglur)
     fvhisl3    uf   e           k disk    rename(vhispfr:vhisl3r)
     flodtlv    uf   e           k disk    rename(lodtpfr:lodtlvr)
     flfdtl3    uf   e           k disk    rename(lfdtpfr:lfdtl3r)
     fltell3    uf   e           k disk    rename(ltelpfr:ltell3r)
     flbdtl3    uf   e           k disk    rename(lbdtpfr:lbdtl3r)
     flldtl3    uf   e           k disk    rename(lldtpfr:lldtl3r)
     fsidtlv    uf   e           k disk    rename(sidtpfr:sidtlvr)
      *
6.10  *
6.10  *    Definering av LDA
6.10  *
6.10 d                uds
6.10 d l_user                911    920
      *
      * Definering av parametre
      *
     d p_firm          s                   like(vlfirm)
     d p_vare          s                   like(vlvare)
     d p_enhg          s                   like(vlenhl)
     d p_enhn          s                   like(vlenhl)
      *
      * Definering av variable
      *
     d w_firm          s                   like(vlfirm)
     d w_vare          s                   like(vlvare)
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      * Hovedprogram
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
      * Lagerbok
      *
     c     key01         setll     vlaglu
     c     key01         reade     vlaglur
     c                   dow       not %eof
      *
     c                   if        vlenhl = p_enhg
     c                   eval      vlenhl = p_enhn
     c                   endif
      *
6.10 c                   time                    vledat
6.10 c                   time                    vletim
6.10 c                   eval      vleusr = l_user
      *
     c                   update    vlaglur
      *
     c     key01         reade     vlaglur
     c                   enddo
      *
      * Historisk lagerbok
      *
     c     key01         setll     vhisl3
     c     key01         reade     vhisl3r
     c                   dow       not %eof
      *
     c                   if        vhenhl = p_enhg
     c                   eval      vhenhl = p_enhn
     c                   endif
      *
6.10 c                   time                    vhedat
6.10 c                   time                    vhetim
6.10 c                   eval      vheusr = l_user
      *
     c                   update    vhisl3r
      *
     c     key01         reade     vhisl3r
     c                   enddo
      *
      * Betilling-linje
      *
     c     key01         setll     lodtlv
     c     key01         reade     lodtlvr
     c                   dow       not %eof
      *
     c                   if        ldenh1 = p_enhg
     c                   eval      ldenh1 = p_enhn
     c                   endif
      *
6.10 c                   time                    ldedat
6.10 c                   time                    ldetim
6.10 c                   eval      ldeusr = l_user
      *
     c                   update    lodtlvr
      *
     c     key01         reade     lodtlvr
     c                   enddo
      *
      * Bestillingsforslag-linje
      *
     c     key01         setll     lfdtl3
     c     key01         reade     lfdtl3r
     c                   dow       not %eof
      *
     c                   if        lfenh1 = p_enhg
     c                   eval      lfenh1 = p_enhn
     c                   endif
      *
6.10 c                   time                    lfedat
6.10 c                   time                    lfetim
6.10 c                   eval      lfeusr = l_user
      *
     c                   update    lfdtl3r
      *
     c     key01         reade     lfdtl3r
     c                   enddo
      *
      * Lagertelling-telle
      *
     c     key01         setll     ltell3
     c     key01         reade     ltell3r
     c                   dow       not %eof
      *
     c                   if        leenh1 = p_enhg
     c                   eval      leenh1 = p_enhn
     c                   endif
      *
6.10 c                   time                    leedat
6.10 c                   time                    leetim
6.10 c                   eval      leeusr = l_user
      *
     c                   update    ltell3r
      *
     c     key01         reade     ltell3r
     c                   enddo
      *
      * Lagertelling-bunt-linje
      *
     c     key01         setll     lbdtl3
     c     key01         reade     lbdtl3r
     c                   dow       not %eof
      *
     c                   if        lvenh1 = p_enhg
     c                   eval      lvenh1 = p_enhn
     c                   endif
      *
6.10 c                   time                    lvedat
6.10 c                   time                    lvetim
6.10 c                   eval      lveusr = l_user
      *
     c                   update    lbdtl3r
      *
     c     key01         reade     lbdtl3r
     c                   enddo
      *
      * Lagertransaksjon-linje
      *
     c     key01         setll     lldtl3
     c     key01         reade     lldtl3r
     c                   dow       not %eof
      *
     c                   if        lsenh1 = p_enhg
     c                   eval      lsenh1 = p_enhn
     c                   endif
      *
6.10 c                   time                    lsedat
6.10 c                   time                    lsetim
6.10 c                   eval      lseusr = l_user
      *
     c                   update    lldtl3r
      *
     c     key01         reade     lldtl3r
     c                   enddo
      *
      * Inng책ende-faktura-linje
      *
     c     key01         setll     sidtlv
     c     key01         reade     sidtlvr
     c                   dow       not %eof
      *
     c                   if        slenh1 = p_enhg
     c                   eval      slenh1 = p_enhn
     c                   endif
      *
6.10 c                   time                    sledat
6.10 c                   time                    sletim
6.10 c                   eval      sleusr = l_user
      *
     c                   update    sidtlvr
      *
     c     key01         reade     sidtlvr
     c                   enddo
      *
      * Avslutt program
      *
     c     avslutt       tag
      *
     c                   eval      *inlr = *on
     c                   return
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      * Subrutine for initiering av program
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     c     *inzsr        begsr
      *
      * Parametre
      *
     c     *entry        plist
     c                   parm                    p_firm
     c                   parm                    p_vare
     c                   parm                    p_enhg
     c                   parm                    p_enhn
      *
      * Key for oppdatering etter oppslag p책 vare
      *
     c     key01         klist
     c                   kfld                    w_firm
     c                   kfld                    w_vare
      *
      *
      * Henter firma og vare fra parameter
      *
     c                   eval      w_firm = p_firm
     c                   eval      w_vare = p_vare
      *
     c                   endsr
