     H/TITLE ASLAGR: Vedlikehold av status-koder
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      *                                                                 *
      *  System. . . . . : ASLAGR                                       *
      *  Program . . . . : LA105R                                       *
      *  Beskrivelse . . : Vedlikehold av status-koder, Rabattaltern.   *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      *                                                                 *
      *  Spesialversjon. :                                              *
      *  Tilpasset for . :                                              *
      *                                                                 *
      *  Referanse  Dato   Endringsbeskrivelse                     Sign.*
      *  --------- ------  ---------------------------------------------*
      *  6.10      180609  Oppdatert med sporingsinformasjon       BSA
      *                                                                 *
      *                                                                 *
      *                                                                 *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      *
      *
     FLA105D    CF   E             WORKSTN
      *
     FLSTSL1    IF   E           K DISK
     F                                     RENAME(LSTSPFR:LSTSL1R)
     FLSTSLU    UF A E           K DISK
     F                                     RENAME(LSTSPFR:LSTSLUR)
      *
     D                UDS
6.10 d l_user                911    920
     D  l_firm               944    946  0
     D  l_fnav               951    980
      *
     C/EJECT
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      *  A1BLD Behandle bildet for valg                                 *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      *
      *
     C     A1TAGA        TAG
      *
      *  Hent opplysninger fra LAGER-KODE-REGISTER
      *
     C     STSKEY        CHAIN     LSTSL1                             90
     C     *IN90         IFEQ      *OFF
     C                   MOVE      LAARK1        A1ARK1
     C                   MOVE      LAARK2        A1ARK2
     C                   MOVE      LAARK3        A1ARK3
     C                   MOVE      LAARK4        A1ARK4
     C                   MOVE      LAARK5        A1ARK5
     C                   MOVE      LAARK6        A1ARK6
     C                   MOVE      LAARK7        A1ARK7
     C                   MOVE      LAARK8        A1ARK8
     C                   ELSE
     C                   MOVE      *ZERO         A1ARK1
     C                   MOVE      *ZERO         A1ARK2
     C                   MOVE      *ZERO         A1ARK3
     C                   MOVE      *ZERO         A1ARK4
     C                   MOVE      *ZERO         A1ARK5
     C                   MOVE      *ZERO         A1ARK6
     C                   MOVE      *ZERO         A1ARK7
     C                   MOVE      *ZERO         A1ARK8
     C                   ENDIF
      *
      *  Vis bilde
      *
     C                   EXFMT     A1BLD
      *
      *  F3=Avslutt
      *
     C     *INKC         CABEQ     *ON           XSLUTT
      *
      *  Oppdater LAGER-KODE-REGISTER
      *
     C     STSKEY        CHAIN     LSTSLUR                            90
      *
     C                   MOVE      A1ARK1        LAARK1
     C                   MOVE      A1ARK2        LAARK2
     C                   MOVE      A1ARK3        LAARK3
     C                   MOVE      A1ARK4        LAARK4
     C                   MOVE      A1ARK5        LAARK5
     C                   MOVE      A1ARK6        LAARK6
     C                   MOVE      A1ARK7        LAARK7
     C                   MOVE      A1ARK8        LAARK8
      *
     C     *IN90         IFEQ      *OFF
6.10 c                   time                    laaeda
6.10 c                   time                    laaeti
6.10 c                   eval      laaeus = l_user
     C                   UPDATE    LSTSLUR
     C                   ELSE
     C                   MOVE      l_firm        LAAFIR
6.10 c                   time                    laaoda
6.10 c                   time                    laaoti
6.10 c                   eval      laaous = l_user
6.10 c                   time                    laaeda
6.10 c                   time                    laaeti
6.10 c                   eval      laaeus = l_user
     C                   WRITE     LSTSLUR
     C                   ENDIF
      *
     C/EJECT
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      *  Avslutt program                                                *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      *
      *
     C     XSLUTT        TAG
      *
     C                   SETON                                        LR
     C                   RETURN
      *
     C/EJECT
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      *  Subrutine for initiering av program                            *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      *
      *
     C     *INZSR        BEGSR
      *
      *  Redefinering av nøkler
      *
     C     *LIKE         DEFINE    LAAFIR        STSFIR
      *
      *  Key for file : LAGER-KODE-REGISTER
      *
     C     STSKEY        KLIST
     C                   KFLD                    STSFIR
      *
      *  Legger inn firmanummer i nøkklene
      *
     C                   MOVE      l_firm        STSFIR
      *
     C                   ENDSR
