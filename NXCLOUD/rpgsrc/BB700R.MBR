     h option(*nodebugio) datedit(*dmy)
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
      * System. . . . . : ASLAGR
      * Program . . . . : BB700R
      * Beskrivelse . . : Kontroll av tilganger for bruker
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
      * Spesialversjon. :
      * Tilpasset for . :
      *
      * Ref.   Dato  Sign Endringsbeskrivelse
      * ----- ------ ---- -------------------------------------------------
      *       311014 ASK  Nytt program
      *
      *
      *
      *
      *
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
      *
     fbusri1    if   e           k disk    rename(busrst:busri1r)
      *
      * Definering av local data area
      *
     d                uds
     d l_wsid                901    910
     d l_user                911    920
     d l_firm                944    946  0
      *
      * Definering av parametere
      *
     d p_kode          s              2  0
     d p_onof          s                   like(bbkret)
      *
      * Definering av variable i nøkler
      *
     d w_firm          s                   like(bbfirm)
     d busri1_user     s                   like(bbuser)
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      * Hovedrutine
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      * Forklaring på programmet :
      * --------------------------
      * Dette programmet benyttes som et generelt program for å finne
      * ut om en bruker har tilgang til en funksjon.
      * Det er oppslag mot brukerregister BUSRI1.
      * Programmet som kaller dette sender med en parameter som sier
      * hvilken tilgangskode som skal sjekkes.
      * Programmet svarer tilbake med en parameter som inneholder
      * verdien til den ønskede koden d.v.s.  0, 1 eller 2
      *
      *
     c                   eval      p_onof = 0
      *
      * Slå opp bruker
      *
     c     busri1_key    chain     busri1
      *
     c                   if        %found
      *
     c                   if        p_kode = 01
     c                   eval      p_onof = bbkret
     c                   endif
      *
     c                   if        p_kode = 02
     c                   eval      p_onof = bbkopg
     c                   endif
      *
     c                   endif
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *  Avslutt program
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
      *
     c     xslutt        tag
     c                   eval      *inlr = *on
     c                   return
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *  Subrutine for initiering av program
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     c     *inzsr        begsr
      *
      *  Key for file : BRUKER-REGISTER OFAK
      *
     c     busri1_key    klist
     c                   kfld                    w_firm
     c                   kfld                    busri1_user
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *  Tar inn parameter fra forrige program
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     c     *entry        plist
     c                   parm                    p_kode
     c                   parm                    p_onof
      *
      *  Legger inn firmanummer og bruker i nøkkel
      *
     c                   eval      w_firm = l_firm
     c                   eval      busri1_user = l_user
      *
     c                   endsr
