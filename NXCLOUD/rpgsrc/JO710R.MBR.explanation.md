# JO710R – Parameter Program for Machine Matching

This RPG program displays a panel, retrieves a company code from the LDA, and then calls a downstream matching program (JO711R). It terminates on standard exit function keys (F3/F12).

## H‐Specification
```
H     OPTION(*NODEBUGIO) DATEDIT(*DMY)
```
- Disables debug I/O overlays.  
- Uses day‐month‐year format for date fields.

## File Declaration
```
FJO710D   CF   E             WORKSTN
```
- Defines `JO710D` as a **C**allable file for **E**nter/Exit I/O on a **WORKSTN**.
- Enables display/read of a display file (screen) record format (B1BLD).

## Data Definitions

### Local Data Area (LDA)
```
D                                     UDS
D  L_FIRM           944      946       0
```
- `UDS` maps to the program’s LDA.  
- `L_FIRM` (positions 944–946) holds the 3-digit company code supplied by a calling program or initial load.

### Working Variable
```
D  W_FIRM           S            3  0
```
- `W_FIRM` is a 3-digit zoned numeric field used within this program to hold the company code.

## Main Processing Logic

```
C     B1TAG         TAG
C                   EXFMT     B1BLD
C                   IF        *INKC OR *INKL
C                   GOTO      AVSLUTT
C                   ENDIF
C                   CALL      'JO711R'
C                   PARM                    W_FIRM
C
C     AVSLUTT       TAG
C                   EVAL      *INLR = *ON
C                   RETURN
```
1. **Tag B1TAG**  
   Marks the start of the screen‐handling loop.  

2. **EXFMT B1BLD**  
   - Displays the screen format `B1BLD`.  
   - Waits for user input and places it back into the same format.

3. **Check for Exit Keys**  
   - `*INKC` (typically F3) or `*INKL` (typically F12) indicate standard exits.  
   - If pressed, the program jumps to `AVSLUTT` to end.

4. **Call JO711R**  
   - Invokes the matching program `JO711R`.  
   - Passes `W_FIRM` (company code) as a parameter.

5. **Tag AVSLUTT**  
   - Sets `*INLR = *ON` to turn off the program’s resources at end of job.  
   - Executes `RETURN` to exit.

## Initialization Subroutine (*INZSR)

```
C     *INZSR        BEGSR
C                   EVAL      W_FIRM = L_FIRM
C                   ENDSR
```
- Automatically called before `main` logic.  
- Copies the company code from `L_FIRM` (LDA) into the working field `W_FIRM`.  
- Ensures `W_FIRM` is initialized for any subsequent calls (e.g., to JO711R).