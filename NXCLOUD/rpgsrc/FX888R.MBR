     h option(*nodebugio) datedit(*dmy)
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
      * System. . . . . :
      * Program . . . . : FX888R
      * Beskrivelse . . : Gen. av utg. fakt.logg records (test)
      *
      * Spesialversjon. :
      * Tilpasset for . :
      *
      * Ref.   Dato  Sign Endringsbeskrivelse
      * ----- ------ ---- -------------------------------------------------
      *       220506 GRo  Nytt program
6.10  *       280312 bof  Forenklet noe
6.nu  * R6.30 040614 bsa  Programmet gjennomgått mtp nummerutvidelser.
      *
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     fsohel5    if   e           k disk    rename(sohepfr:sohel5r)
5.41 ffnuflu    uf a e           k disk    rename(fnufpfr:fnuflur)
      *
      * Definering av lda
      *
     d                uds
5.41 d l_wsid                901    910
      *
      * Definering av variabler i nøkler
      *
     d sohel5_fkda     s                   like(sofkda)
5.41 d fnuflu_aarr     s                   like(fnuaar)
5.41 d fnuflu_binr     s                   like(fnubin)
      *
      * Definering av variable
      *
     d w_firm          s                   like(sofirm)
     d w_aarr          s                   like(soaarr)
     d w_wdat          s               d
     d w_wdto          s              6  0
     d w_wfrf          s               d
     d w_wdtf          s              6  0
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      * Hovedprogram
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
6.10  * sett inn riktig firma
     c                   eval      w_firm = 200
6.10  * endre til riktig år
6.10 c                   eval      w_aarr = 2012
6.10  * endre til riktig fakturadato
     c                   eval      w_wdto = 100112
     c                   eval      w_wdat = %date(w_wdto:*dmy)
6.10  * endre til riktig fakturadato + 30 dager (ca)
     c                   eval      w_wdtf = 300112
     c                   eval      w_wfrf = %date(w_wdtf:*dmy)
      *
     c                   eval      sohel5_fkda = w_wdat
     c     sohel5_key    setll     sohel5
     c     sohel5_key    reade     sohel5
     c                   dow       not %eof(sohel5)
      *
6.10  *  endre her til riktig faktura nr.
6.10  *  Her tester den på at alle andre fakturanr den dagen hoppes over
      *
6.10 c                   if        sobinr <> 214521
6.10 c                   goto      les_neste
6.10 c                   endif
      *
5.41 c                   eval      fnuflu_aarr = soaarr
5.41 c                   eval      fnuflu_binr = sobinr
5.41 c     fnuflu_key    chain     fnuflu
5.41 c                   if        not %found
5.41 c                   eval      fnufir = w_firm
5.41 c                   eval      fnuaar = soaarr
5.41 c                   eval      fnubin = sobinr
5.41 c                   eval      fnufat = 21
5.41 c                   eval      fnukun = sokund
5.41 c                   time                    fnuoda
5.41 c                   time                    fnuoti
5.41 c                   eval      fnuwsi = l_wsid
5.41 c                   write     fnuflur
      *
5.41 c                   endif
      *
     c     les_neste     tag
     c     sohel5_key    reade     sohel5
     c                   enddo
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      * Avslutt program
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     c     avslutt       tag
      *
     c                   eval      *inlr = *on
      *
     c                   return
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      * Subrutine for initiering av program
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     c     *inzsr        begsr
5.41  *
5.41  * Key for oppdat. av fakturalogg
5.41  *
      * Key for posisjonering på fakturadato
      *
     c     sohel5_key    klist
     c                   kfld                    w_firm
     c                   kfld                    w_aarr
     c                   kfld                    sohel5_fkda
      *
5.41 c     fnuflu_key    klist
5.41 c                   kfld                    w_firm
5.41 c                   kfld                    fnuflu_aarr
5.41 c                   kfld                    fnuflu_binr
      *
     c                   endsr
