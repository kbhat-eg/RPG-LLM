      /TITLE  Redigere skjermbilde for registrering
     h datedit(*dmy) option(*nodebugio)
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      * System. . . . . : ASOKON                                              *
      * Program . . . . : RA007R                                        *
      * Beskrivelse . . : Redigere bilde for registrering               *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      *                                                                 *
      * Spesialversjon. :                                               *
      * Tilpasset for . :                                               *
      *                                                                 *
      * Referanse  Dato   Endringsbeskrivelse                      Sign.*
      * --------- ------  --------------------------------------------- *
      *                   Nytt program mai-95                       AMD *
      *            301003 Lagt inn nye koder for skjermbildekontrollKOB *
7.xx  * 7.xx      120618  Endringer reltart til ny GUI. NB Kan kun gjelde BKV
      *                                                                 *
      *                                                                 *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      *
     fraa1l1    if   e           k disk    rename(raa1pfr:raa1l1r)
     fraa1lu    uf a e           k disk    rename(raa1pfr:raa1lur)
     fra007d    cf   e             workstn
      *
     d var             s             50    dim(2) ctdata perrcd(1)               Varsel m/svarkrav
      *
     d                uds
     d l_user                911    920
     d l_firm                944    946  0
     d l_fnav                951    980
      *
     d wactli          s              2  0
     d wactpo          s              3  0
     d wpokok          s              1
     d w_firm          s                   like(ra1fir)
      *
     c     dummy         tag
      /eject
      *
      * Finnes status-record ?
      *
     c     raa1l1_key    chain     raa1l1r                            69
      *
     c                   if        *in69 = *on                                           .....
     c                   move      var(1)        m1mld1                                      .
     c                   move      var(2)        m1mld2                                      .
     c                   move      'N'           m1svar                                      .
     c                   exsr      xm1win                                                    .
     c                   goto      xslutt                                                    .
     c                   endif                                                           .....
      *
      * Flytte informasjon fra
      * file til skjerm
      *
      *
     c                   move      ra1sps        v1dsps
     c                   move      ra1avd        v1davd
     c                   move      ra1mva        v1dmom
     c                   move      ra1pro        v1pros
     c                   move      ra1akt        v1akti
     c                   move      ra1akr        v1krys
     c                   move      ra1ftx        v1text
     c                   move      ra1for        v1fdat
     c                   move      ra1rab        v1krab
     c                   move      ra1vko        v1valk
     c                   move      ra1vbe        v1valb
     c                   move      ra1ref        v1refn
     c                   move      ra1kid        v1kidi
     c                   move      ra1att        v1atte
     c                   move      ra1mgn        v1mngd
     c                   move      ra1vrk        v1virk
     c                   move      ra1bik        v1biko
     c                   move      ra1bin        v1binr
     c                   move      ra1bid        v1bida
     c                   move      ra1blp        v1belp
     c                   move      ra1kto        v1kont
     c                   move      ra1ref        v1refn
     c                   move      ra1lfa        v1lfak
      *
     c                   exsr      xv1win
      *
      * Gå ut
      *
     c     *inkc         cabeq     *on           xslutt
      *
      * Oppdatere status-record
      *
     c     raa1l1_key    chain     raa1lur                            69
      *
      * Flytte informasjon fra
      * skjerm til file
      *
      *
C    c                   move      v1dsps        ra1sps
C    c                   move      v1davd        ra1avd
C    c                   move      v1dmom        ra1mva
C    c                   move      v1pros        ra1pro
C    c                   move      v1akti        ra1akt
C    c                   move      v1krys        ra1akr
C    c                   move      v1text        ra1ftx
C    c                   move      v1fdat        ra1for
C    c                   move      v1krab        ra1rab
C    c                   move      v1valk        ra1vko
C    c                   move      v1valb        ra1vbe
     c                   move      v1kidi        ra1kid
     c                   move      v1atte        ra1att
     c                   move      v1mngd        ra1mgn
     c                   move      v1virk        ra1vrk
     c                   move      v1biko        ra1bik
     c                   move      v1binr        ra1bin
     c                   move      v1bida        ra1bid
     c                   move      v1belp        ra1blp
     c                   move      v1kont        ra1kto
     c                   move      v1refn        ra1ref
     c                   move      v1lfak        ra1lfa
      *
     c                   time                    ra1dat
     c                   time                    ra1tim
     c                   eval      ra1usr = l_user
      *
     c                   update    raa1lur
     c                   goto      xslutt
      *
      /eject
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      * Avslutt program                                                 *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      *
     c     xslutt        tag
      *
     c                   eval      *inlr = *on
     c                   return
      *
      /eject
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      * M1WIN Behandle bilde for melding med svar                       *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      *
     c     xm1win        begsr
      *
     c                   eval      wactli = 8
     c                   eval      wactpo = 14
      *
     c                   exfmt     m1win
      *
     c                   if        *inkc = *on                                           .....
     c                   move      'N'           m1svar                                      .
     c                   endif                                                           .....
      *
     c                   endsr
      *
      /eject
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      * V1WIN Behandle bilde for redigeringsvalg                        *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      *
     c     xv1win        begsr
      *
     c                   eval      wactli = 7
     c                   eval      wactpo = 2
     c                   write     s1win
      *
     c                   exfmt     v1win
      *
     c     *inkc         cabeq     *on           v1tag1
      *
     c                   eval      *in01 = v1dsps <> ' '
     c                   eval      *in02 = v1davd <> ' '
     c                   eval      *in03 = v1dmom <> ' '
     c                   eval      *in07 = v1pros <> ' '
     c                   eval      *in08 = v1akti <> ' '
     c                   eval      *in09 = v1krys <> ' '
     c                   eval      *in20 = v1text <> ' '
     c                   eval      *in21 = v1fdat <> ' '
     c                   eval      *in22 = v1krab <> ' '
     c                   eval      *in23 = v1valk <> ' '
     c                   eval      *in24 = v1valb <> ' '
     c                   eval      *in25 = v1refn <> ' '
     c                   eval      *in26 = v1lfak <> ' '
     c                   eval      *in27 = v1kidi <> ' '
     c                   eval      *in28 = v1atte <> ' '
     c                   eval      *in29 = v1mngd <> ' '
     c                   eval      *in06 = v1virk <> ' '
      *
     c     v1tag1        tag
      *
     c                   endsr
      *
      *
      *
      /eject
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      * Subrutine for initiering av program                             *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      *
     c     *inzsr        begsr
      *
     c                   eval      wactli = 0
     c                   eval      wactpo = 0
     c                   eval      wpokok = *blank
      *
      *
      * Legge inn firma-
      * nummer og navn
      * fra parameter
      *
     c                   move      l_firm        w_firm
      *
      * Key for statusrecord
      *
     c     raa1l1_key    klist
     c                   kfld                    w_firm
      *
     c                   endsr
**
Status-record i koderegister ble ikke funnet.         001
Denne må opprettes før programmet kan benyttes.       002
