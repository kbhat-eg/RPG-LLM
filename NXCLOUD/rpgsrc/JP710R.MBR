     h option(*nodebugio) datedit(*dmy)
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
      * System  . . . . : ASVADM
      * Program . . . . : JP710R
      * Beskrivelse . . : Finn neste linjenummer - betingelser
      *
      * Spesialversjon. :
      * Tilpasset for . :
      *
      * Ref.   Dato  Sign Endringsbeskrivelse
      * ----- ------ ---- -------------------------------------------------
      *       070798 HKO  Nytt program
      *       130605 HKO  Utvidet nivå med varetype og leveringstype
6.3x  *       100615 bof  Utvidet med prisgruppe
8.01  *PRG2   140622 BOF  Utvidet prisgruppe fra 1 til 2 posisjoner
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     fjbetl1    if   e           k disk    rename(jbetpfr:jbetl1r)
      *
      * Definering av parametre
      *
     d p_firm          s                   like(jpfirm)
     d p_ldor          s                   like(jpldor)
6.3x d p_prgr          s                   like(jpprgr)
     d p_ogrp          s                   like(jpogrp)
     d p_hgrp          s                   like(jphgrp)
     d p_ugrp          s                   like(jpugrp)
     d p_modn          s                   like(jpmodn)
     d p_vare          s                   like(jpvare)
     d p_vtyp          s                   like(jpvtyp)
     d p_lety          s                   like(jplety)
     d p_rsts          s                   like(jprsts)
     d p_line          s                   like(jpline)
      *
      * Definering av variabler i nøkler
      *
     d jbetl1_ldor     s                   like(jpldor)
6.3x d jbetl1_prgr     s                   like(jpprgr)
     d jbetl1_ogrp     s                   like(jpogrp)
     d jbetl1_hgrp     s                   like(jphgrp)
     d jbetl1_ugrp     s                   like(jpugrp)
     d jbetl1_modn     s                   like(jpmodn)
     d jbetl1_vare     s                   like(jpvare)
     d jbetl1_vtyp     s                   like(jpvtyp)
     d jbetl1_lety     s                   like(jplety)
     d jbetl1_rsts     s                   like(jprsts)
      *
      * Definering av variabler
      *
     d w_firm          s                   like(jpfirm)
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      * Hovedprogram
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
      * Finner neste ledige linjenummer
      *
     c                   eval      jpline = 0
      *
     c                   eval      jbetl1_ldor = p_ldor
6.3x c                   eval      jbetl1_prgr = p_prgr
     c                   eval      jbetl1_ogrp = p_ogrp
     c                   eval      jbetl1_hgrp = p_hgrp
     c                   eval      jbetl1_ugrp = p_ugrp
     c                   eval      jbetl1_modn = p_modn
     c                   eval      jbetl1_vare = p_vare
     c                   eval      jbetl1_vtyp = p_vtyp
     c                   eval      jbetl1_lety = p_lety
     c                   eval      jbetl1_rsts = p_rsts
     c     jbetl1_key    setll     jbetl1
     c     jbetl1_key    reade     jbetl1
     c                   dow       not %eof
     c     jbetl1_key    reade     jbetl1
     c                   enddo
      *
     c                   eval      p_line = jpline + 1
      *
      * Avslutt program
      *
     c     avslutt       tag
      *
     c                   eval      *inlr = *on
     c                   return
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      * Subrutine for initiering av program
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     c     *inzsr        begsr
      *
      * Parametre
      *
     c     *entry        plist
     c                   parm                    p_firm
     c                   parm                    p_ldor
6.3x c                   parm                    p_prgr
     c                   parm                    p_ogrp
     c                   parm                    p_hgrp
     c                   parm                    p_ugrp
     c                   parm                    p_modn
     c                   parm                    p_vare
     c                   parm                    p_vtyp
     c                   parm                    p_lety
     c                   parm                    p_rsts
     c                   parm                    p_line
      *
      * Key for oppslag på betingelse
      *
     c     jbetl1_key    klist
     c                   kfld                    w_firm
     c                   kfld                    jbetl1_ldor
6.3x c                   kfld                    jbetl1_prgr
     c                   kfld                    jbetl1_ogrp
     c                   kfld                    jbetl1_hgrp
     c                   kfld                    jbetl1_ugrp
     c                   kfld                    jbetl1_modn
     c                   kfld                    jbetl1_vare
     c                   kfld                    jbetl1_vtyp
     c                   kfld                    jbetl1_lety
     c                   kfld                    jbetl1_rsts
      *
      * Kopierer firma til variabel
      *
     c                   eval      w_firm = p_firm
      *
     c                   endsr
