      /TITLE  ASLAGR: Lagertelling
     h datedit(*dmy)
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
      *  System. . . . . : ASLAGR
      *  Program . . . . : LE710R
      *  Beskrivelse . . : Oppdater lager-register, Parameterinntasting
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
      *  Spesialversjon. :
      *  Tilpasset for . :
      *
      *  Referanse  Dato   Endringsbeskrivelse                         Sign
      * --------- ------  -------------------------------------------------
6.30  * 6.30      290814  Nytt parameter, endre varetype S --> L
6.31  * 6.30      101215  Legger ut default parameter for oppdatering
6.31  *                   av lagerregister.
6.32  * 6.30      110319  Sjekk om modul for gj.kostpris skal kjøres   nho
7.01  *           010321  fjernet kostprisføring, kjøres i le711r      ask
8.01  * 800  161024  ask  Lagt inn mulighet for å kalle opp pgm med batchid
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     fle710d    cf   e             workstn
8.01  *
8.01  * Definering av variable i parameter
8.01  *
8.01 d p_batc          s             10
      *
      * Parameter-inn
      *
     d                 ds
     d d_prec                        64
     d  d_batc                       10    overlay(d_prec)
     d  d_val1                        1  0 overlay(d_prec:11)
     d  d_val2                        1  0 overlay(d_prec:12)
     d  d_val3                        1  0 overlay(d_prec:13)
6.30 d  d_val4                        1  0 overlay(d_prec:14)
6.30 d  d_val5                        1  0 overlay(d_prec:15)
      *
      *   Local Data Area
      *
8.01 d lda            uds
     d l_firm                944    946  0
     d l_fnav                951    980
8.01 d l_batc               1006   1015
      *
      *    Definering av variable
      *
     d w_batc          s             10
     d w_retu          s              1
     d w_valg          s              1
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *  A1 Kaller opp subprogram for inntasting av batchnummer
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     c     a1tag         tag
      *
8.01 c                   if        l_batc <> ' '
8.01 c                   eval      w_batc = l_batc
8.01 c                   else
     c                   eval      w_retu = 'O'
     c                   call      'LC500R'
     c                   parm                    w_retu
     c                   parm                    w_batc
      *
     c                   if        w_retu <> *blank
     c                   goto      end_pgm
     c                   endif
8.01 c                   endif
      *
     c                   eval      d_batc = w_batc
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *  Behandle bilde for registrering av parametre
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     c     b1tag         tag
      *
      *  Nullstiller variable som skal vises i skjermbildet
      *
6.31 c**                 eval      b1val1 = 0
6.31 c                   eval      b1val1 = 1
     c                   eval      b1val2 = 1
     c                   eval      b1val3 = 0
6.30 c                   eval      b1val4 = 0
      *
     c     b1taga        tag
     c                   exfmt     b1bld
      *
      *  F3=Gå tilbake  (Avslutt)
      *
     c                   if        *inkc = *on
     c                   goto      end_pgm
     c                   endif
      *
      *  Sjekk, Er innstastet verdi 1
      *
     c                   if        b1val1 = 0
     c                   goto      end_pgm
     c                   endif
      *
      *  Legger inntastede opplysninger i Hjelpe-felter for Parameter
      *
     c                   eval      d_val1 = b1val1
     c                   eval      d_val2 = b1val2
     c                   eval      d_val3 = b1val3
6.30 c                   eval      d_val4 = b1val4
6.30 c                   eval      d_val5 = b1val5
      *
      *
      *  Starter program for oppdatering
      *
     c                   call      'LE710C'
     c                   parm                    d_prec
     c                   parm                    w_valg
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *  Avslutt program
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     c     end_pgm       tag
      *
     c                   eval      *inlr = *on
     c                   return
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *  Subrutine for initiering av program
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     c     *inzsr        begsr
8.01  *
8.01  * Definisjon av local data area for output
8.01  *
8.01 c     *dtaara       define    *lda          lda
      *
      *
      *  Setter fast verdi for kjøring i batch
      *
     c                   eval      w_valg = '1'
      *
     c                   endsr
