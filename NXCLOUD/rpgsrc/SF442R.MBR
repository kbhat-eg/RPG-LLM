     /TITLE  Utvalg av statistikktransaksjoner
     * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
     *                                                                 *
     *  System. . . . . : ASSTAT                                       *
     *  Program . . . . : SF442R                                       *
     *  Beskrivelse . . : Utvalg av statistikktransaksjoner            *
     * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
     *                                                                 *
     *  Spesialversjon. :                                              *
     *  Tilpasset for . :                                              *
     *                                                                 *
     *  Referanse  Dato   Endringsbeskrivelse                     Sign.*
     *  --------- ------  ---------------------------------------------*
     *                                                                 *
6.NU  * R6.30 200614 nho  Endringer grunnet nummerutvidelser
8.01  *PRG2   220622 BOF  Utvidet prisgruppe fra 1 til 2 posisjoner - COMP
     *                                                                 *
     * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
     *
     Fsstapf    if   e             disk
     Fskwwpf    o  a e           k disk
     F
     *
     * Felt  i local
     *
     D                uds
     D pakode                300    301
     D pakod1                300    300
6.nu D paofra                302    309  0
6.nu D paotil                310    317  0
6.nu D patype                318    325
6.nu D patyp1                318    319
6.nu D patyp2                320    321
6.nu D patyp3                312    323
6.nu D patyp4                324    325
6.nu D papaar                326    329  0
     *
     D lcuser                911    920
     D lcfirm                944    946  0
     D lcnavn                951    980
     *
     /EJECT
     ***************************  CALCULATION  **************************
     *
     * Behandle detaljlinjer
     *
     C     xtrans        tag
     *
     * Les fra Salgsstatistikkregister
     *
     c                   read      sstapfr                                lr
     *
     c                   if        *inlr = *on
     c                   goto      endprg
     c                   endif
     *
     * Sjekk firma
     *
B001 C                   if        sffirm <> lcfirm
 001 C                   goto      xtrans
E001 C                   endif
     *
     * Sjekk år
     *
B001 C                   if        sfpaar <> papaar
 001 C                   goto      xtrans
E001 C                   endif
     *
     * Sjekk ordretype
     *
B001 C                   if        patype <> *blank
B001 C                   if        sfotyp <> patyp1
B001 C                   if        sfotyp <> patyp2
B001 C                   if        sfotyp <> patyp3
B001 C                   if        sfotyp <> patyp4
 001 C                   goto      xtrans
E001 C                   endif
E001 C                   endif
E001 C                   endif
E001 C                   endif
E001 C                   endif
     *
     * Sjekk ordre fra - til
     *
B001 C                   if        pakod1 = 'O'
     *
B001 C                   if        sfornr < paofra
 001 C                   goto      xtrans
E001 C                   endif
     *
B001 C                   if        sfornr > paotil
 001 C                   eval      *inlr  = *on
     c                   goto      endprg
E001 C                   endif
     *
E001 C                   endif
     *
     * Sjekk ordre/faktura fra - til
     *
B001 C                   if        pakod1 = 'F'
     *
B001 C                   if        sfbinr < paofra
 001 C                   goto      xtrans
E001 C                   endif
     *
B001 C                   if        sfbinr > paotil
 001 C                   eval      *inlr  = *on
     c                   goto      endprg
E001 C                   endif
     *
E001 C                   endif
     *
     /EJECT
     *
     * Varelinjer som har kommet gjennom nåløyet
     *
     * Bygg opp sorteringsbegrep - ordre
     *
B001 C                   if        pakod1 = 'O'
 001 C                   movel     sfornr        swsrt1                         Hovedgruppe
E001 C                   endif
     *
     * Bygg opp sorteringsbegrep - faktura
     *
B001 C                   if        pakod1 = 'F'
 001 C                   movel     sfbinr        swsrt1                         Hovedgruppe
E001 C                   endif
     *
     C                   write     skwwpfr
     *
     * Returner til nytt les
     *
     C                   goto      xtrans
      *
     C     endprg        tag
      *
     /EJECT
     * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
     * Subrutine for initiering av program                             *
     * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
     *
     C     *inzsr        begsr
     *
 001 C                   eval      swsrt1 = *blank                              Hovedgruppe
 001 C                   eval      swsrt2 = *blank                              Hovedgruppe
 001 C                   eval      swsrt3 = *blank                              Hovedgruppe
     *
     C                   endsr
