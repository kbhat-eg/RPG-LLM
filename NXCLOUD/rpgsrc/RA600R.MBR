     h option(*nodebugio) datedit(*dmy)
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      * Program . . . . : RA600R                                        *
      * Beskrivelse . . : Utskrift av koderegister - parameter          *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      * Spesialversjon. :                                               *
      * Tilpasset for . :                                               *
      *                                                                 *
      * Referanse  Dato   Endringsbeskrivelse                      Sign.*
      * --------- ------  ----------------------------------------------*
      * V5.60     140308  Lagt inn om sperrede koder skal med      HFL  *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      *                                                                 *
      *  BRUK AV INDIKATORER                                            *
      *                                                                 *
      *       KA = F1  = Valg av firma                                  *
      *       KC = F3  = Exit                                           *
      *                                                                 *
      *       LR = Avslutt program                                      *
      *       30 = Protect av felter ved vise                           *
      *    31-59 = Varsle m/feilmeldinger/skjermindikatorer             *
      *    60-69 = Fileindikatorer chain etc.                           *
      *    70-79 = Arbeidsindikatorer i sub-rutiner                     *
      *    80-89 = Arbeidsindikatorer ordinære                          *
      *    90-99 = Benyttes ved std. sub-rutiner                        *
      *                                                                 *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      *
     fra600d    cf   e             workstn
      *
     d ix              s              1    dim(30)                              INPUT FRA SKJERM
      *
     d                uds
     d  ox                   300    329
     d                                     dim(30)                              OUTPUT TIL PARAMETER
T5.60d  p_pksp               350    350
      *
     d  l_user               911    920
     d  l_firm               944    946  0
     d  l_fnav               951    980
      *
     d m               s              2  0
     d n               s              2  0
E5.00d testx           s             30
     d w_in03          s              1
T5.60d wsavli          s              2  0
T5.60d wsavpo          s              3  0
      *
     c     dummy         tag
      /eject
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      * Definering av felter                                            *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      *
      * Benyttede skjermbilder.
      * - - - - - - - - - - - - - - - - -
      *
      * A2BLD  - A2 Bilde for valg av parametre
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      * A2BLD Behandle bilde for valg av utskriftsalternativ            *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      *
     c     a2taga        tag
      *
      * Bare data
      *
     c     a2tagb        tag
      *
     c                   exfmt     a2bld
      *
      * Gå ut
      *
     c                   if        *inkc = *on                                  .....
     c                   move      '1'           w_in03                             .
     c                   goto      xslutt                                           .
     c                   endif                                                  .....
      *
     c                   move      a2pvlg        ix(1)
     c                   move      a2pv01        ix(2)
     c                   move      a2pv02        ix(3)
     c                   move      a2pv03        ix(4)
     c                   move      a2pv04        ix(5)
     c                   move      a2pv05        ix(6)
     c                   move      a2pv06        ix(7)
     c                   move      a2pv07        ix(8)
     c                   move      a2pv08        ix(9)
     c                   move      a2pv09        ix(10)
     c                   move      a2pv10        ix(11)
     c                   move      a2pv11        ix(12)
     c                   move      a2pv12        ix(13)
     c                   move      a2pv13        ix(14)
     c                   move      a2pv14        ix(15)
     c                   move      a2pv15        ix(16)
     c                   move      a2pv16        ix(17)
     c                   move      a2pv17        ix(18)
     c                   move      a2pv18        ix(19)
     c                   move      a2pv19        ix(20)
     c                   move      a2pv20        ix(21)
     c                   move      a2pv21        ix(22)
     c                   move      a2pv22        ix(23)
     c                   move      a2pv23        ix(24)
     c                   move      a2pv24        ix(25)
     c                   move      a2pv25        ix(26)
     c                   move      a2pv26        ix(27)
     c                   move      a2pv27        ix(28)
     c                   move      a2pv28        ix(29)
      *
     c                   movea     ix            testx
      *
      * Sjekker om det er tastet
      * inn seleksjon (1)
      *
     c                   if        testx = *blank
     c                   move      *on           *in32
     c                   goto      a2taga
     c                   endif
      *
      * Sjekker om det er tastet
      * inn seleksjon for alle
      * eller enkelte (1)
      *
     c                   if        ix(1) <> *blank
     c                   movel     ' '           testx
     c                   if        testx <> *blank
     c                   move      *on           *in32
     c                   goto      a2taga
     c                   endif
     c                   endif
      *
      * Sjekker om det er tastet et annet tegn enn 1 (eller blank)
      *
     c                   eval      n = 1
E5.00c                   dou       n = 30
      *
     c                   if        ix(n) <> *blank                              -SJEKKER OM BLANK
     c                   if        ix(n) <> '1'                                 -SJEKKER OM X
     c                   move      *on           *in32
     c                   goto      a2taga
     c                   endif
     c                   endif
      *
     c                   eval      n = n + 1
     c                   enddo
      *
      * Dersom alle er valgt,
      * fylles alle felt med 1
      *
E5.00c                   eval      n = 1
     c                   eval      m = 1
E5.00c                   dou       n = 30
      *
     c                   if        ix(1) = '1'                                  -SJEKKER OM X
     c                   move      '1'           ox(m)
     c                   else
     c                   move      ix(n)         ox(m)
     c                   endif
      *
     c                   eval      n = n + 1
     c                   eval      m = m + 1
     c                   enddo
      *
T5.60 * Spør om sperrede koder skal med
      *
T5.60c                   eval      wsavli = 6
T5.60c                   eval      wsavpo = 6
T5.60c                   eval      w_arow = wsavli
T5.60c                   eval      w_acol = wsavpo
T5.60c                   exfmt     m1win
T5.60c                   if        *inkc = *on                                  .....
T5.60c                   move      '1'           w_in03                             .
T5.60c                   goto      xslutt                                           .
T5.60c                   endif                                                  .....
      *
T5.60c                   move      a2pksp        p_pksp
      *
      /space 3
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      * Avslutt program                                                 *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      *
     c     xslutt        tag
      *
     c                   eval      *inlr = *on
     c                   return
      *
      /eject
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      * Subrutine for initiering av program                             *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      *
     c     *inzsr        begsr
      *
      * Legge inn firma
      * fra parameter
      *
     c                   eval      ix = *blank
     c                   eval      testx = *blank
     c                   move      '1'           ix(1)
      *
     c                   eval      w_in03 = ' '
t5.60c                   move      'N'           a2pksp
      *
      * Parameterliste
      *
     c     *entry        plist
     c                   parm                    w_in03
      *
     c                   endsr
