      /TITLE  ASLAGR Opprydding i filer
     h option(*nodebugio)
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
      * System. . . . . : ASLAGR
      * Program . . . . : LA400R
      * Beskrivelse . . : Endre firma
      *
      * Spesialversjon. :
      * Tilpasset for . :
      *
      * Ref.   Dato  Sign Endringsbeskrivelse
      * ----- ------ ---- -------------------------------------------------
      *       101299 KOB  Nytt program
      * 6.10  150609 BSA  Oppdatert med sporingsinformasjon
      *
8.01  *       220621 bsa  Utvidet meldingsnummer fra 6-8 siffer
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     flbchlu    uf   e           k disk    rename(lbchpfr:lbchlur)
     flbdtlu    uf   e           k disk    rename(lbdtpfr:lbdtlur)
     flbhelu    uf   e           k disk    rename(lbhepfr:lbhelur)
     fldellu    uf   e           k disk    rename(ldelpfr:ldellur)
     fledilu    uf   e           k disk    rename(ledipfr:ledilur)
     flfdtlu    uf   e           k disk    rename(lfdtpfr:lfdtlur)
     flfhelu    uf   e           k disk    rename(lfhepfr:lfhelur)
     flftxlu    uf   e           k disk    rename(lftxpfr:lftxlur)
     flldilu    uf   e           k disk    rename(lldipfr:lldilur)
     flldtlu    uf   e           k disk    rename(lldtpfr:lldtlur)
     fllhelu    uf   e           k disk    rename(llhepfr:llhelur)
     flodtlu    uf   e           k disk    rename(lodtpfr:lodtlur)
     flohelu    uf   e           k disk    rename(lohepfr:lohelur)
     flotxlu    uf   e           k disk    rename(lotxpfr:lotxlur)
     flplllu    uf   e           k disk    rename(lpllpfr:lplllur)
     flplolu    uf   e           k disk    rename(lplopfr:lplolur)
     flpm1lu    uf   e           k disk    rename(lpm1pfr:lpm1lur)
     flstslu    uf   e           k disk    rename(lstspfr:lstslur)
     fltellu    uf   e           k disk    rename(ltelpfr:ltellur)
     flusrlu    uf   e           k disk    rename(lusrpfr:lusrlur)
     fsidtlu    uf   e           k disk    rename(sidtpfr:sidtlur)
     fsihelu    uf   e           k disk    rename(sihepfr:sihelur)
      *
     d                uds
     d l_user                911    920
     d l_fgrp                931    933
     d l_firm                944    946  0
     d l_navn                951    980
      *
     d w_firm          s              3  0
      *
      * Lagertelling batch
      *
     c     lbchlu_key    setll     lbchlu                                 90
     c     lbchlu_key    reade     lbchlu                                 90
     c                   dow       *in90 = *off
     c                   eval      lcfirm = w_firm
6.10 c                   eval      lceusr = l_user
6.10 c                   time                    lceeda
6.10 c                   time                    lceeti
     c                   update    lbchlur
     c     lbchlu_key    reade     lbchlu                                 90
     c                   enddo
      *
      * Lagertelling bunt-linje
      *
     c     lbdtlu_key    setll     lbdtlu                                 90
     c     lbdtlu_key    reade     lbdtlu                                 90
     c                   dow       *in90 = *off
     c                   eval      lvfirm = w_firm
6.10 c                   eval      lveusr = l_user
6.10 c                   time                    lvedat
6.10 c                   time                    lvetim
     c                   update    lbdtlur
     c     lbdtlu_key    reade     lbdtlu                                 90
     c                   enddo
      *
      * Lagertelling bunt-hode
      *
     c     lbhelu_key    setll     lbhelu                                 90
     c     lbhelu_key    reade     lbhelu                                 90
     c                   dow       *in90 = *off
     c                   eval      lufirm = w_firm
6.10 c                   eval      lueusr = l_user
6.10 c                   time                    luedat
6.10 c                   time                    luetim
     c                   update    lbhelur
     c     lbhelu_key    reade     lbhelu                                 90
     c                   enddo
      *
      * Ordre-slettet
      *
     c     ldellu_key    setll     ldellu                                 90
     c     ldellu_key    reade     ldellu                                 90
     c                   dow       *in90 = *off
     c                   eval      lyfirm = w_firm
6.10 c                   eval      lyeusr = l_user
6.10 c                   time                    lyedat
6.10 c                   time                    lyetim
     c                   update    ldellur
     c     ldellu_key    reade     ldellu                                 90
     c                   enddo
      *
      * EDI returmeldinger
      *
     c     ledilu_key    setll     ledilu                                 90
     c     ledilu_key    reade     ledilu                                 90
     c                   dow       *in90 = *off
     c                   eval      lifirm = w_firm
6.10 c                   eval      lieusr = l_user
6.10 c                   time                    liedat
6.10 c                   time                    lietim
     c                   update    ledilur
     c     ledilu_key    reade     ledilu                                 90
     c                   enddo
      *
      * Bestillingsforslag linje
      *
     c     lfdtlu_key    setll     lfdtlu                                 90
     c     lfdtlu_key    reade     lfdtlu                                 90
     c                   dow       *in90 = *off
     c                   eval      lffirm = w_firm
6.10 c                   eval      lfeusr = l_user
6.10 c                   time                    lfedat
6.10 c                   time                    lfetim
     c                   update    lfdtlur
     c     lfdtlu_key    reade     lfdtlu                                 90
     c                   enddo
      *
      * Bestillingsforslag hode
      *
     c     lfhelu_key    setll     lfhelu                                 90
     c     lfhelu_key    reade     lfhelu                                 90
     c                   dow       *in90 = *off
     c                   eval      lhfirm = w_firm
6.10 c                   eval      lheusr = l_user
6.10 c                   time                    lhedat
6.10 c                   time                    lhetim
     c                   update    lfhelur
     c     lfhelu_key    reade     lfhelu                                 90
     c                   enddo
      *
      * Fast bestillingstekst
      *
     c     lftxlu_key    setll     lftxlu                                 90
     c     lftxlu_key    reade     lftxlu                                 90
     c                   dow       *in90 = *off
     c                   eval      ljfirm = w_firm
6.10 c                   eval      ljeusr = l_user
6.10 c                   time                    ljedat
6.10 c                   time                    ljetim
     c                   update    lftxlur
     c     lftxlu_key    reade     lftxlu                                 90
     c                   enddo
      *
      * Leverand√∏r distribusjon
      *
     c     lldilu_key    setll     lldilu                                 90
     c     lldilu_key    reade     lldilu                                 90
     c                   dow       *in90 = *off
     c                   eval      lpfirm = w_firm
     c                   update    lldilur
     c     lldilu_key    reade     lldilu                                 90
     c                   enddo
      *
      * Lagertrans-linje
      *
     c     lldtlu_key    setll     lldtlu                                 90
     c     lldtlu_key    reade     lldtlu                                 90
     c                   dow       *in90 = *off
     c                   eval      lsfirm = w_firm
6.10 c                   eval      lseusr = l_user
6.10 c                   time                    lsedat
6.10 c                   time                    lsetim
     c                   update    lldtlur
     c     lldtlu_key    reade     lldtlu                                 90
     c                   enddo
      *
      * Lagertrans-hode
      *
     c     llhelu_key    setll     llhelu                                 90
     c     llhelu_key    reade     llhelu                                 90
     c                   dow       *in90 = *off
     c                   eval      lqfirm = w_firm
6.10 c                   eval      lqeusr = l_user
6.10 c                   time                    lqedat
6.10 c                   time                    lqetim
     c                   update    llhelur
     c     llhelu_key    reade     llhelu                                 90
     c                   enddo
      *
      * Bestilling-linje
      *
     c     lodtlu_key    setll     lodtlu                                 90
     c     lodtlu_key    reade     lodtlu                                 90
     c                   dow       *in90 = *off
     c                   eval      ldfirm = w_firm
6.10 c                   eval      ldeusr = l_user
6.10 c                   time                    ldedat
6.10 c                   time                    ldetim
     c                   update    lodtlur
     c     lodtlu_key    reade     lodtlu                                 90
     c                   enddo
      *
      * Bestillings-hode
      *
     c     lohelu_key    setll     lohelu                                 90
     c     lohelu_key    reade     lohelu                                 90
     c                   dow       *in90 = *off
     c                   eval      lofirm = w_firm
6.10 c                   eval      loeusr = l_user
6.10 c                   time                    loedat
6.10 c                   time                    loetim
     c                   update    lohelur
     c     lohelu_key    reade     lohelu                                 90
     c                   enddo
      *
      * Ordretekst
      *
     c     lotxlu_key    setll     lotxlu                                 90
     c     lotxlu_key    reade     lotxlu                                 90
     c                   dow       *in90 = *off
     c                   eval      ltfirm = w_firm
6.10 c                   eval      lteusr = l_user
6.10 c                   time                    ltedat
6.10 c                   time                    ltetim
     c                   update    lotxlur
     c     lotxlu_key    reade     lotxlu                                 90
     c                   enddo
      *
      * Utplukk linje
      *
     c     lplllu_key    setll     lplllu                                 90
     c     lplllu_key    reade     lplllu                                 90
     c                   dow       *in90 = *off
     c                   eval      lklfir = w_firm
     c                   update    lplllur
     c     lplllu_key    reade     lplllu                                 90
     c                   enddo
      *
      * Utplukk param
      *
     c     lplolu_key    setll     lplolu                                 90
     c     lplolu_key    reade     lplolu                                 90
     c                   dow       *in90 = *off
     c                   eval      lkpfir = w_firm
     c                   update    lplolur
     c     lplolu_key    reade     lplolu                                 90
     c                   enddo
      *
      * Utplukk Plukk1 linje
      *
     c     lpm1lu_key    setll     lpm1lu                                 90
     c     lpm1lu_key    reade     lpm1lu                                 90
     c                   dow       *in90 = *off
     c                   eval      lk1fir = w_firm
     c                   update    lpm1lur
     c     lpm1lu_key    reade     lpm1lu                                 90
     c                   enddo
      *
      * Ofak - kode
      *
     c     lstslu_key    setll     lstslu                                 90
     c     lstslu_key    reade     lstslu                                 90
     c                   dow       *in90 = *off
     c                   eval      laafir = w_firm
6.10 c                   eval      laaeus = l_user
6.10 c                   time                    laaeda
6.10 c                   time                    laaeti
     c                   update    lstslur
     c     lstslu_key    reade     lstslu                                 90
     c                   enddo
      *
      * Lagertelling telleregister
      *
     c     ltellu_key    setll     ltellu                                 90
     c     ltellu_key    reade     ltellu                                 90
     c                   dow       *in90 = *off
     c                   eval      lefirm = w_firm
6.10 c                   eval      leeusr = l_user
6.10 c                   time                    leedat
6.10 c                   time                    leetim
     c                   update    ltellur
     c     ltellu_key    reade     ltellu                                 90
     c                   enddo
      *
      * User
      *
     c     lusrlu_key    setll     lusrlu                                 90
     c     lusrlu_key    reade     lusrlu                                 90
     c                   dow       *in90 = *off
     c                   eval      lbfirm = w_firm
6.10 c                   eval      lbeusr = l_user
6.10 c                   time                    lbedat
6.10 c                   time                    lbetim
     c                   update    lusrlur
     c     lusrlu_key    reade     lusrlu                                 90
     c                   enddo
      *
      * Faktura-linjer
      *
     c     sidtlu_key    setll     sidtlu                                 90
     c     sidtlu_key    reade     sidtlu                                 90
     c                   dow       *in90 = *off
     c                   eval      slfirm = w_firm
6.10 c                   eval      sleusr = l_user
6.10 c                   time                    sledat
6.10 c                   time                    sletim
     c                   update    sidtlur
     c     sidtlu_key    reade     sidtlu                                 90
     c                   enddo
      *
      * Faktura-hode
      *
     c     sihelu_key    setll     sihelu                                 90
     c     sihelu_key    reade     sihelu                                 90
     c                   dow       *in90 = *off
     c                   eval      shfirm = w_firm
6.10 c                   eval      sheusr = l_user
6.10 c                   time                    shedat
6.10 c                   time                    shetim
     c                   update    sihelur
     c     sihelu_key    reade     sihelu                                 90
     c                   enddo
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      * Avslutt program
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     c     avslutt       tag
      *
     c                   eval      *inlr = *on
     c                   return
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      * Subrutine for initiering av program
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     c     *inzsr        begsr
      *
     c     *entry        plist
     c                   parm                    w_firm
      *
     c     lbchlu_key    klist
     c                   kfld                    l_firm
      *
     c     lbdtlu_key    klist
     c                   kfld                    l_firm
      *
     c     lbhelu_key    klist
     c                   kfld                    l_firm
      *
     c     ldellu_key    klist
     c                   kfld                    l_firm
      *
     c     ledilu_key    klist
     c                   kfld                    l_firm
      *
     c     lfdtlu_key    klist
     c                   kfld                    l_firm
      *
     c     lfhelu_key    klist
     c                   kfld                    l_firm
      *
     c     lftxlu_key    klist
     c                   kfld                    l_firm
      *
     c     lldilu_key    klist
     c                   kfld                    l_firm
      *
     c     lldtlu_key    klist
     c                   kfld                    l_firm
      *
     c     llhelu_key    klist
     c                   kfld                    l_firm
      *
     c     lodtlu_key    klist
     c                   kfld                    l_firm
      *
     c     lohelu_key    klist
     c                   kfld                    l_firm
      *
     c     lotxlu_key    klist
     c                   kfld                    l_firm
      *
     c     lplllu_key    klist
     c                   kfld                    l_firm
      *
     c     lplolu_key    klist
     c                   kfld                    l_firm
      *
     c     lpm1lu_key    klist
     c                   kfld                    l_firm
      *
     c     lstslu_key    klist
     c                   kfld                    l_firm
      *
     c     ltellu_key    klist
     c                   kfld                    l_firm
      *
     c     lusrlu_key    klist
     c                   kfld                    l_firm
      *
     c     sidtlu_key    klist
     c                   kfld                    l_firm
      *
     c     sihelu_key    klist
     c                   kfld                    l_firm
      *
     c                   endsr
