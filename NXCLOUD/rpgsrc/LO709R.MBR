     h option(*nodebugio) datedit(*dmy)
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
      *  System. . . . . : ASLAGR
      *  Program . . . . : LO709R
      *  Beskrivelse . . : Merker bestilling med hvem som oppdaterer
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
      *  Spesialversjon. :
      *  Tilpasset for . :
      *
      *  Referanse  Dato   Endringsbeskrivelse                     Sign.
      *  --------- ------  ------------------------------------------------
      *  6.10      180609  Oppdatert med sporingsinformasjon       BSA
6.nu  *  6.30      300514  Behandlet mtp. nummerutvidelse          bof
      *
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     flohelu    uf   e           k disk    rename(lohepfr:lohelur)
      *
      *  Local Data Area
      *
     d                uds
     d l_wsid                901    910
6.10 d l_user                911    920
     d l_firm                944    946  0
     d l_fnav                951    980
      *
      * Definering av parametre
      *
     d p_numm          s                   like(lonumm)
     d p_suff          s                   like(losuff)
      *
      * Definering av variable i nøkler
      *
     d lohelu_numm     s                   like(lonumm)
     d lohelu_suff     s                   like(losuff)
      *
      * Definering av øvrige variable
      *
     d w_firm          s                   like(lofirm)
     d w_koda          s                   like(lokoda)
     d w_koti          s                   like(lokoti)
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *  Legge inn opplysninger som skal oppdatere ordrehode
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
      *  Oppdater ORDRE-HODE-REGISTER
      *
      * Hente inn dagens dato og klokkeslett
      *
     c                   time                    w_koda
     c                   time                    w_koti
      *
     c     lohelu_key    chain     lohelur
B001 c                   if        %found
 001 c                   eval      lokous = l_wsid
 001 c                   eval      lokows = l_user
 001 c                   eval      lokoda = w_koda
 001 c                   eval      lokoti = w_koti
6.10 c                   time                    loedat
6.10 c                   time                    loetim
6.10 c                   eval      loeusr = l_user
 001 c                   update    lohelur
E001 c                   endif
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *  Avslutt program
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     c     end_pgm       tag
     c                   eval      *inlr = *on
     c                   return
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *  Subrutine for initiering av program
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     c     *inzsr        begsr
      *
      *  Tar inn parameter fra forrige program
      *
     c     *entry        plist
     c                   parm                    p_numm
     c                   parm                    p_suff
      *
      *  Key for oppdatering av ORDRE-HODE
      *
     c     lohelu_key    klist
     c                   kfld                    w_firm
     c                   kfld                    lohelu_numm
     c                   kfld                    lohelu_suff
      *
      *  Legger inn firma ordrenummer og suffix i nøkklene
      *
     c                   eval      w_firm = l_firm
     c                   eval      lohelu_numm = p_numm
     c                   eval      lohelu_suff = p_suff
      *
     c                   endsr
