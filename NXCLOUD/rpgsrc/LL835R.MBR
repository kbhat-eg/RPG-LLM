     H/TITLE  ASLAGR: Nullstiller lagersaldo - Parameterinntasting
     H DATEDIT(*DMY)
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      *                                                                 *
      *  System. . . . . : ASLAGR                                       *
      *  Program . . . . : LL830R                                       *
      *  Beskrivelse . . : Bytter varetype oppstart og                  *
      *                    autorisasjonskontroll                        *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      *                                                                 *
      *  Spesialversjon. :                                              *
      *  Tilpasset for . :                                              *
      *                                                                 *
      *  Referanse  Dato   Endringsbeskrivelse                     Sign *
      * --------- ------  ----------------------------------------------*
      *                                                                 *
      *                                                                 *
      *                                                                 *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      *
      *
     flusrl1    if   e           k disk    rename(lusrpfr:lusrl1r)
     FLL835D    CF   E             WORKSTN
      *
     D                 DS
      *                                                      Parameter-inn
     D  DSPREC                 1     64
     D  DSBATC                 1     10
     D  DSVAL1                11     11  0
     D  DSLAGE                12     13  0
      *
     D/EJECT
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      *               :  Local Data Area                                *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      *
      *
     D                UDS
     d  l_user               911    920
     D  l_firm               944    946  0
     D  l_fnav               951    980
      *
     d lusrl1_user     s                   like(lbuser)
      *
     C/EJECT
      *
      *  Henter opplysninger fra BRUKER-TABELL LAGR
      *
     c                   eval      lusrl1_user = l_user
     c     lusrl1_key    chain     lusrl1                             90
      *
      *  Sjekk om denne brukeren kan oppdatere varetyper fra telling.
      *
     c                   if        *in90 = *on
     c                             or lbtans < 2
     c                   exfmt     a1win
     c                   goto      xslutt
     c                   endif
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      *  Kaller opp program for endring av varetype                     *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      *
      *  Kaller opp subprogram
      *
     C                   CALL      'VV770R'
      *
     C/EJECT
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      *  Avslutt program                                                *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      *
      *
     C     XSLUTT        TAG
      *
     C                   SETON                                        LR
     C                   RETURN
      *
     C/EJECT
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      *  Subrutine for initiering av program                            *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      *
      *
     C     *INZSR        BEGSR
      *
      *  Key for les av BRUKER
      *
     c     lusrl1_key    klist
     c                   kfld                    l_firm
     c                   kfld                    lusrl1_user
      *
      *
      *  Definisjon av local data area for output
      *
     C                   MOVE      *BLANK        A1BATC           10
     C                   MOVE      *BLANK        WRETUR            1
      *
      *  Nullstilling av felter som ikke kan redefineres
      *
     C                   MOVE      *ZERO         WWVALG            1
      *
      *  Redefinering av felter
      *
      *  Redefinering av nÃ¸kler
      *
     CSR                 ENDSR
