     h option(*nodebugio) datedit(*dmy)
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
      * System  . . . . : ASSHOP
      * Program . . . . : BA100R
      * Beskrivelse . . : Butikk-status, vedlikehold
      *
      * Spesialversjon. :
      * Tilpasset for . :
      *
      * Ref.   Dato  Sign Endringsbeskrivelse
      * ----- ------ ---- -------------------------------------------------
      *       020604 HKO  Skrevet om til ny standard
      * 6.10  110909 BSA  Oppdatert med sporingsinformasjon
6.31  * 6.30  230914 ASK  Lagt inn kall til program for h√•ndtering av
6.31  *                   betalingskort.
6.32  * 6.30  240816 bof  Utvidet med feltet Varenr. innbetaling.
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     fbstsl1    if   e           k disk    rename(bstspfr:bstsl1r)
     fbstslu    uf a e           k disk    rename(bstspfr:bstslur)
      *
     fba100d    cf   e             workstn
      *
      * Definering av Local data area
      *
     d                uds
6.10 d l_user                911    920
     d l_firm                944    946  0
     d l_fnav                951    980
      *
      * Definering av variable
      *
     d w_firm          s                   like(baafir)
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      * Hovedprogram
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
6.31 c     start         tag
      *
     c     key01         chain     bstsl1
      *
     c                   if        %found                                                .....
     c                   eval      c1aavs = baaavs                                           .
     c                   eval      c1adet = baadet                                           .
     c                   eval      c1aord = baaord                                           .
     c                   eval      c1akun = baakun                                           .
     c                   eval      c1aopk = baaopk                                           .
     c                   eval      c1aops = baaops                                           .
     c                   eval      c1asak = baasak                                           .
     c                   eval      c1asas = baasas                                           .
     c                   eval      c1alst = baalst                                           .
     c                   eval      c1abnr = baabnr                                           .
     c                   eval      c1avar = baavar                                           .
     c                   eval      c1agva = baagva                                           .
     c                   eval      c1adva = baadva                                           .
6.32 c                   eval      c1aiva = baaiva                                           .
     c                   eval      c1amva = baamva                                           .
     c                   eval      c1alag = baalag                                           .
     c                   eval      c1ahoy = baahoy                                           .
     c                   eval      c1abil = baabil                                           .
     c                   eval      c1aokd = baaokd                                           .
     c                   eval      c1aokk = baaokk                                           .
     c                   eval      c1aocd = baaocd                                           .
     c                   eval      c1aock = baaock                                           .
     c                   eval      c1aofd = baaofd                                           .
     c                   eval      c1aofk = baaofk                                           .
     c                   eval      c1aobd = baaobd                                           .
     c                   eval      c1aobk = baaobk                                           .
     c                   eval      c1aold = baaold                                           .
     c                   eval      c1alty = baalty                                           .
     c                   eval      c1atty = baatty                                           .
     c                   eval      c1abin = baabin                                           .
     c                   eval      c1abka = baabka                                           .
     c                   eval      c1abbn = baabnk                                           .
     c                   eval      c1abav = baabav                                           .
     c                   eval      c1ukre = baaukr                                           .
     c                   else                                                                .
     c                   eval      c1aavs = *blank                                           .
     c                   eval      c1adet = *blank                                           .
     c                   eval      c1aord = *blank                                           .
     c                   eval      c1akun = 0                                                .
     c                   eval      c1aopk = 0                                                .
     c                   eval      c1aops = 0                                                .
     c                   eval      c1asak = 0                                                .
     c                   eval      c1asas = 0                                                .
     c                   eval      c1alst = *blank                                           .
     c                   eval      c1abnr = *blank                                           .
     c                   eval      c1avar = *blank                                           .
     c                   eval      c1agva = *blank                                           .
     c                   eval      c1amva = 0                                                .
     c                   eval      c1alag = 0                                                .
     c                   eval      c1ahoy = 0                                                .
     c                   eval      c1abil = 0                                                .
     c                   eval      c1aokd = *blank                                           .
     c                   eval      c1aokk = *blank                                           .
     c                   eval      c1aocd = *blank                                           .
     c                   eval      c1aock = *blank                                           .
     c                   eval      c1aofd = *blank                                           .
     c                   eval      c1aofk = *blank                                           .
     c                   eval      c1aobd = *blank                                           .
     c                   eval      c1aobk = *blank                                           .
     c                   eval      c1aold = *blank                                           .
     c                   eval      c1alty = *blank                                           .
     c                   eval      c1atty = *blank                                           .
     c                   eval      c1abin = 0                                                .
     c                   eval      c1abka = 0                                                .
     c                   eval      c1abbn = 0                                                .
     c                   eval      c1abav = 0                                                .
     c                   endif                                                           .....
      *
     c                   exfmt     c1bld
      *
     c                   if        *inkc or *inkl
     c                   goto      avslutt
     c                   endif
6.31  *
6.31  * Sjekker om oppdatering av betalingskort info er valgt
6.31  *
6.31 c                   if        *inkh
6.31 c                   call      'BA105R'
6.31 c                   goto      start
6.31 c                   endif
      *
     c     key01         chain     bstslur
      *
     c                   eval      baaavs = c1aavs                                           .
     c                   eval      baadet = c1adet                                           .
     c                   eval      baaord = c1aord                                           .
     c                   eval      baakun = c1akun                                           .
     c                   eval      baaopk = c1aopk                                           .
     c                   eval      baaops = c1aops                                           .
     c                   eval      baasak = c1asak                                           .
     c                   eval      baasas = c1asas                                           .
     c                   eval      baalst = c1alst                                           .
     c                   eval      baabnr = c1abnr                                           .
     c                   eval      baavar = c1avar                                           .
     c                   eval      baagva = c1agva                                           .
     c                   eval      baadva = c1adva                                           .
6.32 c                   eval      baaiva = c1aiva                                           .
     c                   eval      baamva = c1amva                                           .
     c                   eval      baalag = c1alag                                           .
     c                   eval      baahoy = c1ahoy                                           .
     c                   eval      baabil = c1abil                                           .
     c                   eval      baaokd = c1aokd                                           .
     c                   eval      baaokk = c1aokk                                           .
     c                   eval      baaocd = c1aocd                                           .
     c                   eval      baaock = c1aock                                           .
     c                   eval      baaofd = c1aofd                                           .
     c                   eval      baaofk = c1aofk                                           .
     c                   eval      baaobd = c1aobd                                           .
     c                   eval      baaobk = c1aobk                                           .
     c                   eval      baaold = c1aold                                           .
     c                   eval      baalty = c1alty                                           .
     c                   eval      baatty = c1atty                                           .
     c                   eval      baabin = c1abin                                           .
     c                   eval      baabka = c1abka                                           .
     c                   eval      baabnk = c1abbn                                           .
     c                   eval      baabav = c1abav                                           .
     c                   eval      baaukr = c1ukre                                           .
      *
6.10 c                   time                    baaeda
6.10 c                   time                    baaeti
6.10 c                   eval      baaeus = l_user
     c                   if        %found                                                .....
     c                   update    bstslur                                                   .
     c                   else                                                                .
     c                   eval      baafir = w_firm                                           .
6.10 c                   time                    baaoda
6.10 c                   time                    baaoti
6.10 c                   eval      baaous = l_user
     c                   write     bstslur                                                   .
     c                   endif                                                           .....
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      * Avslutt program
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     c     avslutt       tag
     c                   eval      *inlr = *on
     c                   return
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      * Subrutine for initiering av program
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     c     *inzsr        begsr
      *
      * Key for oppslag og oppdatering av butikk-status
      *
     c     key01         klist
     c                   kfld                    w_firm
      *
      *
      * Henter firma fra LDA
      *
     c                   eval      w_firm = l_firm
      *
     c                   endsr
