     h option(*nodebugio) datedit(*dmy)
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
      * System. . . . . : ASSHOP
      * Program . . . . : BU728R
      * Beskrivelse . . : Butikk, eksport av tilbudspriser
      *
      *                   Henter gjeldende og framtidige tilbudspriser
      *
      * Spesialversjon. :
      * Tilpasset for . :
      *
      * Ref.   Dato  Sign Endringsbeskrivelse
      * ----- ------ ---- -------------------------------------------------
      *       130405 HKO  Nytt program
6.20  *       070911 bof  Utvidet tilbuds reg. med varegr. og lev.nr
      *
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     fvtill1    if   e           k disk    rename(vtilpfr:vtill1r)
      *
     fbotpst    uf a e           k disk    rename(botpst:botpstr)
      *
      * Definering av parametre
      *
     d p_firm          s                   like(vtfirm)
     d p_dato          s               d   datfmt(*iso)
     d p_time          s               t   timfmt(*iso)
      *
      * Definering av variable
      *
     d w_firm          s                   like(vtfirm)
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      * Hovedprogram
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
      * Initierer fil
      *
     c                   clear                   botpstr
      *
     c                   eval      firm = w_firm
      *
      * Behandler tilbudspriser
      *
     c     vtill1_key    setll     vtill1
     c     vtill1_key    reade     vtill1
     c                   dow       %eof = *off
      *
6.20 c                   if        vttdat >= p_dato and
6.20 c                             vtvare <> *blank
     c
     c                   eval      vare = vtvare
     c                   eval      lety = vtlety
     c                   eval      fdat = vtfdat
     c                   eval      ftim = vtftim
     c                   eval      tdat = vttdat
     c                   eval      ttim = vtttim
     c                   eval      kamp = vtkamp
     c                   eval      enh1 = vtenh1
     c                   eval      tip1 = vttip1
     c                   eval      kop1 = vtkop1
     c                   eval      enh2 = vtenh2
     c                   eval      tip2 = vttip2
     c                   eval      kop2 = vtkop2
     c                   eval      enh3 = vtenh3
     c                   eval      tip3 = vttip3
     c                   eval      kop3 = vtkop3
     c                   eval      odat = vtedat
     c                   eval      edat = vtedat
     c                   eval      etim = vtetim
     c                   eval      eusr = vteusr
      *
     c                   write     botpstr
      *
     c                   endif
      *
     c     vtill1_key    reade     vtill1
     c                   enddo
      *
      * Avslutt
      *
     c     avslutt       tag
      *
     c                   eval      *inlr = *on
     c                   return
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      * Subrutine for initiering av program
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     c     *inzsr        begsr
      *
      * Parameter
      *
     c     *entry        plist
     c                   parm                    p_firm
     c                   parm                    p_dato
     c                   parm                    p_time
      *
      * Key for les pÃ¥ tilbudspriser
      *
     c     vtill1_key    klist
     c                   kfld                    w_firm
      *
      *
      * Henter firma fra parameter
      *
     c                   eval      w_firm = p_firm
      *
     c                   endsr
