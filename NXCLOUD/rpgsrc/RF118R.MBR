     h datedit(*dmy.) option(*nodebugio)
      * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
      * System. . . . . : ASOKON                                              *
      * Program . . . . : RF118R                                              *
      * Beskrivelse . . : Legger på avkr.ref på kunde/lev. transer            *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      * Spesialversjon. :                                                     *
      * Tilpasset for . :                                                     *
      *                                                                       *
      * Referanse  Dato   Endringsbeskrivelse                            Sign *
      * --------- ------  ---------------------------------------------- ---- *
      * R6.10     251009  Nytt program                                   ASK  *
6.10  *                                                                       *
6.11  *                                                                       *
6.12  * R6.10     280212  Legger ut år i avkr.og sporing dersom nytt år  NHO
6.13  * R6.10     220312  År fra avkr.post må legges ut i num.filen      NHO
      *                   dersom post ikke finnes fra før
      * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
      *
6.12  *fraa4lu    uf   e           k disk    rename(raa4pfr:raa4lur)
6.12 fraa4lu    uf a e           k disk    rename(raa4pfr:raa4lur)
      *
      * Definering av parametre
      *
     d p_firm          s                   like(ra4fir)
     d p_avkr          s                   like(ra4avk)
     d p_aar           s                   like(ra4aar)
     d p_spor          s                   like(ra4spo)
      *
      * Definering av variable i nøkler
      *
     d raa4lu_firm     s                   like(ra4fir)
     d raa4lu_4aar     s                   like(ra4aar)
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *  HOVEDPROGRAM
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     c                   eval      raa4lu_firm = p_firm
     c                   eval      raa4lu_4aar = p_aar
     c     raa4lu_key    chain     raa4lu
      *
     c                   if        %found
     c                   eval      ra4avk = ra4avk + 1
     c                   eval      p_avkr = ra4avk
     c                   eval      ra4spo = ra4spo + 1
     c                   eval      p_spor = ra4spo
     c                   update    raa4lur
     c                   else
6.12 c*                  eval      p_avkr = 0
6.12 c*                  eval      p_spor = 0
6.12 c                   eval      ra4spo = 0
6.12 c                   eval      ra4avk = 0
6.13 c                   eval      ra4aar = p_aar
6.12 c                   movel     p_aar         ra4spo
6.12 c                   movel     p_aar         ra4avk
6.12 c*                  eval      p_avkr = ra4avk
6.12 c*                  eval      p_spor = ra4spo
6.12 c                   write     raa4lur
     c                   endif
      *
     c                   eval      *inlr = *on
     c                   return
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      * Subrutine for initiering av program                             *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *
      *
     c     *inzsr        begsr
      *
     c     *entry        plist
     c                   parm                    p_firm
     c                   parm                    p_aar
     c                   parm                    p_avkr
     c                   parm                    p_spor
      *
      *
      * Key for sist brukte nr. - koderegister
      *
     c     raa4lu_key    klist
     c                   kfld                    raa4lu_firm
     c                   kfld                    raa4lu_4aar
      *
     c                   endsr
