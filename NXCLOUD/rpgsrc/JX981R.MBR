      /TITLE  Fix : Retter alle lev.varenr som har blitt blanke
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
      *  System  . . . . : ASVADM
      *  Program . . . . : jv981R
      *  Beskrivelse . . : Leser hele jvprPF, sjekker om lev.varenr
      *                    = blank, henter fra vareeiers lev.varenr
      *                    sjekker også om blankt lev.varenr. i EVR
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
      *
      *  Referanse  Dato   Endringsbeskrivelse                     Sign.
      * --------- ------  --------------------------------------------------
      *           031112  Nytt program                             BOF
      *
      *
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     fjvprl1    if   e           k disk    rename(jvprpfr:jvprl1r)
     fjvprlu    uf   e           k disk    rename(jvprpfr:jvprlur)
     fjvarl1    if   e           k disk    rename(jvarpfr:jvarl1r)
     fvvarlu    uf   e           k disk    rename(vvarpfr:vvarlur)
     fvvarl1    if   e           k disk    rename(vvarpfr:vvarl1r)
     fjlevl1    if   e           k disk    rename(jlevpfr:jlevl1r)
      *
      *  UDS Local Data Area
      *
     d                uds
     d l_firm                944    946  0
     d l_user                911    920
      *
      *  Definering av variable i nøkler
      *
     d jvarl1_vare     s                   like(jvvare)
     d jlevl1_ldor     s                   like(jlldor)
     d vvarl1_vare     s                   like(vvvare)
     d vvarlu_vare     s                   like(vvvare)
     d jvprlu_vare     s                   like(jxvare)
     d jvprlu_ldor     s                   like(jxldor)
      *
      *
      *  Definering av variable
      *
     d w_firm          s                   like(vvfirm)
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
      *
      *  Lese file
      *
     c                   read      jvprlu                                 90
     c                   dow       *in90 = *off
      *
     c                   if        jxlvar = *blank
     c                   eval      jvarl1_vare = jxvare
     c     jvarl1_key    chain     jvarl1
     c                   if        %found(jvarl1) and
     c                             jxldor = jvldor and
     c                             jvlvar <> *blank
     c                   exsr      upd_jvpr
      *
     c                   eval      vvarl1_vare = jxvare
     c     vvarl1_key    chain     vvarl1
     c                   if        %found(vvarl1) and
     c                             vvlvar =  *blank
     c                   eval      jlevl1_ldor = jxldor
     c     jlevl1_key    chain     jlevl1
     c                   if        %found(jlevl1) and
     c                             jlenum = vvldor
     c                   exsr      upd_vvar
     c                   endif
     c                   endif
     c                   endif
     c                   endif
     c                   read      jvprlu                                 90
     c                   enddo
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      * Avslutt program
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     c     xslutt        tag
      *
     c                   eval      *inlr = *on
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *  Subrutine for å oppdatere varepris i va
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     c     upd_jvpr      begsr
      *
     c                   eval      jvprlu_vare = jxvare
     c                   eval      jvprlu_ldor = jxldor
     c     jvprlu_key    chain     jvprlu
     c                   if        %found(jvprlu)
     c                   eval      jxlvar = jvlvar
     c                   time                    jxedat
     c                   time                    jxetim
     c                   eval      jxeusr = l_user
     c                   update    jvprlur
     c                   endif
     c                   endsr
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *  Subrutine for å oppdatere vare i EVR
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     c     upd_vvar      begsr
      *
     c                   eval      vvarlu_vare = jxvare
     c     vvarlu_key    chain     vvarlu
     c                   if        %found(vvarlu)
     c                   eval      vvlvar = jvlvar
     c                   time                    vvedat
     c                   time                    vvetim
     c                   eval      vveusr = l_user
     c                   update    vvarlur
     c                   endif
     c                   endsr
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *  Subrutine for initiering av program
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     c     *inzsr        begsr
      *
      *
      * Key for oppslag på leverandør
      *
     c     jlevl1_key    klist
     c                   kfld                    jlevl1_ldor
      *
      * Key for oppslag på vare
      *
     c     jvprlu_key    klist
     c                   kfld                    jvprlu_vare
     c                   kfld                    jvprlu_ldor
      *
      * Key for oppslag på vare
      *
     c     jvarl1_key    klist
     c                   kfld                    jvarl1_vare
      *
      * Key for oppslag på vare
      *
     c     vvarl1_key    klist
     c                   kfld                    w_firm
     c                   kfld                    vvarl1_vare
      *
      *
      * Key for oppdat  på vare
      *
     c     vvarlu_key    klist
     c                   kfld                    w_firm
     c                   kfld                    vvarlu_vare
      *
      *  Legge inn opplysninger i nøklene
      *
      *
     c                   endsr
