```markdown
# Program IT013R – “Import Districts”

## 1. Header and File Declaration
- `h option(*nodebugio) datedit(*dmy)`  
  - No debug I/O, date format = DMY.
- `fra08l1 if e k disk rename(ra08pfr:ra08l1r)`  
  - Externally described file `RA08PFR`, record-format `RA08L1R` renamed in RPG to `RA08L1`.

## 2. Local Data Area (LDA)
```rpg
d    uds
d l_firm                944    946  0    // Company number loaded from LDA
```
- Holds the “firm” (company) value passed in when the job started.

## 3. Keyed Field for the File
```rpg
d ra08l1_hkod     s                   like(rahkod)
```
- A working field used together with `l_firm` to position within `RA08L1`.

## 4. Parameter Data-Structure
```rpg
d d_parm          ds
d  d_kode                        4    // District code (character)
d  d_besk                       40   // District description
```
- Bundles two values into one structure for passing to the write program.

## 5. Working-Storage Variables
```rpg
d w_firm          s              3  0   // Company number
d w_prog          s             40     // Program name for the write utility
d w_comd          s             20     // Command (Insert/Update/Delete)
d w_parm          s           2048     // Parameters (we load d_parm into this)
d w_date          s               d   datfmt(*iso)  // Current date
d w_time          s               t   timfmt(*iso)  // Current time
d w_rpgp          s             10     // This program’s name (for logging)
```

## 6. Initialization Subroutine (*INZSR)
```rpg
c   *inzsr       begsr
c     ra08l1_key    klist
c                   kfld    w_firm
c                   kfld    ra08l1_hkod
c
c                   eval     w_firm = l_firm
c                   eval     w_prog = 'NexstepImportDistrikter'
c                   eval     w_comd = 'Insert'
c                   eval     w_rpgp = 'IT013R'
c   endsr
```
- **Key List** (`ra08l1_key`)  
  Positions the file pointer by `w_firm` + `ra08l1_hkod` when `SETLL` is called.
- **Parameter Defaults**  
  Sets up:
  - `w_firm` from LDA
  - `w_prog` = name of the standard write program
  - `w_comd` = `'Insert'`
  - `w_rpgp` = this RPG program’s name

## 7. Main Processing Loop
```rpg
c                   eval      ra08l1_hkod = 0
c     ra08l1_key    setll     ra08l1        // Position at first record for this firm
c                   read      ra08l1
c     dow       not %eof and rahfir = w_firm
c
c       // 1) Map file fields into our parameter structure
c       eval    d_kode = %triml(%editw(rahkod : '   0'))
c       eval    d_besk = rahtxt
c       eval    w_parm = d_parm         // Move DS into large parm block
c
c       // 2) Call standard “write” program IT001R
c       call    'IT001R'
c       parm           w_firm
c       parm           w_prog
c       parm           w_comd
c       parm           w_parm
c       parm           w_rpgp
c
c       read      ra08l1
c     enddo
```
- **Loop Control**  
  - `SETLL` + first `READ` to position on records for this company.
  - `DOW not %eof and rahfir = w_firm` ensures we only process this firm’s records.
- **Field Transformations**  
  - `d_kode` ← trimmed, zero-padded district code (`rahkod`).
  - `d_besk` ← district text (`rahtxt`).
- **External Call**  
  - `IT001R` is a generic record writer.
  - Parameters:
    1. `w_firm`  (company)
    2. `w_prog`  (calling program ID)
    3. `w_comd`  (operation = Insert)
    4. `w_parm`  (packed DS: code + text)
    5. `w_rpgp`  (this RPG program for logging/audit)

## 8. Shutdown
```rpg
c                   eval    *inlr = *on
c                   return
```
- Sets Last Record indicator so the program cleans up on return.

---

**Summary**  
This program reads all district records (`RA08PFR`) for a given company and calls a standard “IT001R” writer to insert each district into the target database. Initialization happens in `*INZSR`, and the main loop selects, transforms, and passes each record’s key and description to the external write utility.