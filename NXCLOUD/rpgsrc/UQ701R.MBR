     h option(*nodebugio) datedit(*dmy)
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
      * System. . . . . :
      * Program . . . . : UQ701R
      * Beskrivelse . . : Brukere, oppd. passord og utkø på brukere fra fil
      *
      *                   Forutsetter at bruker er opprettet også i
      *                   operativsystemet
      *
      *                   Passord setter til brukernavn - filgruppe
      *
      *                   Kaller CL-program for oppdatering av bruker
      *
      * Spesialversjon. :
      * Tilpasset for . :
      *
      * Ref.   Dato  Sign Endringsbeskrivelse
      * ----- ------ ---- -------------------------------------------------
      *       110318 HKO  Nytt program
      *
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     fjrvapf    if   e           k disk    rename(jrvapfr:jrvapfr)
     fausrl1    if   e           k disk    rename(ausrpfr:ausrl1r)
      *
      * Definering av datastruktur
      *
     d                 ds
     d d_urec                        40
     d  d_user                       10    overlay(d_urec:1)
     d  d_utko                       10    overlay(d_urec:11)
      *
      * Definering av variable i nøkler
      *
     d ausrl1_user     s                   like(abuser)
      *
      * Definering av variable
      *
     d w_pasw          s             10
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      * Hovedprogram
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
      * Utleder bruker og selgerinformasjon
      *
     c                   read      jrvapf
     c                   dow       not %eof
      *
     c                   eval      d_urec = jrvrad
      *
     c                   if        d_user = *blank
     c                   goto      neste_bruker
     c                   endif
      *
     c                   if        d_utko = *blank
     c                   goto      neste_bruker
     c                   endif
      *
     c                   eval      ausrl1_user = d_user
     c     ausrl1_key    chain     ausrl1
     c                   if        not %found
     c                   goto      neste_bruker
     c                   endif
      *
      * Oppdaterer bruker (operativsystemet)
      *
     c                   eval      w_pasw = %subst(d_user:4:7)
      *
     c                   call      'UQ701C'
     c                   parm                    d_user
     c                   parm                    w_pasw
     c                   parm                    d_utko
      *
     c     neste_bruker  tag
      *
     c                   read      jrvapf
     c                   enddo
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      * Avslutt program
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     c     avslutt       tag
      *
     c                   eval      *inlr = *on
     c                   return
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      * Subrutine for initiering av program
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     c     *inzsr        begsr
      *
      * Key for oppslag på AUSRPF
      *
     c     ausrl1_key    klist
     c                   kfld                    ausrl1_user
      *
     c                   endsr
