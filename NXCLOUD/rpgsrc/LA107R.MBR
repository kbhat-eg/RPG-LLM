     h datedit(*dmy) option(*nodebugio)
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
      * System. . . . . : ASLAGR
      * Program . . . . : LA107R
      * Beskrivelse . . : Vedlikehold av parametre. Synkronisering bestilling/ordre
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
      * Spesialversjon. :
      * Tilpasset for . :
      *
      * Ref.   Dato  Sign Endringsbeskrivelse
      * ----- ------ ---- -------------------------------------------------
      *       260411 bsa  Nytt program
6.20  * 6.20  210312 bsa  Nytt felt for dato for når "Gjelder fra"
7.xx  * 7.00  160316 bsa  Endringer reltart til ny GUI. NB Kan kun gjelde DDS
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     flsbol1    if   e           k disk    rename(lsbopfr:lsbol1r)
     flsbolu    uf a e           k disk    rename(lsbopfr:lsbolur)
      *
     fla107d    cf   e             workstn
      *
      * Definering av Local data area
      *
     d                uds
     d l_user                911    920
     d l_firm                944    946  0
     d l_fnav                951    980
      *
      * Definering av variable
      *
     d w_firm          s                   like(laffir)
     d w_fity          s                   like(lafity)
     d w_itxt          s             35
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *  A1BLD Behandle bildet for valg
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     c     a1taga        tag
      *
      *  Hent opplysninger fra synkroniserings tabell
      *
     c     lsbol1_key    chain     lsbol1
     c                   if        %found
     c                   eval      a1ftyp = laftyp
     c                   eval      a1fchk = lafchk
     c                   eval      a1fcha = lafcha
     c                   eval      a1fchl = lafchl
     c                   eval      a1fvar = lafvar
     c                   eval      a1fity = lafity
6.20 c     *dmy          move      lafgfr        a1fgfr
     c                   else
     c                   eval      a1ftyp = *blank
     c                   eval      a1fchk = *blank
     c                   eval      a1fcha = *blank
     c                   eval      a1fchl = *blank
     c                   eval      a1fvar = *blank
     c                   eval      a1fity = *blank
6.20 c                   eval      a1fgfr = 0
     c                   endif
      *
      *  Vis bilde
      *
     c     a1tagb        tag
     c                   exfmt     a1bld
      *
      *  F3=Avslutt
      *
     c                   if        *inkc = *on
     c                   goto      end_pgm
     c                   endif
      *
      * F4=Spørring
      *
     c                   if        *inkd
      *
      *  Ordre-type
      *
     c                   if        w_afld = 'A1FITY'
     c                   call      'VA540R'
     c                   parm                    w_firm
     c                   parm                    w_fity
     c                   parm                    w_itxt
     c                   eval      a1fity = w_fity
     c                   goto      a1tagb
     c                   endif
      *
     c                   endif
      *
      *  Test på gyldige valg
      *
6.20 c     *dmy          test(d)                 a1fgfr                 33
6.20 c                   if        *in33  = *on
6.20 c                   goto      a1tagb
6.20 c                   endif
      *  N/M/A, nei=inge oppdatering,M=manuell via 55, A=automatisk
      *
      *  Varsling settes til J/N - mailutsending
      *
      *
      *  Oppdater synkroniseringstabell
      *
     c     lsbolu_key    chain     lsbolur
      *
     c                   eval      laftyp = a1ftyp
     c                   eval      lafchk = a1fchk
     c                   eval      lafcha = a1fcha
     c                   eval      lafchl = a1fchl
     c                   eval      lafvar = a1fvar
     c                   eval      lafity = a1fity
6.20 c                   if        a1fgfr <> 0
6.20 c     *dmy          move      a1fgfr        lafgfr
6.20 c                   else
6.20 c                   eval      lafgfr = *loval
6.20 c                   endif
      *
     c                   time                    lafeda
     c                   time                    lafeti
     c                   move      l_user        lafeus
      *
     c                   if        %found
     c                   update    lsbolur
     c                   else
     c                   eval      laffir = w_firm
6.20 c                   time                    lafoda
6.20 c                   time                    lafoti
6.20 c                   move      l_user        lafous
     c                   write     lsbolur
     c                   endif
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *  Avslutt program
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     c     end_pgm       tag
      *
     c                   eval      *inlr = *on
     c                   return
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *  Subrutine for initiering av program
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     c     *inzsr        begsr
      *
      *  Key for les av toleransetabell
      *
     c     lsbol1_key    klist
     c                   kfld                    w_firm
      *
      *  Key for oppdatering av synkroniseringstabell
      *
     c     lsbolu_key    klist
     c                   kfld                    w_firm
      *
      *  Legger inn verdier i nøklene
      *
     c                   eval      w_firm = l_firm
      *
     c                   endsr
