## Program Overview

This program, **AZ010R**, serves as a parameter input handler for the printing of "FRF" (the business meaning of FRF is not specified in the code, but it is likely a domain-specific report or document). The program is primarily responsible for presenting a display file (screen) to the user, capturing parameter values, handling function key exits (F3/F12), and returning the captured parameters to the calling program. The comments and variable names are in Norwegian, reflecting local conventions.

---

## Structure and Flow

### 1. File Definition

```rpg
faz010d    cf   e             workstn
```
- Associates the program with a display file (likely named AZ010D), for interactive workstation I/O.

---

### 2. Parameter Definitions

```rpg
d p_bibl          s             10
d p_brud          s              1  0
d p_in03          s              1  0
d p_kod1          s              2
d p_kod2          s              2
d p_kod3          s              2
d p_nfrf          s              4
d p_sfil          s              8
```
- These are the parameters exchanged with the calling program via the parameter list (`PLIST`). They represent various selection or control values for the FRF print job.

---

### 3. Main Logic

#### a. Display Handling

```rpg
c     a1taga        tag
c                   exfmt     a1bld
```
- The program displays the screen format `A1BLD` and waits for user input.

#### b. Function Key Handling

```rpg
c                   if        *inkc = *on
c                   eval      p_in03 = 1
c                   goto      xslutt
c                   endif

c                   if        *inkl = *on
c                   eval      p_in03 = 1
c                   goto      xslutt
c                   endif
```
- If the user presses F3 (Cancel, `*INKC`) or F12 (Return, `*INKL`), the program sets `p_in03` to 1 (indicating an exit via these keys) and jumps to program end. This is a local convention for signaling cancellation.

#### c. Parameter Transfer

```rpg
c                   eval      p_bibl = a1bibl
c                   eval      p_sfil = a1sfil
c                   eval      p_nfrf = a1nfrf
c                   eval      p_kod1 = a1kod1
c                   eval      p_kod2 = a1kod2
c                   eval      p_kod3 = a1kod3
c                   eval      p_brud = a1brud
```
- If the user did not exit with F3/F12, the program copies values from the display file fields to the corresponding parameters for return to the caller.

#### d. Program Termination

```rpg
c     xslutt        tag
c                   eval      *inlr = *on
c                   return
```
- The program sets the LR (Last Record) indicator to signal end-of-job and returns.

---

### 4. Initialization Subroutine (`*INZSR`)

```rpg
c     *inzsr        begsr
...
c                   eval      a1sfil = 'QDDFSRC'
...
c     *entry        plist
c                   parm                    p_bibl
...
c                   endsr
```
- Initializes all parameter variables to blanks or zeros.
- Sets a default value for `a1sfil` (the display file field for source file) to `'QDDFSRC'` (a standard source file name on IBM i).
- Defines the parameter list for program entry, mapping the external parameters to the internal variables.

---

## Business/Domain-Specific Logic

- **FRF**: While not explicitly defined, this is likely a report or form relevant to the business.
- **Parameter Handling**: The program acts as a front-end for gathering parameters used downstream (possibly for report selection or filtering).
- **Exit Convention**: Setting `p_in03` to 1 is a local convention to indicate the user cancelled or exited without confirming, allowing the calling program to distinguish between normal and cancelled entries.
- **Default Source File**: The default value `'QDDFSRC'` for the source file field suggests integration with standard IBM i source file conventions.

---

## Design Decisions & Conventions

- **Single-Screen, Modal Input**: The program expects all parameters to be entered at once, with a single confirmation or exit.
- **Function Key Handling**: Only F3 and F12 are handled for exit, which is typical for IBM i applications.
- **Parameter List Usage**: The program is intended to be called from another program, passing parameters by reference. This is a common pattern for modularizing user input in IBM i environments.
- **No Data Validation**: The code shown does not perform any validation on the input fields; this may be handled in the display file DDS or in downstream processes.

---

## External Interactions

- **Display File**: The program relies on an external display file (workstation file) for user interaction. Field names such as `A1BIBL`, `A1SFIL`, etc., must match those defined in the display file DDS.
- **Calling Program**: Parameters are returned to the caller via the parameter list, which is responsible for further processing (such as running the FRF print job).

---

## Summary

**AZ010R** is a parameter entry program for FRF printing. It presents a screen for user input, handles cancellation via F3/F12, and returns all parameters to the caller. It follows standard IBM i modularization practices, with clear separation of initialization, user interaction, and parameter passing. The program is straightforward, but relies on conventions (such as the use of `p_in03` and default values) that are important to understand for integration and maintenance.