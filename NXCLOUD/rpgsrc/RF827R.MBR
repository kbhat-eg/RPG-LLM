     h option(*nodebugio) datedit(*dmy)
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
      *  System. . . . . : ASOKON
      *  Program . . . . : RF827R
      *  Beskrivelse . . : Generere unike filnavn med dato og kundenummer
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
      *  Spesialversjon. :
      *  Tilpasset for . :
      *
      *  Referanse  Dato   Endringsbeskrivelse                       Sign.
      *  --------- ------  -------------------------------------------------
      *            150611  Nytt program                              BSA
      *
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
      *  Bruk av indikatorer:
      *
      *       LR = Avslutt program
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
      *  Definering av datastrukturer for filnavn
      *
     d                 ds
     d d_fnav                        28
     d  d_fnav01                      2    overlay(d_fnav)     inz('MB')
     d  d_fnav02                      6  0 overlay(d_fnav:3)
     d  d_fnav03                      4  0 overlay(d_fnav:9)
     d  d_fnav04                      1    overlay(d_fnav:13)   inz('.')
     d  d_fnav05                     10    overlay(d_fnav:14)
     d                 ds
     d  d_tid                         6  0
     d   d_tid01                      4  0 overlay(d_tid:1)
     d   d_tid02                      2  0 overlay(d_tid:5)
      *
      *  Definering av variable i parameter
      *
     d p_fnav          s             28
     d w_fnav          s             28
     d p_bmid          s             15
     d w_bmid          s             15
     d w_numm          s              2  0
      *
      * Definering av Ã¸vrige variable
      *
     d w_dato          s               d   datfmt(*iso)
     d w_time          s               t   timfmt(*iso)
     d w_dato_6        s              6  0
     d w_time_6        s              6  0
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *  Henter timestamp og bygger filanvn
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     c                   time                    w_dato
     c                   time                    w_time
      *
     c     *ymd          move      w_dato        w_dato_6
     c                   movel     w_time        d_tid
     c                   eval      d_fnav02 = w_dato_6
     c                   movel     d_tid01       d_fnav03
      *
      /Free

           d_fnav05 = %triml(p_bmid);

      /End-free
     c                   eval      w_fnav = %trim(d_fnav) + '.XML'
     c                   eval      p_fnav = %trim(w_fnav)
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *  Avslutt program
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     c     end_pgm       tag
      *
     c                   eval      *inlr = *on
     c                   return
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *  Subrutine for initiering av program
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     c     *inzsr        begsr
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *  Tar inn parameter fra forrige program
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     c     *entry        plist
     c                   parm                    p_bmid
     c                   parm                    p_fnav
      *
     c                   endsr
