     H datedit(*dmy) option(*nodebugio)
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      * System. . . . . : ASOKON
      * Program . . . . : RH402R
      * Beskrivelse . . : Hovedbok - sletting av saldi
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      * Spesialversjon. :
      * Tilpasset for . :
      *
      * Ref.   Dato  Sign Endringsbeskrivelse
      * ----- ------ ---- -------------------------------------------------
      * V5.40 150306 KOB  Slettet ikke siste record
6.31  *       040719 bof  utvidet tabell i hht. utvidelse i RHSAPF   COMP
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     frhsal1    if   e           k disk    rename(rhsapfr:rhsal1r)
     frhsalu    uf a e           k disk    rename(rhsapfr:rhsalur)
      *
     d rhsal1_firm     s                   like(rifirm)
      *
     d rhsalu_firm     s                   like(rifirm)
     d rhsalu_kont     s                   like(rikont)
     d rhsalu_spes     s                   like(rispes)
     d rhsalu_avde     s                   like(riavde)
     d rhsalu_raar     s                   like(riraar)
     d rhsalu_type     s                   like(ritype)
      *
      * Definering av Local data area
      *
     d                uds
     d d_raar                300    303  0
     d d_valg                         1
      *
     d l_firm                944    946  0
     d l_fnav                951    980
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      * Sletting av poster
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
      * Leser hovedboksaldi
      *
     c                   eval      rhsal1_firm = l_firm
     c     rhsal1_key    setll     rhsal1r                                90
      *
     c     rhsal1_les    tag
      *
     c                   read      rhsal1r                                90
      *
T5.40c                   if        riraar = 2003
T5.40c                   move      'Z'           kai               1
T5.40c                   endif
      *
T5.40c                   if        *in90  = *on or
T5.40c                             rifirm >  l_firm
T5.40c                   goto      avslutt
T5.40c                   endif
      *
     c                   if        d_valg =  'J' and
     c                             riraar <  d_raar
      *
     c                   eval      rhsalu_firm = rifirm
     c                   eval      rhsalu_kont = rikont
     c                   eval      rhsalu_spes = rispes
     c                   eval      rhsalu_avde = riavde
     c                   eval      rhsalu_raar = riraar
     c                   eval      rhsalu_type = ritype
     c     rhsalu_key    chain     rhsalur                            91
      *
     c                   if        %found(rhsalu)
     c                   delete    rhsalur
     c                   endif
     c                   endif
      *
     c                   goto      rhsal1_les
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      * Avslutt program
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     c     avslutt       tag
      *
     c                   eval      *inlr = *on
     c                   return
      *
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      * Subrutine for initiering av program
      * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      *
     c     *inzsr        begsr
      *
      * Key for hovedboksaldi
      *
     c     rhsal1_key    klist
     c                   kfld                    rhsal1_firm
      *
      * Key for hovedboksaldi
      *
     c     rhsalu_key    klist
     c                   kfld                    rhsalu_firm
     c                   kfld                    rhsalu_kont
     c                   kfld                    rhsalu_spes
     c                   kfld                    rhsalu_avde
     c                   kfld                    rhsalu_raar
     c                   kfld                    rhsalu_type
      *
     c                   endsr
