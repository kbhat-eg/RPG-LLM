-- Maler bonuselement

CREATE OR REPLACE TABLE EMBDST( 
 Firma               FOR COLUMN EMDFIR NUMERIC(3, 0) NOT NULL,
 Bonustype           FOR COLUMN EMDBOT CHAR(2) DEFAULT ' ',
 Malnummer           FOR COLUMN EMDMNR NUMERIC(5, 0) NOT NULL,
 Overgruppe          FOR COLUMN EMDOGR NUMERIC(2, 0) DEFAULT 0,
 Hovedgruppe         FOR COLUMN EMDHGR NUMERIC(2, 0) DEFAULT 0,
 Undergruppe         FOR COLUMN EMDUGR NUMERIC(3, 0) DEFAULT 0,
 Leverandor          FOR COLUMN EMDLDO NUMERIC(6, 0) DEFAULT 0,
 Modulnr             FOR COLUMN EMDMOD NUMERIC(8, 0) DEFAULT 0,
 Varenr              FOR COLUMN EMDVAR CHAR(15) DEFAULT ' ',
 Enhet               FOR COLUMN EMDENH CHAR(3) DEFAULT ' ',
 Leveringstype       FOR COLUMN EMDLET NUMERIC(1, 0) DEFAULT 0,
 FraDato             FOR COLUMN EMDFDA DATE DEFAULT '0001-01-01',
 TilDato             FOR COLUMN EMDTDA DATE DEFAULT '0001-01-01',
 BelopsgrenseFra     FOR COLUMN EMDBGF NUMERIC(9, 0) DEFAULT 0,
 BelopsgrenseTil     FOR COLUMN EMDBGT NUMERIC(9, 0) DEFAULT 0,
 Bonusprosent        FOR COLUMN EMDBPR NUMERIC(5, 2) DEFAULT 0,
 KalkulerTilbake     FOR COLUMN EMDKTB NUMERIC(1, 0) DEFAULT 0,
 Merknad             FOR COLUMN EMDMRK CHAR(50) DEFAULT ' ',
 Bonusgrunnlag       FOR COLUMN EMDGRU NUMERIC(11, 2) DEFAULT 0,
 SumBonus            FOR COLUMN EMDSBO NUMERIC(9, 0) DEFAULT 0,
 BeregnetDato        FOR COLUMN EMDBDA DATE NOT NULL DEFAULT '0001-01-01',
 BeregnetTid         FOR COLUMN EMDBTI TIME NOT NULL DEFAULT '00:00:00',
 OpprettetDato       FOR COLUMN EMDODA DATE NOT NULL DEFAULT CURRENT_DATE,
 OpprettetTid        FOR COLUMN EMDOTI TIME NOT NULL DEFAULT CURRENT_TIME,
 OpprettetAv         FOR COLUMN EMDOUS CHAR(10) NOT NULL DEFAULT ' ',
 EndretDato          FOR COLUMN EMDEDA DATE NOT NULL DEFAULT CURRENT_DATE,
 EndretTid           FOR COLUMN EMDETI TIME NOT NULL DEFAULT CURRENT_TIME,
 EndretAv            FOR COLUMN EMDEUS CHAR(10) NOT NULL DEFAULT ' ')
ON REPLACE PRESERVE ALL ROWS;

CREATE UNIQUE INDEX EMBDIU
	ON EMBDST (EMDFIR, EMDBOT, EMDMNR, EMDOGR, EMDHGR, EMDUGR, EMDLDO,
	           EMDMOD, EMDVAR, EMDENH, EMDLET, EMDFDA, EMDTDA, EMDBGF,
	           EMDBGT);

CREATE UNIQUE INDEX EMBDIR
	ON EMBDST (EMDFIR, EMDBOT, EMDMNR, EMDOGR, EMDHGR, EMDUGR, EMDLDO,
	           EMDMOD, EMDVAR, EMDENH, EMDLET, EMDFDA, EMDTDA, EMDBGF,
	           EMDBGT);

CREATE UNIQUE INDEX EMBDI1
	ON EMBDST (EMDFIR, EMDBOT, EMDMNR, EMDOGR, EMDHGR, EMDUGR, EMDLDO,
	           EMDMOD, EMDVAR, EMDENH, EMDLET, EMDFDA, EMDTDA, EMDBGF,
	           EMDBGT);

LABEL ON TABLE EMBDST
	IS 'Maler bonuselement';
