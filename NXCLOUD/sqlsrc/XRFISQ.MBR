CREATE OR REPLACE TABLE XRFIST(
  UID              NUMERIC(15, 0) NOT NULL GENERATED ALWAYS AS IDENTITY
                   (START WITH 1 INCREMENT BY 1 CYCLE),
  Firmanr          FOR COLUMN XFFIRM NUMERIC(3, 0) NOT NULL,
  Batch            FOR COLUMN XFBATC CHAR(50) NOT NULL,
  Nummer           FOR COLUMN XFNUMM NUMERIC(2, 0) NOT NULL,
  Fil              FOR COLUMN XFFILE BLOB(50485760),
  MimeType         FOR COLUMN XFMIME VARCHAR(100) NOT NULL,
  FileHash         FOR COLUMN XFFILH VARCHAR(50),
  OpprettetDato    FOR COLUMN XFODAT DATE NOT NULL DEFAULT CURRENT_DATE,
  OpprettetKl      FOR COLUMN XFOTIM TIME NOT NULL DEFAULT CURRENT_TIME,
  EndretDato       FOR COLUMN XFEDAT DATE NOT NULL DEFAULT CURRENT_DATE,
  EndretKl         FOR COLUMN XFETIM TIME NOT NULL DEFAULT CURRENT_TIME,
  OpprettetAv      FOR COLUMN XFOUSR CHAR(10) NOT NULL DEFAULT ' ',
  EndretAv         FOR COLUMN XFEUSR CHAR(10) NOT NULL DEFAULT ' ')
ON REPLACE PRESERVE ALL ROWS;

ALTER TABLE XRFIST ADD CONSTRAINT XRFIPK PRIMARY KEY (UID);
CREATE UNIQUE INDEX XRFIIU ON XRFIST(XFFIRM, XFBATC, XFNUMM);
CREATE INDEX XRFII1 ON XRFIST(XFFIRM, XFBATC);

LABEL ON TABLE XRFIST IS 'Arkiv, filer';
