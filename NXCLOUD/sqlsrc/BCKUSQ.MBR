CREATE OR REPLACE TABLE BCKUST(
  UID              NUMERIC(18, 0) NOT NULL GENERATED ALWAYS AS IDENTITY
                   (START WITH 1 INCREMENT BY 1 CYCLE),
  Firma            FOR COLUMN KLFIRM NUMERIC(3, 0) NOT NULL,
  Bongnr           FOR COLUMN KLBONG CHAR(12) NOT NULL,
  Linjenummer      FOR COLUMN KLLINE NUMERIC(4, 0) NOT NULL,
  Kupongid         FOR COLUMN KLKUID CHAR(64) NOT NULL,
  Navn             FOR COLUMN KLNAVN CHAR(256) NOT NULL,
  OppdStatistikk   FOR COLUMN KLSTAT NUMERIC(1, 0) NOT NULL DEFAULT 0,
  Endrettid        FOR COLUMN KLTMST TIMESTAMP NOT NULL FOR EACH ROW ON
                   UPDATE AS ROW CHANGE TIMESTAMP,
  OpprettetDato    FOR COLUMN KLODAT DATE NOT NULL DEFAULT CURRENT_DATE,
  OpprettetKl      FOR COLUMN KLOTIM TIME NOT NULL DEFAULT CURRENT_TIME,
  OpprettetAv      FOR COLUMN KLOUSR CHAR(10) NOT NULL DEFAULT ' ',
  EndretDato       FOR COLUMN KLEDAT DATE NOT NULL DEFAULT CURRENT_DATE,
  EndretKl         FOR COLUMN KLETIM TIME NOT NULL DEFAULT CURRENT_TIME,
  EndretAv         FOR COLUMN KLEUSR CHAR(10) NOT NULL DEFAULT ' ')
ON REPLACE PRESERVE ALL ROWS;

CREATE UNIQUE INDEX BCKUIU ON BCKUST(KLFIRM, KLBONG, KLLINE);

LABEL ON TABLE BCKUST IS 'Kundeklubb kuponger';
