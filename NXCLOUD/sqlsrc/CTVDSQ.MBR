CREATE OR REPLACE TABLE CTVDST(
  UID              NUMERIC(15, 0) NOT NULL GENERATED ALWAYS AS IDENTITY
                   (START WITH 1 INCREMENT BY 1 CYCLE),
  CTVHST_UID       NUMERIC(15, 0) NOT NULL ,
  Firma            FOR COLUMN CVTFIR NUMERIC(3, 0) NOT NULL DEFAULT 0,
  Tilvalgskategori FOR COLUMN CVTKOD CHAR(15) NOT NULL DEFAULT ' ',
  Kundekategori    FOR COLUMN CVTKAT NUMERIC(4, 0) NOT NULL DEFAULT 0,
  Varenummer       FOR COLUMN CVTVNU CHAR(8) NOT NULL DEFAULT ' ',
  Varetekst        FOR COLUMN CVTVTK CHAR(35) NOT NULL DEFAULT ' ',
  Leverandornummer FOR COLUMN CVTLNR NUMERIC(6, 0) NOT NULL DEFAULT 0,
  Leverandortekst  FOR COLUMN CVTLTK CHAR(30) NOT NULL DEFAULT ' ',
  Vareenhet        FOR COLUMN CVTENH CHAR(3) NOT NULL DEFAULT ' ',
  Visportal        FOR COLUMN CVTVIS CHAR(1) NOT NULL DEFAULT ' ',
  Varebilde        FOR COLUMN CVTBLD BLOB(20M) DEFAULT NULL,
  Varenotater      FOR COLUMN CVTNOT VARCHAR(2000) NOT NULL DEFAULT ' ',
  OpprettetDato    FOR COLUMN CVTODA DATE NOT NULL DEFAULT CURRENT_DATE,
  EndretDato       FOR COLUMN CVTEDA DATE NOT NULL DEFAULT CURRENT_DATE,
  EndretKl         FOR COLUMN CVTETI TIME NOT NULL DEFAULT CURRENT_TIME,
  EndretAv         FOR COLUMN CVTEUS CHAR(10) NOT NULL DEFAULT ' ')
ON REPLACE PRESERVE ALL ROWS;

ALTER TABLE CTVDST ADD CONSTRAINT CTVDPK PRIMARY KEY (UID);
CREATE UNIQUE INDEX CTVDIU
on CTVDST(CVTFIR,CVTKOD,CVTKAT,CVTVNU);
CREATE INDEX CTVDIR on CTVDST(CVTFIR,CVTKOD,CVTKAT,CVTVNU);
CREATE INDEX CTVDI1 on CTVDST(CVTFIR,CVTKOD);

LABEL ON TABLE CTVDST IS 'Tilvalgsvare detaljer';
