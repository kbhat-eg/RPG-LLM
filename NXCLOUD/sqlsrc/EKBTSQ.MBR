-- Kunde bonuselement

CREATE OR REPLACE TABLE EKBTST( 
 Firma               FOR COLUMN EKTFIR NUMERIC(3, 0) NOT NULL,
 Bonuskunde          FOR COLUMN EKTBKU NUMERIC(6, 0) NOT NULL,
 Bonustype           FOR COLUMN EKTBOT CHAR(2) DEFAULT ' ',
 Kundekategori       FOR COLUMN EKTKKA NUMERIC(4, 0) DEFAULT 0,
 Bonusgrunnlag       FOR COLUMN EKTBGR NUMERIC(11, 2) DEFAULT 0,
 SumBonus            FOR COLUMN EKTSBO NUMERIC(9, 0) DEFAULT 0,
 BeregnetDato        FOR COLUMN EKTBDA DATE NOT NULL DEFAULT '0001-01-01',
 FraDato             FOR COLUMN EKTFDA DATE DEFAULT '0001-01-01',
 TilDato             FOR COLUMN EKTTDA DATE DEFAULT '0001-01-01',
 OpprettetDato       FOR COLUMN EKTODA DATE NOT NULL DEFAULT CURRENT_DATE,
 OpprettetTid        FOR COLUMN EKTOTI TIME NOT NULL DEFAULT CURRENT_TIME,
 OpprettetAv         FOR COLUMN EKTOUS CHAR(10) NOT NULL DEFAULT ' ',
 EndretDato          FOR COLUMN EKTEDA DATE NOT NULL DEFAULT CURRENT_DATE,
 EndretTid           FOR COLUMN EKTETI TIME NOT NULL DEFAULT CURRENT_TIME,
 EndretAv            FOR COLUMN EKTEUS CHAR(10) NOT NULL DEFAULT ' ')
ON REPLACE PRESERVE ALL ROWS;

CREATE UNIQUE INDEX EKBTIU
	ON EKBTST (EKTFIR, EKTBKU, EKTBOT);

CREATE UNIQUE INDEX EKBTIR
	ON EKBTST (EKTFIR, EKTBKU, EKTBOT);

CREATE UNIQUE INDEX EKBTI1
	ON EKBTST (EKTFIR, EKTBKU, EKTBOT);

CREATE UNIQUE INDEX EKBTI2
	ON EKBTST (EKTFIR, EKTBOT, EKTBKU);

CREATE INDEX EKBTI3
	ON EKBTST (EKTFIR, EKTKKA, EKTBKU);

LABEL ON TABLE EKBTST
	IS 'Kunde bonustyper';
