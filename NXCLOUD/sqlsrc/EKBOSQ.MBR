-- Kunde bonus

CREATE OR REPLACE TABLE EKBOST( 
 Firma               FOR COLUMN EKFIRM NUMERIC(3, 0) NOT NULL,
 Bonuskunde          FOR COLUMN EKBKUN NUMERIC(6, 0) NOT NULL,
 Rabattkategori      FOR COLUMN EKRKAT NUMERIC(3, 0) DEFAULT 0,
 Kunde               FOR COLUMN EKKUND NUMERIC(6, 0) DEFAULT 0,
 Kundeprosjekt       FOR COLUMN EKKPRO NUMERIC(6, 0) DEFAULT 0,
 Overgruppe          FOR COLUMN EKOGRP NUMERIC(2, 0) DEFAULT 0,
 Hovedgruppe         FOR COLUMN EKHGRP NUMERIC(2, 0) DEFAULT 0,
 Undergruppe         FOR COLUMN EKUGRP NUMERIC(3, 0) DEFAULT 0,
 Leverandor          FOR COLUMN EKLDOR NUMERIC(6, 0) DEFAULT 0,
 Modulnr             FOR COLUMN EKMODN NUMERIC(8, 0) DEFAULT 0,
 Varenr              FOR COLUMN EKVARE CHAR(15) DEFAULT ' ',
 Enhet               FOR COLUMN EKENHE CHAR(3) DEFAULT ' ',
 Leveringstype       FOR COLUMN EKLETY NUMERIC(1, 0) DEFAULT 0,
 Bonustype           FOR COLUMN EKBOTY CHAR(2) DEFAULT ' ',
 FraDato             FOR COLUMN EKFDAT DATE DEFAULT '0001-01-01',
 TilDato             FOR COLUMN EKTDAT DATE DEFAULT '0001-01-01',
 Merknad             FOR COLUMN EKMERK CHAR(50) DEFAULT ' ',
 Bonusgrunnlag       FOR COLUMN EKBGRU NUMERIC(11, 2) DEFAULT 0,
 SumBonus            FOR COLUMN EKSBON NUMERIC(9, 0) DEFAULT 0,
 BeregnetDato        FOR COLUMN EKBDAT DATE NOT NULL DEFAULT '0001-01-01',
 BeregnetTid         FOR COLUMN EKBTIM TIME NOT NULL DEFAULT '00:00:00',
 Sperrekode          FOR COLUMN EKSPER NUMERIC(1, 0) DEFAULT 0,
 Bonusbyggende       FOR COLUMN EKEBYG NUMERIC(1, 0) DEFAULT 0,
 OpprettetDato       FOR COLUMN EKODAT DATE NOT NULL DEFAULT CURRENT_DATE,
 OpprettetTid        FOR COLUMN EKOTIM TIME NOT NULL DEFAULT CURRENT_TIME,
 OpprettetAv         FOR COLUMN EKOUSR CHAR(10) NOT NULL DEFAULT ' ',
 EndretDato          FOR COLUMN EKEDAT DATE NOT NULL DEFAULT CURRENT_DATE,
 EndretTid           FOR COLUMN EKETIM TIME NOT NULL DEFAULT CURRENT_TIME,
 EndretAv            FOR COLUMN EKEUSR CHAR(10) NOT NULL DEFAULT ' ')
ON REPLACE PRESERVE ALL ROWS;

CREATE UNIQUE INDEX EKBOIU
	ON EKBOST (EKFIRM, EKBKUN, EKRKAT, EKKUND, EKKPRO, EKOGRP, EKHGRP,
	           EKUGRP, EKLDOR, EKMODN, EKVARE, EKENHE, EKLETY, EKBOTY,
	           EKFDAT, EKTDAT);

CREATE UNIQUE INDEX EKBOIR
	ON EKBOST (EKFIRM, EKBKUN, EKRKAT, EKKUND, EKKPRO, EKOGRP, EKHGRP,
	           EKUGRP, EKLDOR, EKMODN, EKVARE, EKENHE, EKLETY, EKBOTY,
	           EKFDAT, EKTDAT);

CREATE UNIQUE INDEX EKBOI1
	ON EKBOST (EKFIRM, EKBKUN, EKRKAT, EKKUND, EKKPRO, EKOGRP, EKHGRP,
	           EKUGRP, EKLDOR, EKMODN, EKVARE, EKENHE, EKLETY, EKBOTY,
	           EKFDAT, EKTDAT);

CREATE INDEX EKBOI2
	ON EKBOST (EKFIRM, EKBKUN, EKKUND, EKKPRO, EKOGRP, EKHGRP, EKUGRP,
	           EKLDOR, EKMODN, EKVARE, EKENHE, EKLETY, EKBOTY, EKFDAT,
	           EKTDAT);

CREATE INDEX EKBOI3
	ON EKBOST (EKFIRM, EKBKUN, EKKPRO, EKRKAT, EKKUND, EKOGRP, EKHGRP,
	           EKUGRP, EKLDOR, EKMODN, EKVARE, EKENHE, EKLETY, EKBOTY,
	           EKFDAT, EKTDAT);

CREATE INDEX EKBOI4
	ON EKBOST (EKFIRM, EKBKUN, EKOGRP, EKHGRP, EKUGRP, EKRKAT, EKKUND,
	           EKKPRO, EKLDOR, EKMODN, EKVARE, EKENHE, EKLETY, EKBOTY,
	           EKFDAT, EKTDAT);

CREATE INDEX EKBOI5
	ON EKBOST (EKFIRM, EKBKUN, EKHGRP, EKUGRP, EKRKAT, EKKUND, EKKPRO,
	           EKOGRP, EKLDOR, EKMODN, EKVARE, EKENHE, EKLETY, EKBOTY,
	           EKFDAT, EKTDAT);

CREATE INDEX EKBOI6
	ON EKBOST (EKFIRM, EKBKUN, EKUGRP, EKRKAT, EKKUND, EKKPRO, EKOGRP,
            EKHGRP, EKLDOR, EKMODN, EKVARE, EKENHE, EKLETY, EKBOTY,
	           EKFDAT, EKTDAT);

CREATE INDEX EKBOI7
	ON EKBOST (EKFIRM, EKBKUN, EKLDOR, EKRKAT, EKKUND, EKKPRO, EKOGRP,
	           EKHGRP, EKUGRP, EKMODN, EKVARE, EKENHE, EKLETY, EKBOTY,
	           EKFDAT, EKTDAT);

CREATE INDEX EKBOI8
	ON EKBOST (EKFIRM, EKBKUN, EKMODN, EKRKAT, EKKUND, EKKPRO, EKOGRP,
	           EKHGRP, EKUGRP, EKLDOR, EKVARE, EKENHE, EKLETY, EKBOTY,
	           EKFDAT, EKTDAT);

CREATE INDEX EKBOI9
	ON EKBOST (EKFIRM, EKBKUN, EKVARE, EKENHE, EKLETY, EKRKAT, EKKUND,
	           EKKPRO, EKOGRP, EKHGRP, EKUGRP, EKLDOR, EKMODN, EKBOTY,
            EKFDAT, EKTDAT);

CREATE INDEX EKBOIA
	ON EKBOST (EKFIRM, EKBKUN, EKENHE, EKLETY, EKRKAT, EKKUND, EKKPRO,
	           EKOGRP, EKHGRP, EKUGRP, EKLDOR, EKMODN, EKVARE, EKBOTY,
	           EKFDAT, EKTDAT);

CREATE INDEX EKBOIB
	ON EKBOST (EKFIRM, EKBKUN, EKLETY, EKRKAT, EKKUND, EKKPRO, EKOGRP,
	           EKHGRP, EKUGRP, EKLDOR, EKMODN, EKVARE, EKENHE, EKBOTY,
	           EKFDAT, EKTDAT);

CREATE INDEX EKBOIC
	ON EKBOST (EKFIRM, EKBKUN, EKBOTY, EKRKAT, EKKUND, EKKPRO, EKOGRP,
	           EKHGRP, EKUGRP, EKLDOR, EKMODN, EKVARE, EKENHE, EKLETY,
	           EKFDAT, EKTDAT);

CREATE INDEX EKBOID
	ON EKBOST (EKFIRM, EKKUND, EKKPRO, EKBKUN);

LABEL ON TABLE EKBOST
	IS 'Kunde bonus';
