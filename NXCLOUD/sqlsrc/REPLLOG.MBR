CREATE OR REPLACE TABLE REPLLOG(
    uid         numeric(15, 0) NOT NULL
           GENERATED ALWAYS AS IDENTITY
           (START WITH 0 INCREMENT BY 1 CYCLE),
    replId      varchar(50) not null,
    firmakode   numeric(3, 0),
    entitet     varchar(30),
    entitet_id  varchar(150),
    message     varchar(2000),
    stacktrace  clob(10M),
    repl_type   varchar(10),
    kilde       varchar(50),
    kunde_log   numeric(1),
    status      varchar(10),
    run_time    timestamp,
    created     timestamp default current_timestamp,
    primary key(uid))
ON REPLACE PRESERVE ALL ROWS;

    create index repllog_entitetid_idx on REPLLOG(entitet_id);
    create index repllog_status_idx on REPLLOG(status);
    create index repllog_firmakode_idx on REPLLOG(firmakode);
    create index repllog_entitet_idx on REPLLOG(entitet);
    create index repllog_runtime_idx on REPLLOG(run_time);
    create index repllog_replid_idx on REPLLOG(replid);
    create index repllog_combined_1 on REPLLOG(
              firmakode, entitet, entitet_id, run_time);
    create index repllog_combined_2 on REPLLOG(
              firmakode, entitet, message,entitet_id, run_time);

    LABEL ON TABLE REPLLOG IS 'Replikeringslogg for 2dp';
