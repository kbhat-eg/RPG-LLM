-- ButikkLinjeSlettet

CREATE OR REPLACE TABLE BBSLST( 
 Firma              FOR COLUMN BSFIRM NUMERIC(3, 0) NOT NULL,
 Kasse              FOR COLUMN BSKASS CHAR(3) CCSID 277 NOT NULL,
 Ordretype          FOR COLUMN BSOTYP CHAR(2) CCSID 277 DEFAULT ' ',
 Avdeling           FOR COLUMN BSAVDE NUMERIC(4, 0) NOT NULL,
 Selger             FOR COLUMN BSSELG NUMERIC(4, 0) NOT NULL,
 Kunde              FOR COLUMN BSKUND NUMERIC(6, 0) NOT NULL,
 Kundeprosjekt      FOR COLUMN BSKPRO NUMERIC(6, 0) NOT NULL,
 Fakturakunde       FOR COLUMN BSFKUN NUMERIC(6, 0) NOT NULL,
 Navn               FOR COLUMN BSNAVN CHAR(35) CCSID 277 NOT NULL,
 Adresse1           FOR COLUMN BSADR1 CHAR(35) CCSID 277 NOT NULL,
 Adresse2           FOR COLUMN BSADR2 CHAR(35) CCSID 277 NOT NULL,
 Postnr             FOR COLUMN BSPONR CHAR(10) CCSID 277 NOT NULL,
 Poststed           FOR COLUMN BSSTED CHAR(35) CCSID 277 NOT NULL,
 Ordrerabatt        FOR COLUMN BSORRA NUMERIC(5, 2) NOT NULL,
 OrdrerabattBelop   FOR COLUMN BSORBE NUMERIC(9, 2) NOT NULL,
 Referanse          FOR COLUMN BSVREF CHAR(30) CCSID 277 NOT NULL,
 KundensReferanse   FOR COLUMN BSKREF CHAR(30) CCSID 277 NOT NULL,
 Rekvisisjonsnr     FOR COLUMN BSREKV CHAR(20) CCSID 277 NOT NULL,
 LeveringsDato      FOR COLUMN BSLDAT DATE NOT NULL,
 Leveringsmate      FOR COLUMN BSLMAT NUMERIC(2, 0) NOT NULL,
 LeveringsmateText  FOR COLUMN BSLMTX CHAR(20) CCSID 277 NOT NULL,
 IkkeFakturagebyr   FOR COLUMN BSIFGB NUMERIC(1, 0) NOT NULL,
 Prosjekt           FOR COLUMN BSPROJ NUMERIC(6, 0) NOT NULL,
 Aktivitet          FOR COLUMN BSAKTI CHAR(3) CCSID 277 DEFAULT ' ',
 Linjenr            FOR COLUMN BSBOLI NUMERIC(4, 0) NOT NULL,
 Leveringstype      FOR COLUMN BSLETY NUMERIC(1, 0) NOT NULL,
 Varenr             FOR COLUMN BSVARE CHAR(15) CCSID 277 NOT NULL,
 Varetekst1         FOR COLUMN BSTEK1 CHAR(35) CCSID 277 NOT NULL,
 Varetekst2         FOR COLUMN BSTEK2 CHAR(35) CCSID 277 NOT NULL,
 Enhet              FOR COLUMN BSENHE CHAR(3) CCSID 277 NOT NULL,
 Antall             FOR COLUMN BSANTA NUMERIC(11, 3) NOT NULL,
 Valuta             FOR COLUMN BSVALU CHAR(3) CCSID 277 NOT NULL,
 Salgspris          FOR COLUMN BSSAPR NUMERIC(9, 2) NOT NULL,
 Rabatt1            FOR COLUMN BSRAB1 NUMERIC(5, 2) NOT NULL,
 Rabatt2            FOR COLUMN BSRAB2 NUMERIC(5, 2) NOT NULL,
 BruksrettRabatt1   FOR COLUMN BSBRR1 NUMERIC(5, 2) NOT NULL,
 BruksrettRabatt2   FOR COLUMN BSBRR2 NUMERIC(5, 2) NOT NULL,
 Nettopris          FOR COLUMN BSNTPR NUMERIC(9, 2) NOT NULL,
 Kostpris           FOR COLUMN BSKOPR NUMERIC(9, 2) NOT NULL,
 Lager              FOR COLUMN BSLAGE NUMERIC(2, 0) NOT NULL,
 Serienr            FOR COLUMN BSSERI CHAR(20) CCSID 277 NOT NULL,
 Kommentar          FOR COLUMN BSKOMM CHAR(70) CCSID 277 NOT NULL,
 Priskode           FOR COLUMN BSKPRI CHAR(1) CCSID 277 NOT NULL,
 MvaKode            FOR COLUMN BSKMVA CHAR(1) CCSID 277 NOT NULL,
 Kampanje           FOR COLUMN BSKAMP CHAR(5) CCSID 277 NOT NULL,
 Almenning          FOR COLUMN BSALME NUMERIC(4, 0) NOT NULL,
 BruksrettType      FOR COLUMN BSBRTY NUMERIC(1, 0) NOT NULL,
 Privat             FOR COLUMN BSPRIV NUMERIC(1, 0) NOT NULL,
 TerminalRefnr      FOR COLUMN BSTREF NUMERIC(8, 0) NOT NULL,
 Ordrenr            FOR COLUMN BSORNR NUMERIC(8, 0) NOT NULL,
 OrdreSuffix        FOR COLUMN BSORSU NUMERIC(2, 0) NOT NULL,
 OrdreLinjenr       FOR COLUMN BSORLI NUMERIC(4, 0) NOT NULL,
 Bestillingsnr      FOR COLUMN BSBENR NUMERIC(8, 0) NOT NULL,
 BestillingSuffix   FOR COLUMN BSBESU NUMERIC(2, 0) NOT NULL,
 BestillingLinjenr  FOR COLUMN BSBELI NUMERIC(4, 0) NOT NULL,
 Gavekortnr         FOR COLUMN BSGANR CHAR(12) CCSID 277 NOT NULL,
 GavekortKundenr    FOR COLUMN BSGAKU NUMERIC(6, 0) NOT NULL,
 GavekortNavn       FOR COLUMN BSGANA CHAR(35) CCSID 277 NOT NULL,
 SumSalg            FOR COLUMN BSSUMS NUMERIC(11, 2) NOT NULL,
 SumRabatt          FOR COLUMN BSSUMR NUMERIC(11, 2) NOT NULL,
 SumNetto           FOR COLUMN BSSUMN NUMERIC(11, 2) NOT NULL,
 SumKost            FOR COLUMN BSSUMK NUMERIC(11, 2) NOT NULL,
 OverstyrtSalgspris FOR COLUMN BSOVSP NUMERIC(1, 0) NOT NULL,
 FraStatistikk      FOR COLUMN BSFSTA NUMERIC(1, 0) NOT NULL,
 OpprettetDato      FOR COLUMN BSODAT DATE NOT NULL DEFAULT CURRENT_DATE,
 OpprettetTid       FOR COLUMN BSOTIM TIME NOT NULL DEFAULT CURRENT_TIME,
 OpprettetAv        FOR COLUMN BSOUSR CHAR(10) CCSID 277 NOT NULL DEFAULT ' ',
 EndretDato         FOR COLUMN BSEDAT DATE NOT NULL DEFAULT CURRENT_DATE,
 EndretTid          FOR COLUMN BSETIM TIME NOT NULL DEFAULT CURRENT_TIME,
 EndretAv           FOR COLUMN BSEUSR CHAR(10) CCSID 277 NOT NULL DEFAULT ' ',
 SlettetKode        FOR COLUMN BSSKOD NUMERIC(1, 0) NOT NULL,
 RedusertAntall     FOR COLUMN BSRANT NUMERIC(11, 3) NOT NULL,
 SlettetDato        FOR COLUMN BSSDAT DATE NOT NULL DEFAULT CURRENT_DATE,
 SlettetTid         FOR COLUMN BSSTIM TIME NOT NULL DEFAULT CURRENT_TIME,
 SlettetAv          FOR COLUMN BSSUSR CHAR(10) CCSID 277 NOT NULL DEFAULT ' ')
ON REPLACE PRESERVE ALL ROWS;

CREATE INDEX BBSLI2
	ON BBSLST (BSFIRM, BSSDAT DESC, BSSUSR);

CREATE INDEX BBSLI3
	ON BBSLST (BSFIRM, BSSUSR, BSSDAT DESC);

CREATE INDEX BBSLI4
	ON BBSLST (BSFIRM, BSORNR, BSSDAT DESC, BSSUSR);

CREATE INDEX BBSLI5
	ON BBSLST (BSFIRM, BSTREF, BSSDAT DESC, BSSUSR);

LABEL ON TABLE BBSLST
	IS 'ButikkLinjeSlettet';
