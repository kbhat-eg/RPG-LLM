CREATE OR REPLACE TABLE CTVHST(
  UID              NUMERIC(15, 0) NOT NULL GENERATED ALWAYS AS IDENTITY
                   (START WITH 1 INCREMENT BY 1 CYCLE),
  Firma            FOR COLUMN CTVFIR NUMERIC(3, 0) NOT NULL DEFAULT 0,
  Tilvalgskategori FOR COLUMN CTVKOD CHAR(15) NOT NULL DEFAULT ' ',
  Beskrivelse      FOR COLUMN CTVBES CHAR(30) NOT NULL DEFAULT ' ',
  OpprettetDato    FOR COLUMN CKHODA DATE NOT NULL DEFAULT CURRENT_DATE,
  EndretDato       FOR COLUMN CKHEDA DATE NOT NULL DEFAULT CURRENT_DATE,
  EndretKl         FOR COLUMN CKHETI TIME NOT NULL DEFAULT CURRENT_TIME,
  EndretAv         FOR COLUMN CKHEUS CHAR(10) NOT NULL DEFAULT ' ')
ON REPLACE PRESERVE ALL ROWS;

ALTER TABLE CTVHST ADD CONSTRAINT CTVHPK PRIMARY KEY (UID);
ALTER TABLE CTVDST ADD CONSTRAINT CTVDFK FOREIGN  KEY (CTVHST_UID)
REFERENCES CTVHST(UID);
CREATE UNIQUE INDEX CTVHIU on CTVHST(CTVFIR,CTVKOD);
CREATE INDEX CTVHIR on CTVHST(CTVFIR,CTVKOD);
CREATE INDEX CTVHI1 on CTVHST(CTVFIR,CTVKOD);

LABEL ON TABLE CTVHST IS 'Tilvalgsvare Hode';
