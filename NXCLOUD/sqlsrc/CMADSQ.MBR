CREATE OR REPLACE TABLE CMADST(
  UID              NUMERIC(15, 0) NOT NULL GENERATED ALWAYS AS IDENTITY
                   (START WITH 1 INCREMENT BY 1 CYCLE),
  CMAHST_UID       NUMERIC(15, 0) NOT NULL ,
  Firma            FOR COLUMN CMDFIR NUMERIC(3, 0) NOT NULL DEFAULT 0,
  Malkode          FOR COLUMN CMDKOD CHAR(15) NOT NULL DEFAULT ' ',
  Fase             FOR COLUMN CMDFAS CHAR(4) NOT NULL DEFAULT ' ',
  Fasetekst        FOR COLUMN CMDFTK CHAR(35) NOT NULL DEFAULT ' ',
  Kategori         FOR COLUMN CMDKAT CHAR(4) NOT NULL DEFAULT ' ' ,
  Kategoritekst    FOR COLUMN CMDKTK CHAR(35) NOT NULL DEFAULT ' ',
  Varenummer       FOR COLUMN CMDVNU CHAR(8) NOT NULL DEFAULT ' ',
  Varetekst        FOR COLUMN CMDVTK CHAR(35) NOT NULL DEFAULT ' ',
  Leverandornummer FOR COLUMN CMDLNR NUMERIC(6, 0) NOT NULL DEFAULT 0,
  Leverandortekst  FOR COLUMN CMDLTK CHAR(30) NOT NULL DEFAULT ' ',
  Vareenhet        FOR COLUMN CMDENH CHAR(3) NOT NULL DEFAULT ' ',
  Volum            FOR COLUMN CMDVLM NUMERIC(8, 0) NOT NULL DEFAULT 0,
  OpprettetDato    FOR COLUMN CMDODA DATE NOT NULL DEFAULT CURRENT_DATE,
  EndretDato       FOR COLUMN CMDEDA DATE NOT NULL DEFAULT CURRENT_DATE,
  EndretKl         FOR COLUMN CMDETI TIME NOT NULL DEFAULT CURRENT_TIME,
  EndretAv         FOR COLUMN CMDEUS CHAR(10) NOT NULL DEFAULT ' ')
ON REPLACE PRESERVE ALL ROWS;

ALTER TABLE CMADST ADD CONSTRAINT CMADPK PRIMARY KEY (UID);
-- ALTER TABLE CMADST ADD CONSTRAINT CMADEK FOREIGN  KEY (CMDFAS)
-- REFERENCES CFASST(CFAFAS);
CREATE UNIQUE INDEX CMADIU
on CMADST(CMDFIR,CMDKOD,CMDFAS,CMDKAT,CMDLNR,CMDVNU,CMDENH);
CREATE INDEX CMADIR on CMADST(CMDFIR,CMDKOD);
CREATE INDEX CMADI1 on CMADST(CMDFIR,CMDKOD,CMDFAS,CMDKAT);

LABEL ON TABLE CMADST IS 'Mal Detaljer';
