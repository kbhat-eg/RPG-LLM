CREATE OR REPLACE TABLE VGKPST(
  UID              FOR COLUMN VGLUID NUMERIC(18, 0) NOT NULL
                   GENERATED ALWAYS AS IDENTITY
                   (START WITH 1 INCREMENT BY 1 CYCLE),
  Firma            FOR COLUMN VGFIRM NUMERIC(3, 0) NOT NULL,
  Lager            FOR COLUMN VGLAGE NUMERIC(2, 0) NOT NULL,
  Historikkode     FOR COLUMN VGHKOD CHAR(1) NOT NULL,
  Varenummer       FOR COLUMN VGVARE CHAR(15) NOT NULL DEFAULT ' ',
  DatoGjfra        FOR COLUMN VGGDAT DATE NOT NULL DEFAULT CURRENT_DATE,
  TimeGjfra        FOR COLUMN VGGTIM TIME NOT NULL DEFAULT CURRENT_TIME,
  Lagerenhet       FOR COLUMN VGENHE CHAR(3) NOT NULL,
  Kostpris         FOR COLUMN VGCOST NUMERIC(9, 2) NOT NULL,
  Bestilling       FOR COLUMN VGBEST NUMERIC(8, 0) NOT NULL,
  Suffix           FOR COLUMN VGSUFF NUMERIC(2, 0) NOT NULL,
  Linje            FOR COLUMN VGLINE NUMERIC(4, 0) NOT NULL,
  Gmlsnittpris     FOR COLUMN VGGMKP NUMERIC(9, 2) NOT NULL,
  Kalkpris         FOR COLUMN VGINKP NUMERIC(9, 2) NOT NULL,
  Priskode         FOR COLUMN VGPKOD CHAR(1) NOT NULL,
  Kalkantall       FOR COLUMN VGANTA NUMERIC(11, 3) NOT NULL,
  Kalkbeholdning   FOR COLUMN VGBEHL NUMERIC(11, 3) NOT NULL,
  DatoBeregn       FOR COLUMN VGBDAT DATE NOT NULL DEFAULT CURRENT_DATE,
  TypeBeregn       FOR COLUMN VGTYPE CHAR(1) NOT NULL DEFAULT ' ',
  TidBeregn        FOR COLUMN VGTTIM TIME NOT NULL DEFAULT CURRENT_TIME,
  BeregnetAv       FOR COLUMN VGBUSR CHAR(10) NOT NULL DEFAULT ' ')
ON REPLACE PRESERVE ALL ROWS;

LABEL ON TABLE VGKPST IS 'Gj.snitt kostpris pr.vare';

CREATE UNIQUE INDEX VGKPIU ON VGKPST(VGFIRM,VGLAGE,VGHKOD,VGVARE,VGGDAT,VGGTIM);
CREATE INDEX VGKPIR ON VGKPST(VGFIRM,VGLAGE,VGHKOD,VGVARE,VGGDAT,VGGTIM);
CREATE INDEX VGKPI1 ON VGKPST(VGFIRM,VGLAGE,VGHKOD,VGVARE,VGGDAT,VGGTIM DESC);
CREATE INDEX VGKPI2 ON VGKPST(VGFIRM,VGLAGE,VGHKOD,VGVARE,
                       VGGDAT DESC,VGGTIM DESC);
CREATE INDEX VGKPI3 ON VGKPST(VGFIRM,VGLAGE,VGVARE,
                       VGGDAT DESC,VGGTIM DESC, VGHKOD);

