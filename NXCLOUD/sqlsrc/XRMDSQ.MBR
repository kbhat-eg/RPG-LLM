CREATE OR REPLACE TABLE XRMDST(
  UID              NUMERIC(15, 0) NOT NULL GENERATED ALWAYS AS IDENTITY
                   (START WITH 1 INCREMENT BY 1 CYCLE),
  Firmanr          FOR COLUMN XMFIRM NUMERIC(3, 0) NOT NULL,
  Batch            FOR COLUMN XMBATC CHAR(50) NOT NULL,
  Key              FOR COLUMN XMMKEY CHAR(20) NOT NULL,
  Value            FOR COLUMN XMMVAL VARCHAR(256) NOT NULL,
  OpprettetDato    FOR COLUMN XMODAT DATE NOT NULL DEFAULT CURRENT_DATE,
  OpprettetKl      FOR COLUMN XMOTIM TIME NOT NULL DEFAULT CURRENT_TIME,
  EndretDato       FOR COLUMN XMEDAT DATE NOT NULL DEFAULT CURRENT_DATE,
  EndretKl         FOR COLUMN XMETIM TIME NOT NULL DEFAULT CURRENT_TIME,
  OpprettetAv      FOR COLUMN XMOUSR CHAR(10) NOT NULL DEFAULT ' ',
  EndretAv         FOR COLUMN XMEUSR CHAR(10) NOT NULL DEFAULT ' ')
ON REPLACE PRESERVE ALL ROWS;

ALTER TABLE XRMDST ADD CONSTRAINT XRMDPK PRIMARY KEY (UID);
CREATE UNIQUE INDEX XRMDIU ON XRMDST(XMFIRM, XMBATC, XMMKEY, XMMVAL);
CREATE INDEX XRMDI1 ON XRMDST(XMFIRM, XMBATC);

LABEL ON TABLE XRMDST IS 'Arkiv, metadata';
