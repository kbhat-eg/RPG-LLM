-- ButikkGavekort

CREATE OR REPLACE TABLE BGAVST( 
 Firma                   FOR COLUMN BGFIRM NUMERIC(3, 0) NOT NULL,
 Gavekortnr              FOR COLUMN BGGAVE CHAR(12) NOT NULL CCSID 277,
 Kunde                   FOR COLUMN BGKUND NUMERIC(6, 0),
 Navn                    FOR COLUMN BGNAVN CHAR(35) CCSID 277,
 OpprinneligBelop        FOR COLUMN BGOBEL NUMERIC(7, 0),
 GjenstaendeBelop        FOR COLUMN BGGBEL NUMERIC(9, 2),
 Bongnr                  FOR COLUMN BGBONG CHAR(12) NOT NULL,
 OpprettetDato           FOR COLUMN BGODAT DATE NOT NULL DEFAULT CURRENT_DATE,
 OpprettetTid            FOR COLUMN BGOTIM TIME NOT NULL DEFAULT CURRENT_TIME,
 OpprettetAv             FOR COLUMN BGOUSR CHAR(10) CCSID 277
                                           NOT NULL DEFAULT ' ',
 EndretDato              FOR COLUMN BGEDAT DATE NOT NULL DEFAULT CURRENT_DATE,
 EndretTid               FOR COLUMN BGETIM TIME NOT NULL DEFAULT CURRENT_TIME,
 EndretAv                FOR COLUMN BGEUSR CHAR(10) CCSID 277
                                           NOT NULL DEFAULT ' ')
ON REPLACE PRESERVE ALL ROWS;

CREATE UNIQUE INDEX BGAVI1
	ON BGAVST (BGFIRM, BGGAVE);

CREATE INDEX BGAVI2
	ON BGAVST (BGFIRM, BGODAT DESC, BGGAVE);

CREATE INDEX BGAVI3
	ON BGAVST (BGFIRM, BGKUND, BGODAT DESC);

CREATE INDEX BGAVI4
	ON BGAVST (BGFIRM, BGNAVN, BGODAT DESC, BGGAVE);

CREATE UNIQUE INDEX BGAVIR
	ON BGAVST (BGFIRM, BGGAVE);

CREATE UNIQUE INDEX BGAVIU
	ON BGAVST (BGFIRM, BGGAVE);

LABEL ON TABLE BGAVST
	IS 'ButikkGavekort';
