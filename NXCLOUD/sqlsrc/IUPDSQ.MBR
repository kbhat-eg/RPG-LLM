CREATE OR REPLACE TABLE IUPDST(
  UID              INTEGER GENERATED ALWAYS AS IDENTITY,
  Company          FOR COLUMN IUFIRM NUMERIC(3, 0) NOT NULL,
  OppdatertDato    FOR COLUMN IUODAT DATE NOT NULL DEFAULT CURRENT_DATE,
  OppdatertKl      FOR COLUMN IUOTIM TIME NOT NULL DEFAULT CURRENT_TIME,
  OppdatertAv      FOR COLUMN IUOUSR CHAR(10) NOT NULL DEFAULT 'NAVSYSTEM',
  Program          FOR COLUMN IUPROG CHAR(40) NOT NULL,
  Command          FOR COLUMN IUCOMD CHAR(20) NOT NULL,
  Params           FOR COLUMN IUPARM VARCHAR(2048) NOT NULL)
ON REPLACE PRESERVE ALL ROWS;

ALTER TABLE IUPDST ADD CONSTRAINT IU_UID PRIMARY KEY (UID);

CREATE INDEX IUPDI1
	ON IUPDST (IUFIRM, IUODAT DESC, IUOTIM DESC);
CREATE INDEX IUPDIR
	ON IUPDST (UID);

LABEL ON TABLE IUPDST IS 'Oppdaterte tranksaksjoner fra NAV';
