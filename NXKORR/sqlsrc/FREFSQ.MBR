CREATE OR REPLACE TABLE FREFST(
  UID              FOR COLUMN FFGUID NUMERIC(18, 0) NOT NULL
                   GENERATED ALWAYS AS IDENTITY
                   (START WITH 1 INCREMENT BY 1 CYCLE),
  Firma            FOR COLUMN FFFIRM NUMERIC(3, 0) NOT NULL,
  ExternalSystem   FOR COLUMN FFESYS CHAR(5) NOT NULL DEFAULT ' ',
  ExternalNumber   FOR COLUMN FFENBR VARCHAR(256) NOT NULL DEFAULT ' ',
  NXOrderNumber    FOR COLUMN FFNUMM NUMERIC(12, 0) NOT NULL,
  NXOrderSuffix    FOR COLUMN FFSUFF NUMERIC(2, 0) NOT NULL,
  OpprettetDato    FOR COLUMN FFODAT DATE NOT NULL DEFAULT CURRENT_DATE,
  OpprettetTid     FOR COLUMN FFOTIM TIME NOT NULL DEFAULT CURRENT_TIME,
  OpprettetAv      FOR COLUMN FFOUSR CHAR(10) NOT NULL DEFAULT ' ',
  SistEndretDat    FOR COLUMN FFEDAT DATE NOT NULL DEFAULT CURRENT_DATE,
  SistEndretTid    FOR COLUMN FFETIM TIME NOT NULL DEFAULT CURRENT_TIME,
  EndretAv         FOR COLUMN FFEUSR CHAR(10) NOT NULL DEFAULT ' ')
ON REPLACE PRESERVE ALL ROWS;

LABEL ON TABLE FREFST IS 'Crossref file to external systems';

CREATE UNIQUE INDEX FREFIU ON FREFST(FFFIRM,FFESYS,FFENBR);
CREATE INDEX FREFIR ON FREFST(FFFIRM,FFESYS,FFENBR);
CREATE INDEX FREFI1 ON FREFST(FFFIRM,FFESYS,FFENBR);
CREATE INDEX FREFI2 ON FREFST(FFFIRM,FFNUMM,FFSUFF);
